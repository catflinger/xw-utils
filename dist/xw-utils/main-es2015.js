(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./$$_lazy_route_resource lazy recursive":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/diary/diary.component.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/diary/diary.component.html ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row mt-3\">\n    <div class=\"col\">\n        <h4>Google diary entries</h4>\n        <table class=\"table mt-3\"  *ngIf=\"entries\">\n            <thead>\n                <tr>\n                    <th>Date</th>\n                    <th>Blogger</th>\n                    <th>Puzzle</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                <tr *ngFor=\"let entry of entries\">\n                    <td>{{entry.solveDate | date : \"fullDate\"}}</td>\n                    <td>{{entry.solver}}</td>\n                    <td>{{entry.provider}}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<div class=\"row mt-5\" *ngIf=\"entries\">\n    <div class=\"col\">\n        <app-diary-settings-editor></app-diary-settings-editor>\n    </div>\n</div>\n\n<div class=\"row mt-5\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onRefresh()\">Refresh</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/home/home.component.html":
/*!***********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/home/home.component.html ***!
  \***********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"appStatus\" class=\"row mt-5\">\n    <div class=\"col\">\n        <p>\n            Welcome to the fifteensquared crossword utilities.\n            This application allows you to solve crosswords online and helps you create a blog for\n            <a href=\"http://fifteensquared.net/\" target=\"fifteensquared\">fifteensquared</a>.\n            To get started <span *ngIf=\"!credentials.authenticated\">first <a routerLink=\"/login\">login</a>.  You can then</span> download\n            the most recent puzzle from the Latest menu above. Puzzles for other dates can be found from the Archive menu.\n        </p>\n    </div>\n</div>\n\n<ng-container *ngIf=\"appStatus && puzzleList\">\n    <div class=\"row mt-3\">\n        <div class=\"col\">\n            <h4>Saved puzzles</h4>\n            <table class=\"table mt-3\">\n                <thead>\n                    <tr>\n                        <th>Setter</th>\n                        <th>Title</th>\n                        <th>Date</th>\n                        <th></th>\n                        <th colspan=\"2\">Actions</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr *ngFor=\"let info of puzzleList\">\n                        <td>{{info.setter}}</td>\n                        <td>{{info.title}}</td>\n                        <td>{{info.puzzleDate | date : \"fullDate\"}}</td>\n                        <td>{{info.wordpressId | wordpressId}}</td>\n                        <td><button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onOpenSaved(info.id)\">Open</button></td>\n                        <td><button type=\"button\" class=\"btn btn-primary\" (click)=\"onDelete(info.id)\">Delete</button>\n                    </tr>\n\n                </tbody>\n            </table>\n\n            <app-tip *ngIf=\"puzzleList && puzzleList.length === 0\" key=\"general\">You have no saved puzzles. Open a puzzle from the <em>Puzzle</em> menu to get started.</app-tip>\n\n        </div>\n    </div>\n</ng-container>\n\n<ng-container *ngIf=\"appStatus && gridList &&  gridList.length > 0\">\n    <div class=\"row mt-3\">\n        <div class=\"col\">\n            <h4>Saved grids</h4>\n            <table class=\"table mt-3\">\n                <thead>\n                    <tr>\n                        <th>Title</th>\n                        <th>Date</th>\n                        <th></th>\n                        <th colspan=\"2\">Actions</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr *ngFor=\"let info of gridList\">\n                        <td>{{info.title}}</td>\n                        <td>{{info.puzzleDate | date : \"fullDate\"}}</td>\n                        <td>{{info.wordpressId | wordpressId}}</td>\n                        <td><button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onOpenSavedGrid(info.id)\">Open</button></td>\n                        <td><button type=\"button\" class=\"btn btn-primary\" (click)=\"onDelete(info.id)\">Delete</button>\n                    </tr>\n\n                </tbody>\n            </table>\n        </div>\n    </div>\n</ng-container>\n\n\n\n<!-- <button class=\"btn btn-primary\" (click)=\"test()\">TEST</button> result = {{result}} -->");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/login/login.component.html":
/*!*************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/login/login.component.html ***!
  \*************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3>Login</h3>\n<p>Enter your fifteensquared username and password <span *ngIf=\"settings.sandbox\">(Using Sandbox)</span></p>\n\n<app-login-control *ngIf=\"appStatus\" (close)=\"onLoginClose()\"></app-login-control>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/readme/readme.component.html":
/*!***************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/readme/readme.component.html ***!
  \***************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h3>Readme</h3>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h5>Browser compatibility</h5>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row justify-content-center\">\r\n    <div class=\"col\">\r\n        <p> So far I have run the application successfully with <strong>Chrome</strong>,\r\n            <strong>Firefox</strong>,\r\n            <strong>Opera</strong>, <strong>Edge</strong> and <strong>Safari (iOS)</strong> browsers. I have also used the application successfully on a\r\n            mobile phone running Android with Chrome.\r\n        </p>\r\n        <p>\r\n            The application will function on <strong>Internet Explorer 11</strong> on Windows but has display issues where\r\n            the text and images overlap on some screen sizes.\r\n        </p>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h5>Known issues</h5>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row justify-content-center\">\r\n    <div class=\"col\">\r\n        <pre>\r\nthe clue editor misinterprets letter counts like (6, 2 words) as _ _ _ _ _ _ / _ _\r\n\r\nIn the solver pressing ESC should cancel any highlighting\r\n\r\nWhen failing to download a puzzle distinguish between \"not found\" and general errors.  For example: when trying\r\nto open future puzzles in the Independent they may not be there yet.  This is not an error, so show a more appropriate \r\nerror message.\r\n\r\nSometimes the app does not correctly distinguish between a password mismatch and a network error, both show same message.\r\n\r\nGoogle diary shows wrong error message. If the user is not loggin in \"Failed to get diary\" is shown instead of \"Please log-in and try again\".\r\n\r\n        </pre>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h5>Ideas for improvements</h5>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row justify-content-center\">\r\n    <div class=\"col\">\r\n        <pre>\r\n\r\nIn the Solver screen make the clue editor moveable so that it does not obscure the grid.\r\n\r\nAdd a \"remember me\" cookie\r\n\r\nAdd a help tip somewhere to say that puzzles are automatically saved.  Also mention that saved puzzles are lost\r\nif you delete your browser history.\r\n\r\nAdd a backup feature so users can save/restore from a backup (if they want to delete their history)\r\n\r\nSort out return, tab, esc etc in editor so that it is easy to add solution and comments without using the mouse\r\n\r\nAdd a carte blanch tool\r\n\r\nAdd \"insert image from URL\" to clue and preamble editors\r\n\r\nInvestigate using REST API instead of XML-RPC - investigate adding OpenAuth to fifteensquared\r\n\r\nCreate favicon for the app - get Jessica to do this?\r\n\r\nLog usage statistics somewhere\r\n\r\nAdd a feedback facility somewhere. This could be permanent or just for the remainder of the development.\r\nPerhaps just a link to an email address?  Perhaps a page in the app where users can see the feedback\r\nfrom other users too.\r\n\r\nSend client-side errors to drurys.org for analysis (opt-in)\r\n        </pre>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/settings/settings.component.html":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/settings/settings.component.html ***!
  \*******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3 class=\"mt-3\">Settings</h3>\n\n<form [formGroup]=\"form\" class=\"form\">\n\n    <h5 class=\"mt-5\">Footer</h5>\n\n    <div class=\"form-group\">\n        <p>To be displayed at the bottom of your posts</p>\n        <quill-editor formControlName=\"footer\" format=\"object\"></quill-editor>\n    </div>\n    \n    <h5 class=\"mt-5\">Solving and blogging options</h5>\n\n    <div formGroupName=\"general\">\n        <div class=\"form-check\" *ngFor=\"let key of generalKeys\">\n            <input type=\"checkbox\" class=\"form-check-input\" [formControlName]=\"key\">\n            <label class=\"form-check-label\">{{settings.general[key].caption}}</label>\n        </div>\n    </div>\n\n    <h5 class=\"mt-5\">Help tips</h5>\n\n    <div formGroupName=\"tips\">\n        <div class=\"form-check\" *ngFor=\"let key of tipKeys\">\n            <input type=\"checkbox\" class=\"form-check-input\" [formControlName]=\"key\">\n            <label class=\"form-check-label\">{{settings.tips[key].caption}}</label>\n        </div>\n    </div>\n\n    <h5 class=\"mt-5\">Publication options</h5>\n    <ngb-alert type=\"warning\" *ngIf=\"form.value.sandbox\" [dismissible]=\"false\">\n        <p>WARNING: posts will be published to the sandbox only.</p>\n        <p>Your post will <i>not</i> appear on fifteensquared.net.</p>\n    </ngb-alert>\n    <div class=\"form-check\">\n        <input type=\"checkbox\" class=\"form-check-input\" formControlName=\"sandbox\">\n        <label class=\"form-check-label\">post to sandbox (for testing)</label>\n    </div>\n\n    <div class=\"formGroup mt-5\">\n        <button class=\"btn btn-primary mr-3\" type=\"button\" (click)=\"onSave()\">Save</button>\n        <button class=\"btn btn-primary mr-3\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"onReset()\">Reset all</button>\n    </div>\n\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app/app.component.html":
/*!*********************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app/app.component.html ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"appStatus\" class=\"container\" style=\"padding-left: 0; padding-right: 0;\">\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col\">\r\n\r\n            <nav class=\"navbar navbar-expand-md navbar-dark bg-primary\">\r\n\r\n                <ul class=\"navbar-nav mr-auto\">\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" (click)=\"onHome()\">Home</a>\r\n                    </li>\r\n                </ul>\r\n                <button class=\"navbar-toggler hidden-sm-up\" type=\"button\"\r\n                    (click)=\"isNavbarCollapsed = !isNavbarCollapsed\" data-target=\"#navbarsDefault\"\r\n                    aria-controls=\"navbarsDefault\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                    <span class=\"navbar-toggler-icon\"></span>\r\n                </button>\r\n\r\n                <div [ngbCollapse]=\"isNavbarCollapsed\" class=\"collapse navbar-collapse\" id=\"navbarsDefault\">\r\n                    <ul class=\"navbar-nav mr-auto\">\r\n\r\n                        <li class=\"nav-item dropdown\" ngbDropdown>\r\n                            <button class=\"btn btn-link nav-link dropdown-toggle\" id=\"id01\" ngbDropdownToggle>Puzzles</button>\r\n                            <div class=\"dropdown-menu\" aria-labelledby=\"id01\" ngbDropdownMenu>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('azed')\">Azed</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('ft')\">FT</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('independent')\">Independent</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('cryptic')\">Guardian</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('prize')\">Guardian Prize</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('quiptic')\">Guardian Quiptic</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('everyman')\">Everyman</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onArchive('special')\">Special</button>\r\n                            </div>\r\n                        </li>\r\n\r\n                        <li class=\"nav-item dropdown\" ngbDropdown>\r\n                            <button class=\"btn btn-link nav-link dropdown-toggle\" id=\"id02\" ngbDropdownToggle>Tools</button>\r\n                            <div class=\"dropdown-menu\" aria-labelledby=\"id02\" ngbDropdownMenu>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onGrid()\">Grid editor</button>\r\n                                <button class=\"dropdown-item btn btn-link\" (click)=\"onGoTo('diary')\">Diary</button>\r\n                            </div>\r\n                        </li>\r\n\r\n                        <li class=\"nav-item\">\r\n                            <button type=\"button\" class=\"nav-link btn btn-link\" (click)=\"onGoTo('settings')\">Settings</button>\r\n                        </li>\r\n\r\n                        <li class=\"nav-item\">\r\n                            <button type=\"button\" class=\"nav-link btn btn-link\" (click)=\"onGoTo('readme')\">Readme</button>\r\n                        </li>\r\n\r\n                        <li class=\"nav-item\" *ngIf=\"!credentials.authenticated\">\r\n                            <button type=\"button\" class=\"nav-link btn btn-link\" (click)=\"onGoTo('login')\">Login</button>\r\n                        </li>\r\n\r\n                        <li class=\"nav-item\" *ngIf=\"credentials.authenticated\">\r\n                            <button type=\"button\" class=\"nav-link btn btn-link\" (click)=\"onLogout()\">Logout</button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n\r\n            <app-alert></app-alert>\r\n        </div>\r\n    </div>\r\n\r\n    <router-outlet ></router-outlet>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/alert/alert.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/alert/alert.component.html ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p *ngIf=\"appStatus.late\">\n    <ngb-alert type=\"info\">Working...</ngb-alert>\n</p>\n<p *ngFor=\"let alert of appStatus.alerts\">\n    <ngb-alert [type]=\"alert.type\" (close)=\"onClose()\">{{ alert.message }}</ngb-alert>\n</p>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-editor/clue-editor.component.html":
/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-editor/clue-editor.component.html ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"clue && appSettings\">\r\n    <form [formGroup]=\"form\">\r\n\r\n        <div class=\"container\">\r\n\r\n            <div class=\"row align-items-center\">\r\n                <div class=\"col\"><span class=\"\">{{clue.caption}}</span></div>\r\n                <div class=\"coltext-right\">\r\n                    <button type=\"button\" class=\"btn btn-link\"\r\n                        *ngIf=\"appSettings.general.showCommentEditor.enabled && hasDefinition()\"\r\n                        (click)=\"onClearDefinition()\">clear\r\n                        definition</button></div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <h4>\r\n                        <app-clue-text-control formControlName=\"chunks\" (change)=\"onChange()\"\r\n                            [ngClass]=\"{ 'hidden': !appSettings.general.showCommentEditor.enabled }\">\r\n                        </app-clue-text-control>\r\n                        <span\r\n                            [ngClass]=\"{ 'hidden': appSettings.general.showCommentEditor.enabled }\">{{clue.text}}</span>\r\n                    </h4>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col\">\r\n                    <app-tip key=\"definitionWarning\" (instance)=\"onTipInstance($event)\" maxActivations=\"1\">\r\n                        You have not highlighted the definition yet.\r\n                        To highlight the definition clue select part of the clue text using your mouse or other pointing\r\n                        device.\r\n                    </app-tip>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n            <h4 class=\"spacey\">\r\n                <span *ngFor=\"let chunk of latestAnswer\" [ngClass]=\"chunk.klass\">{{chunk.letter}}</span>\r\n            </h4>\r\n        </div>\r\n\r\n        <div class=\"modal-body\">\r\n                <app-tip group=\"none\" [suppressable]=\"false\" *ngIf=\"showAnnotation\">{{clue.annotation}}</app-tip>\r\n            <div class=\"form-group\">\r\n                <div class=\"float-left\"><label for=\"answer\">Answer</label></div>\r\n                <div class=\"float-right\" *ngIf=\"clue.solution && appSettings.general.showCheat.enabled\">\r\n                    <button type=\"button\" class=\"btn btn-link\" (click)=\"onCheat()\">cheat</button>\r\n                    <button type=\"button\" class=\"btn btn-link\" (click)=\"onAnnotation()\" *ngIf=\"clue.annotation\">annotation</button>\r\n                </div>\r\n\r\n                <input id=\"answer\" name=\"answer\" class=\"form-control\" ngbAutofocus formControlName=\"answer\" (input)=\"onChange()\">\r\n            </div>\r\n\r\n            <div class=\"form-group mb-0\">\r\n                <div class=\"clearfix\">\r\n                    <label class=\"inline-block float-left\" [ngClass]=\"{ 'hidden': !appSettings.general.showCommentEditor.enabled }\" for=\"comment\">Comment</label>\r\n\r\n                    <button type=button class=\"btn btn-link m-0 p-0 float-right\" (click)=\"onToggleComment()\">\r\n                        <span *ngIf=\"!appSettings.general.showCommentEditor.enabled\">show comment</span>\r\n                        <span *ngIf=\"appSettings.general.showCommentEditor.enabled\">hide comment</span>\r\n                    </button>\r\n                </div>\r\n                \r\n                <div [ngClass]=\"{ 'hidden': !appSettings.general.showCommentEditor.enabled }\">\r\n                    <quill-editor id=\"comment\" formControlName=\"comment\" format=\"object\" (onContentChanged)=\"onChange()\"></quill-editor>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"modal-footer\">\r\n            <div class=\"text-warning\" *ngIf=\"showTextWarning\">\r\n                <span> {{warnings[0]}}</span>\r\n            </div>\r\n\r\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"onSave()\">Save</button>\r\n            <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"onCancel()\">Cancel</button>\r\n\r\n\r\n        </div>\r\n    </form>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list-item/clue-list-item.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list-item/clue-list-item.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<td class=\"caption\">{{clue.caption}}</td>\n<td [ngClass]=\"klasses\">{{clue.text}}</td>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list/clue-list.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list/clue-list.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"clues.length\">\n\n    <h3>{{direction}}</h3>\n\n    <table>\n        <tbody>\n            <tr *ngFor=\"let clue of clues\" (click)=\"onClueClick(clue)\">\n                <app-clue-list-item [clue]=\"clue\"></app-clue-list-item>\n            </tr>\n        </tbody>\n    </table>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<span #span *ngIf=\"chunk\" [ngClass]=\"cssClass()\" (mouseup)=\"onMouseUp()\">{{chunk.text}}</span>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-control/clue-text-control.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-control/clue-text-control.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n    <app-clue-text-chunk *ngFor=\"let chunk of chunks\" [chunk]=\"chunk\" (chunkMouseUp)=\"onChunkMouseUp()\"></app-clue-text-chunk>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text/clue-text.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text/clue-text.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"clue\">\n    <span *ngFor=\"let chunk of clue.chunks\" [ngStyle]=\"makeChunkStyle(chunk)\">{{chunk.text}}</span>\n</ng-container>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clues-preview/clues-preview.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clues-preview/clues-preview.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"includeGrid\">\n    <app-grid [options]=\"{ readonly: true, showShading: true }\"></app-grid>\n</div>\n\n<table *ngIf=\"clues && publishOptions.layout === 'table'\">\n    <ng-container *ngFor=\"let clue of clues\">\n        <tr>\n            <td [ngClass]=\"tdClass\">\n                <span class=\"text-nowrap\" [ngStyle]=\"makeClueStyle()\">{{clue.caption}} </span>\n            </td>\n            <td [ngClass]=\"tdClass\">\n                <span class=\"text-nowrap\" [ngStyle]=\"makeAnswerStyle()\">{{clue.answer}} </span>\n            </td>\n            <td [ngClass]=\"tdClass\">\n                <app-clue-text [clue]=\"clue\" [publishOptions]=\"publishOptions\"></app-clue-text>\n            </td>\n        </tr>\n        <tr>\n            <td [ngClass]=\"tdClass\"></td>\n            <td [ngClass]=\"tdClass\"></td>\n            <td [ngClass]=\"tdClass\">\n                    <quill-view [content]=\"clue.comment\" format=\"object\" theme=\"snow\"></quill-view>\n            </td>\n        </tr>\n    </ng-container>\n</table>\n\n<div *ngIf=\"clues && publishOptions.layout === 'list'\">\n    <ng-container *ngFor=\"let clue of clues\">\n        <div [ngStyle]=\"makeClueStyle()\" [ngClass]=\"tdClass\">\n            <span class=\"text-nowrap\">{{clue.caption}}.</span>&nbsp;&nbsp;<app-clue-text [clue]=\"clue\" [publishOptions]=\"publishOptions\"></app-clue-text>\n        </div>\n        <div class=\"text-nowrap\" [ngClass]=\"tdClass\" [ngStyle]=\"makeAnswerStyle()\">{{clue.answer}}</div>\n        <div [ngClass]=\"tdClass\">\n            <quill-view [content]=\"clue.comment\" format=\"object\" theme=\"snow\"></quill-view>\n        </div>\n    </ng-container>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/color-control/color-control.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/color-control/color-control.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"form-group\">\n    <select class=\"form-control\" [ngStyle]=\"{ 'background-color' : color.value }\" [(ngModel)]=\"color\"\n        [ngModelOptions]=\"{ standalone: true }\" (change)=\"onColorChange()\">\n        <option *ngFor=\"let option of options\" [ngValue]=\"option\"\n            [ngStyle]=\"{ 'background-color' : option.value }\">\n            {{option.caption}}\n        </option>\n    </select>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/confirm-modal/confirm-modal.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/confirm-modal/confirm-modal.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"modal-header\">\n    <h4 class=\"modal-title\">Warning</h4>\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"onClose(false)\">\n        <span aria-hidden=\"true\">&times;</span>\n    </button>\n</div>\n<div class=\"modal-body\">\n    <p>{{message}}</p>\n</div>\n<div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark mr-3\" (click)=\"onClose(true)\">Continue</button>\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"onClose(false)\">Cancel</button>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/content-preview/content-preview.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/content-preview/content-preview.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ng-container *ngIf=\"content\">\n    <quill-view [content]=\"content\" format=\"object\" theme=\"snow\"></quill-view>\n</ng-container>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-alias-control/diary-alias-control.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-alias-control/diary-alias-control.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"border border-secondary rounded d-inline-block p-0 mr-3\">\n    <div class=\"d-inline-block px-3\">\n        <span *ngIf=\"!editable\">{{text}}</span>\n        <input type=\"text\"[(ngModel)]=\"text\" [ngModelOptions]=\"{ standalone: true }\" *ngIf=\"editable\">\n    </div>\n    <button type=\"button\" class=\"btn btn-primary\"   (click)=\"onSave()\" *ngIf=\"editable\">Save</button>\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"onRemove()\" *ngIf=\"!editable\">X</button>\n</div>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.html":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.html ***!
  \********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div>\n    <div class=\"form-group\">\n        <p>Diary aliases - the name(s) by which you are known in the Googe diary</p>\n        <div>\n            <app-diary-alias-control \n                *ngFor=\"let control of aliasControls\" \n                (remove)=\"onRemoveAlias($event)\"\n                (save)=\"onSaveAlias($event)\"\n                [editable]=\"control.editable\"\n                [text]=\"control.text\"\n                [id]=\"control.id\">\n            </app-diary-alias-control>\n\n            <button class=\"btn btn-primary\" (click)=\"onAddAlias()\">Add alias</button>\n        </div>\n    </div>\n\n    <div class=\"form-check\">\n        <input type=\"checkbox\" [checked]=\"checked\" class=\"form-check-input\" (click)=\"onShowEverybodyChange()\">\n        <label class=\"form-check-label\">Show diary entries for all bloggers</label>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/download-button/download-button.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/download-button/download-button.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onClick($event)\" *ngIf=\"enabled\">Download</button>\n<a #downloadLink class=\"invisible\" [download]=\"filename\" [href]=\"dataUrl\"></a>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.html":
/*!**********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.html ***!
  \**********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"mt-5\">\n    <form [formGroup]=\"form\">\n\n        <div class=\"form-group\">\n            <label for=\"cellsAcross\">Cells across</label>\n            <input id=\"cellsAcross\" type=\"number\" step=\"1\" min=\"1\" max=\"25\" class=\"form-control\"\n                formControlName=\"cellsAcross\">\n        </div>\n\n        <div class=\"form-group\">\n            <label for=\"cellsAcross\">Cells down</label>\n            <input id=\"cellsAcross\" type=\"number\" step=\"1\" min=\"1\" max=\"25\" class=\"form-control\"\n                formControlName=\"cellsDown\">\n        </div>\n\n        <div class=\"form-group\">\n            <div class=\"form-check\">\n                <input class=\"form-check-input\" type=\"radio\" id=\"gridStyle1\" formControlName=\"gridStyle\"\n                    value=\"standard\">\n                <label class=\"form-check-label\" for=\"gridStyle1\">This is a standard grid</label>\n            </div>\n\n            <div class=\"form-check\">\n                <input class=\"form-check-input\" type=\"radio\" id=\"gridStyle2\" formControlName=\"gridStyle\" value=\"barred\">\n                <label class=\"form-check-label\" for=\"gridStyle2\">This is a barred grid</label>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <div class=\"form-check\">\n                <input class=\"form-check-input\" type=\"checkbox\" id=\"symmetrical\" formControlName=\"symmetrical\">\n                <label class=\"form-check-label\" for=\"symmetrical\">grid is symmetrical (rotate by 180)</label>\n            </div>\n        </div>\n        \n        <div class=\"formGroup mt-5\">\n            <button class=\"btn btn-primary mr-3\" type=\"button\" [disabled]=\"!form.valid\"\n                (click)=\"onContinue()\">Continue</button>\n            <button class=\"btn btn-primary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n        </div>\n    </form>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid/grid.component.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid/grid.component.html ***!
  \**********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"canvasContainer\">\n    <input #editor [ngStyle]=\"model.style\" type=\"text\" maxlength=\"1\" [value]=\"model.text\" (keydown)=\"onInput($event)\">\n    <canvas #gridCanvas class=\"gridCanvas\" [height]=\"canvasHeight\" [width]=\"canvasWidth\" (click)=\"onCanvasClick($event)\"></canvas>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/login-control/login-control.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/login-control/login-control.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\n    <div class=\"col\">\n        <form [formGroup]=\"form\">\n            <div class=\"form\">\n                <div class=\"form-group\">\n                    <label>\n                        Username\n                        <app-validation-message [control]=\"form.get('username')\"></app-validation-message>\n                        <input id=\"username\" class=\"form-control\" type=\"text\" formControlName=\"username\" required>\n                    </label>\n                </div>\n\n                <div class=\"form-group\">\n                    <label>\n                        Password\n                        <app-validation-message [control]=\"form.get('password')\"></app-validation-message>\n                        <input id=\"password\" class=\"form-control\" type=\"password\" formControlName=\"password\" required>\n                    </label>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>\n\n<div class=\"row\">\n    <div class=\"col\">\n        <button [disabled]=\"appStatus.busy || !form.valid\" type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onLogin()\">{{continueButtonText}}</button>\n        <button [disabled]=\"appStatus.busy\" type=\"button\" class=\"btn btn-primary\" (click)=\"onCancel()\">{{cancelButtonText}}</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-error-hint/parse-error-hint.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-error-hint/parse-error-hint.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"code === 'endMarker_down'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'acrossMarker_across'\">\n    <ng-container *ngTemplateOutlet=\"invalidAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'acrossMarker_down'\">\n    <ng-container *ngTemplateOutlet=\"invalidAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'acrossMarker_ended'\">\n    <ng-container *ngTemplateOutlet=\"invalidAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'downMarker_null'\">\n    <ng-container *ngTemplateOutlet=\"invalidDownMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'downMarker_across'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'downMarker_down'\">\n    <ng-container *ngTemplateOutlet=\"invalidDownMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'downMarker_ended'\">\n    <ng-container *ngTemplateOutlet=\"invalidDownMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'endMarker_null'\">\n    Could not find any clues in the puzzle!\n</div>\n<div *ngIf=\"code === 'endMarker_across'\">\n    Could not find an \"across\" heading at the start of the clues.\n</div>\n<div *ngIf=\"code === 'endMarker_down'\">\n    Could not find an \"down\" heading in the puzzle.\n</div>\n<div *ngIf=\"code === 'clue_null'\">\n    <ng-container *ngTemplateOutlet=\"contentBeforeAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clue_acrossdown'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clue_ended'\">\n    <ng-container *ngTemplateOutlet=\"contentAfterEnd\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clueStart_null'\">\n    <ng-container *ngTemplateOutlet=\"contentBeforeAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clueStart_ended'\">\n    <ng-container *ngTemplateOutlet=\"contentAfterEnd\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clueStart_acrossdown'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clueEnd_acrossdown'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'clueEnd_null'\">\n    <!-- is this really an error ? -->\n</div>\n<div *ngIf=\"code === 'clueEnd_ended'\">\n</div>\n<div *ngIf=\"code === 'text_null'\">\n    <ng-container *ngTemplateOutlet=\"contentBeforeAcrossMarker\"></ng-container>\n</div>\n<div *ngIf=\"code === 'text_across'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n<div *ngIf=\"code === 'text_down'\">\n    <ng-container *ngTemplateOutlet=\"unfinishedClue\"></ng-container>\n</div>\n\n\n<ng-template #unfinishedClue>\n    There seems to be a clue that is not finished.\n    This is often caused by problems with the letter-count of the previous clue.\n    Look out for:\n    <ul>\n        <li>A missing letter count</li>\n        <li>An incomplete letter count, eg (2,3</li>\n        <li>An unusual or miss-spelled letter count, eg (2 wrds)</li>\n    </ul>\n    Sometimes this is caused by a line-break in a clue that results in the first character of the new line being a\n    number.\n    This makes the line appear to be the start of a new clue.\n    Fix this by removing the line break and having the whole clue on one line.\n\n</ng-template>\n\n<ng-template #contentBeforeAcrossMarker>\n    Found some content before the \"Across\" heading. Look out for a missing or mis-spelled heading.\n</ng-template>\n\n<ng-template #invalidAcrossMarker>\n    There appears to be a misplaced or duplicated across heading.\n    Look out for more than one line containing the text \"Across\" (upper or lower case).\n</ng-template>\n\n<ng-template #invalidDownMarker>\n    There appears to be a misplaced or duplicated down heading.\n    Look out for more than one line containing the text \"Down\" (upper or lower case).\n</ng-template>\n\n<ng-template #contentAfterEnd>\n    There appears to be a misplaced or duplicated down heading.\n    Look out for more than one line containing the text \"Down\" (upper or lower case).\n</ng-template>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-result/parse-result.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-result/parse-result.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ngb-alert type=\"warning\" *ngIf=\"result && result.error\">\n    <h5 *ngIf=\"result.tokenGroup.current.lineNumber\">Failed to parse the text at line {{result.tokenGroup.current.lineNumber + 1}}</h5>\n    <h5 *ngIf=\"!result.tokenGroup.current.lineNumber\">Failed to parse the text</h5>\n    \n    <div class=\"mt-3\">{{result.error.message}}</div>\n    <div class=\"mt-3\" *ngIf=\"result.error\">{{result.error.message}}</div>\n\n    <table class=\"table table-sm mt-5\">\n        <thead>\n            <tr>\n                <th>Line number</th>\n                <th>Text</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>{{result.tokenGroup.previous.lineNumber + 1 | number}}</td>\n                <td>{{result.tokenGroup.previous.text}}</td>\n            </tr>\n            <tr>\n                <td>{{result.tokenGroup.current.lineNumber + 1 | number}}</td>\n                <td class=\"text-danger\">{{result.tokenGroup.current.text}}</td>\n            </tr>\n            <tr>\n                <td>{{result.tokenGroup.next.lineNumber + 1 | number}}</td>\n                <td>{{result.tokenGroup.next.text}}</td>\n            </tr>\n        </tbody>\n    </table>\n\n    <app-parse-error-hint [error]=\"result.error\"></app-parse-error-hint>\n\n</ngb-alert>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/text-style/text-style.component.html":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/text-style/text-style.component.html ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"container-fluid mr-5\">\r\n    <div class=\"row\">\r\n        <div class=\"col\">\r\n            <form [formGroup]=\"form\">\r\n                <div class=\"form-group\">\r\n                    <label labelFor=\"color\">{{caption}} colour</label>\r\n\r\n                    <!-- <select id=\"color\" class=\"form-control\" [ngStyle]=\"{ 'background-color' : form.value.color.value }\"\r\n                        formControlName=\"color\">\r\n                        <option *ngFor=\"let option of options\" [ngValue]=\"option\"\r\n                            [ngStyle]=\"{ 'background-color' : option.value }\">\r\n                            {{option.name}}\r\n                        </option>\r\n                    </select> -->\r\n                    <app-color-control id=\"color\" formControlName=\"color\"></app-color-control>\r\n                </div>\r\n\r\n                <div class=\"form-check\">\r\n\r\n                    <input class=\"form-check-input\" type=\"checkbox\" formControlName=\"bold\">\r\n                    <label class=\"form-check-label\">Bold</label>\r\n                </div>\r\n\r\n                <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" formControlName=\"italic\">\r\n                    <label class=\"form-check-label\">Italic</label>\r\n                </div>\r\n\r\n\r\n                <div class=\"form-check\">\r\n                    <input class=\"form-check-input\" type=\"checkbox\" formControlName=\"underline\">\r\n                    <label class=\"form-check-label\">Underline</label>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/tip/tip.component.html":
/*!********************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/tip/tip.component.html ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ngb-alert *ngIf=\"status.show\" type=\"warning\" (close)=\"onClose()\">\n\n    <div>\n        <ng-content></ng-content>\n    </div>\n\n    <div class=\"mt-3\" *ngIf=\"suppressable\">\n        <label>Don't show this again <input type=\"checkbox\" (change)=\"onDontShowAgain($event)\"></label>\n    </div>\n</ngb-alert>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/validation-message/validation-message.component.html":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/validation-message/validation-message.component.html ***!
  \**************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<span *ngIf=\"control.hasError('required') && (control.dirty || control.touched)\" class=\"alert-danger\">required</span>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/archive/archive.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/archive/archive.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row my-5\">\n    <div class=\"col\">\n        <div class=\"card w-50  mx-auto text-center\" *ngIf=\"provider && latest\">\n            <h5 class=\"card-header\">Latest {{provider | provider}} puzzle</h5>\n            <div class=\"card-body\">\n                <p *ngIf=\"latest\" class=\"card-text\">{{latest.date | date:'EEEE dd MMMM yyyy'}}</p>\n                <p *ngIf=\"latest\" class=\"card-text\">{{latest.serialNumber | number:\"2.\"}}</p>\n                <button class=\"btn btn-primary\" (click)=\"openPuzzle(latest)\">Open</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"row mt-3\" *ngIf=\"archiveItems.length\">\n    <div class=\"col\">\n        <table class=\"table\">\n            <tbody>\n                <tr>\n                    <td colspan=\"3\">\n                        <h5>Puzles from the archive</h5>\n                    </td>\n                </tr>\n                <tr *ngFor=\"let item of archiveItems\">\n                    <td>{{item.serialNumber | number:\"2.\"}}</td>\n                    <td>{{item.date | date:'EEEE dd MMMM yyyy'}}</td>\n                    <td><button class=\"btn btn-primary\" (click)=\"openPuzzle(item)\">Open</button></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\n    <div class=\"col\">\n        <h3>Clue Editor</h3>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <h5>{{puzzle.info.title}}</h5>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <app-clue-list direction=\"across\" (clueClick)=\"onClueClick($event)\"></app-clue-list>\n    </div>\n\n    <div class=\"col\">\n        <app-clue-list direction=\"down\" (clueClick)=\"onClueClick($event)\"></app-clue-list>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-start/clues-start.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-start/clues-start.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>clues-start works!</p>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>create-puzzle works!</p>\n\n<form [formGroup]=\"form\">\n\n    <div class=\"form-group\">\n        <label for=\"title\">Title</label>\n        <input id=\"title\" type=\"text\" class=\"form-control\" formControlName=\"title\"\n            placeholder=\"Enter a title for your grid...\">\n    </div>\n\n    <div class=\"formGroup mt-5\">\n        <button class=\"btn btn-primary mr-3\" type=\"button\" [disabled]=\"!form.valid\"\n            (click)=\"onContinue()\">Continue</button>\n        <button class=\"btn btn-primary\" type=\"button\" (click)=\"onCancel()\">Cancel</button>\n    </div>\n</form>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <h5>{{puzzle.info.title}}</h5>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <app-grid \n            #gridControl\n            (cellClick)=\"onCellClick($event)\" \n            (barClick)=\"onBarClick($event)\" \n            (gridText)=\"onGridText($event)\" \n            (gridNavigation)=\"onGridNavigation($event)\" \n            [options]=\"options\">\n        </app-grid>\n    </div>\n    <div class=\"col border border-secondary rounded p-3\">\n        <app-tip key=\"gridEditor\">\n            <p>\n                These tools allow you to configure your grid. Select one of the tab headings below:\n            </p>\n            <ul>\n                <li>Grid - for setting the light and dark cells/bars</li>\n                <li>Text - for writing letters into the lights</li>\n                <li>Colours - for highlighting a theme</li>\n                <li>Title - change grid title</li>\n            </ul>\n        </app-tip>\n        \n        <ngb-tabset activeId=\"grid\" (tabChange)=\"onTabChange($event)\">\n\n            <ngb-tab id=\"grid\" title=\"Grid\">\n                <ng-template ngbTabContent>\n                    <div class=\"w-100 mt-5\">\n                        Click on the grid to add or remove\n                        <span *ngIf=\"barred\">bars</span>\n                        <span *ngIf=\"!barred\">lights and dark cells</span>\n                    </div>\n                    <div class=\"form-check mt-5\">\n                        <input disabled=\"true\" id=\"symmetrical\" type=\"checkbox\" class=\"form-check-input\" [checked]=\"symmetrical\" (change)=\"onSymmetrical(!symmetrical)\"/>\n                        <label for=\"symmetrical\" class=\"form-check-label\">Grid is symmetrical </label>\n                    </div>\n                </ng-template>\n            </ngb-tab>\n\n            <ngb-tab id=\"text\" title=\"Text\">\n                <ng-template ngbTabContent>\n                    \n                    <div class=\"mt-5\">\n                        <div class=\"mb-5\">\n                            Click on a cell in the grid to enter text\n                        </div>\n\n                        <app-tip key=\"gridEditorText\">\n                            <p>\n                                You can control how the cursor will move after entering a letter into the grid:\n                            </p>\n                            <ul>\n                                <li>Select cell - enter a letter then stop</li>\n                                <li>Select in sequence - move to the next cell in the grid</li>\n                                <li>Select empty cells - move to the next empty cell in the grid</li>\n                                <li>Select entries - select the entire grid entry and move to the next cell in that entry</li>\n                            </ul>\n                        </app-tip>\n\n                        <div class=\"form-check\">\n                            <input type=\"radio\" name=\"selectSingle\" class=\"form-check-input\" [value]=\"gridEditors.cellEditor\" [(ngModel)]=\"options.editor\" (change)=\"onOptionChange()\">\n                            <label class=\"form-check-label\">Select cell</label>\n                        </div>\n\n                        <div class=\"form-check\">\n                            <input type=\"radio\" name=\"selectSingle\" class=\"form-check-input\" [value]=\"gridEditors.cellEditorFluid\" [(ngModel)]=\"options.editor\" (change)=\"onOptionChange()\">\n                            <label class=\"form-check-label\">Select in sequence</label>\n                        </div>\n\n                        <div class=\"form-check\">\n                            <input type=\"radio\" name=\"selectSingle\" class=\"form-check-input\" [value]=\"gridEditors.cellEditorEmptyFluid\" [(ngModel)]=\"options.editor\" (change)=\"onOptionChange()\">\n                            <label class=\"form-check-label\">Select empty cells</label>\n                        </div>\n\n                        <div class=\"form-check\">\n                            <input type=\"radio\" name=\"selectSingle\" class=\"form-check-input\" [value]=\"gridEditors.entryEditor\" [(ngModel)]=\"options.editor\" (change)=\"onOptionChange()\">\n                            <label class=\"form-check-label\">Select entries</label>\n                        </div>\n                    </div>\n                </ng-template>\n            </ngb-tab>\n\n            <ngb-tab id=\"color\" title=\"Colours\">\n                <ng-template ngbTabContent>\n                    <div class=\"mt-5\">\n                        Choose a colour then click a cell to apply highlighting\n                    </div>\n                    <div class=\"mt-5\">\n                        <app-color-control [(ngModel)]=\"shadingColor\"></app-color-control>\n                    </div>\n                    <div class=\"mt-3\">\n                        <button type=\"button\" class=\"btn btn-link pl-1\" (click)=\"onClearAll()\">clear all shading</button>\n                    </div>\n                    </ng-template>\n            </ngb-tab>\n\n            <ngb-tab id=\"properties\" title=\"Title\">\n                <ng-template ngbTabContent>\n                    <form [formGroup]=\"form\">\n                        <div class=\"form-group mt-5\">\n                            <label for=\"title\">Title</label>\n                            <input id=\"title\" type=\"text\" class=\"form-control\" formControlName=\"title\">\n                        </div>\n                        <div class=\"form-group\">\n                            <button type=\"button\" [disabled]=\"!form.valid || form.pristine\" (click)=\"onSubmit()\">Save</button>\n                        </div>\n                    </form>\n                </ng-template>\n            </ngb-tab>\n\n        </ngb-tabset>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Publish</button>\n        <app-download-button (download)=\"onDownload($event)\"></app-download-button>\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onClose()\">Close</button>\n    </div>\n</div>\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-start/grid-start.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-start/grid-start.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3 class=\"mt-3\">Start a new grid</h3>\r\n<app-tip key=\"gridStart\">\r\n    <p>\r\n        The Grid Tool allows you to create a grid image suitable for display in a web page. \r\n        The first step is to give the new grid a title and specify its size and shape.\r\n    </p>\r\n    <p>\r\n        The pages following this will allow you to set lights and dark cells, add text and hightlight cells of the grid (to illustrate a theme for example).\r\n    </p>\r\n    <p>\r\n        The completed gid may then be printed, downloaded to your computer or uploaded to the Media Library at fifteensquared.net for inclusion\r\n        in a blog.\r\n    </p>\r\n</app-tip>\r\n<app-grid-properties-editor (close)=\"onClose($event)\"></app-grid-properties-editor>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/indy/indy.component.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/indy/indy.component.html ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row my-5\">\n    <div class=\"col\">\n        <div class=\"card w-50  mx-auto text-center\">\n            <h5 class=\"card-header\">Latest</h5>\n            <div class=\"card-body\">\n                    <p class=\"card-text\">{{provider | provider }}</p>\n                    <p class=\"card-text\">{{today | date:\"EEEE - d LLLL yyyy\"}}</p>\n                <button class=\"btn btn-primary\" (click)=\"openLatest()\">Open</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"row mt-5\">\n    <div class=\"col\">\n        <h5>Open puzzle by date</h5>\n    </div>\n</div>\n\n<div class=\"row mt-3\">\n    <div class=\"col\">\n        <form [formGroup]=\"form\">\n\n            <div class=\"form-group\">\n                <label for=\"datePicker\">Puzzle date</label>\n                <input id=\"datePicker\" type=\"text\" class=\"form-control\" formControlName=\"date\"\n                    [bsConfig]=\"{ dateInputFormat: 'dddd Do MMMM YYYY' }\" bsDatepicker>\n            </div>\n\n            <div class=\"form-group mt-5\">\n                <button class=\"btn btn-primary mr-3\" type=\"button\" (click)=\"openPuzzleByDate()\">Open</button>\n            </div>\n        </form>\n    </div>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/link-error/link-error.component.html":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/link-error/link-error.component.html ***!
  \**************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>link-error works!</p>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/nav-error/nav-error.component.html":
/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/nav-error/nav-error.component.html ***!
  \************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>nav-error works!</p>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3>Open puzzle</h3>\n\n<div *ngIf=\"credentials.authenticated\">\n    <p>Opening puzzle...</p>\n</div>\n\n<div *ngIf=\"!credentials.authenticated\">\n    <p>Enter your fifteensquared username and password</p>\n    <app-login-control (close)=\"onLoginClose($event)\"></app-login-control>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-login/special-login.component.html":
/*!********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-login/special-login.component.html ***!
  \********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3>Login</h3>\n<p>Enter your fifteensquared username and password <span *ngIf=\"settings.sandbox\">(Using Sandbox)</span></p>\n\n<app-login-control *ngIf=\"appStatus\" (close)=\"onLoginClose($event)\"></app-login-control>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.html":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.html ***!
  \****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h3>Open puzzle from PDF</h3>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n        <div class=\"form-group\">\r\n            <input #file class=\"form-control-file\" type=\"file\" accept=\".pdf\" (change)=\"onFileChange(file.files)\">\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <button class=\"btn btn-primary\" type=\"button\" (click)=\"onOpenPdf()\">Open PDF</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-text/special-text.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-text/special-text.component.html ***!
  \******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h3>Open puzzle from text</h3>\r\n    </div>\r\n</div>\r\n\r\n<ng-container *ngIf=\"puzzle\">\r\n    <form [formGroup]=\"form\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col form-group\">\r\n                <label for=\"title\" class=\"form-label\">Give this puzzle a title</label>\r\n                <input id=\"title\" type=\"text\" class=\"form-control\" formControlName=\"title\">\r\n            </div>\r\n        </div>\r\n    \r\n        <div class=\"row\">\r\n            <div class=\"col form-group\">\r\n                <app-tip key=\"specialText\">\r\n        <h5>Notes on formatting the clues:</h5>\r\n        <p>\r\n            Clues for a puzzle can be entered manually here.  The format is simple and based on that used\r\n            by the daily cyptics in a newspaper.  In general, text cut-and-pasted from a newspaper website should\r\n            work here.\r\n        </p>\r\n    \r\n        The 5 basic rules for entering clues are:\r\n        <ul>\r\n            <li>There should be one clue per line</li>\r\n            <li>Clues should start with the clue number</li>\r\n            <li>Clues should end with the letter count</li>\r\n            <li>The across clues are labelled \"ACROSS\"</li>\r\n            <li>The down clues are labelled \"DOWN\"</li>\r\n        </ul>\r\n    \r\n        <pre class=\"bg-light\">\r\n        ACROSS\r\n        1 Goodnight ladies (5)\r\n        2 Ladies goodnight (2, 4)\r\n        DOWN\r\n        3 This is a clue (2-2)\r\n        </pre>\r\n    \r\n        Some optional features for more complex clues are:\r\n        <ul>\r\n            <li>Optionally, additional clue numbers may be added for linked clues, separated by commas</li>\r\n            <li>Optionally, numbers for linked clues may be supplemented with \"across\" or \"down\" to remove ambiguity</li>\r\n            <li>Redirections should be of the form \"See n\" where n is the clue number</li>\r\n            <li>Optionally, redirection numbers can be supplemented with \"across\" or down\" to remove ambiguity</li>\r\n        </ul>\r\n    \r\n        <pre class=\"bg-light\">\r\n        ACROSS\r\n        1,2 down,3 Life in the fast lane (8,2,2 4)\r\n        2 This is a clue (2, 4)\r\n        3 See 1\r\n        4 Another clue on its own (4)\r\n        DOWN\r\n        1 this is a clue (4)\r\n        2 See 1 across\r\n        </pre>\r\n        <p>\r\n            You can cut-and-paste text into here copied from another document, a PDF file for example.\r\n            Any extaneous text before the first ACROSS marker and after the last down-clue will be ignored, but best to remove it\r\n            before pressing the \"continue\" button just in case.\r\n        </p>\r\n                </app-tip>\r\n            </div>\r\n        </div>\r\n    \r\n        <div *ngIf=\"parseResult\">\r\n            <app-parse-result [result]=\"parseResult\"></app-parse-result>\r\n        </div>\r\n    \r\n        <div class=\"row\" *ngIf=\"!parseResult\">\r\n            <div class=\"col form-group\">\r\n                <label for=\"text\" class=\"form-label\">Enter text for the clues here</label>\r\n                <textarea id=\"text\" class=\"form-control\" rows=\"24\" formControlName=\"text\" (keydown)=\"onKeyDown($event)\"></textarea>\r\n            </div>\r\n        </div>\r\n            \r\n        <div class=\"row\">\r\n            <div class=\"col form-group\">\r\n                <button type=\"button\" class=\"btn btn-primary mr-3\" *ngIf=\"!parseResult\" (click)=\"onParse()\" [disabled]=\"!form.valid\">Continue</button>\r\n                <button type=\"button\" class=\"btn btn-primary mr-3\" *ngIf=\"parseResult\" (click)=\"onAmend()\" [disabled]=\"!form.valid\">Amend</button>\r\n                <button type=\"button\" class=\"btn btn-primary\" (click)=\"onCancel()\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</ng-container>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special/special.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special/special.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <ngb-alert type=\"warning\">\r\n            This feature is still work in progress.  \r\n            You are welcome to have a go, but don't rely on it for anything important.\r\n        </ngb-alert>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h3>Special</h3>\r\n        <p>You can open a puzzle from a PDF file on your computer, or you can entering the clues manually</p>\r\n    </div>\r\n</div>\r\n    \r\n<div class=\"row\">\r\n    <div class=\"col\">\r\n\r\n        <div>Load a PDF file form your computer</div>\r\n        <button class=\"btn btn-primary mt-3\" (click)=\"onPdf()\">Open PDF</button>\r\n\r\n        <div class=\"mt-5\">Create a grid and enter the clues</div>\r\n        <button class=\"btn btn-primary mt-3\" (click)=\"onGridText()\">Grid and clues</button>\r\n\r\n        <div class=\"mt-5\">Enter the clues only</div>\r\n        <button class=\"btn btn-primary mt-3\" (click)=\"onText()\">Clues only</button>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.html":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.html ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<p>validate-puzzle works!</p>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.html ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3 class=\"my-3\">publish complete</h3>\n\n<p>The puzzle has now been sent to the fifteensquared.net website.\n</p>\n\n<p>Further changes may be made using the Wordpress Admin tools at\n    <a href=\"http://fifteensquared.net.\" target=\"fifteensquared\">http://fifteensquared.net/</a>\n</p>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"onContinue()\">OK</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\n    <div class=\"col\">\n        <h3>grid editor</h3>\n        <p>Click on cells in the grid to add shading, to highlight a theme for example</p>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <app-grid (cellClick)=\"onCellClick($event)\" [options]=\"{ showShading: true }\"></app-grid>\n    </div>\n    <div class=\"col\">\n        <p>shading colour</p>\n        <form>\n            <app-color-control [(ngModel)]=\"color\" name=\"color\"></app-color-control>\n        </form>\n        <p class=\"mt-5\"><button type=\"button\" class=\"btn btn-link\" (click)=\"onClearAll()\">clear all shading</button></p>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\n        <app-download-button (download)=\"onDownload($event)\"></app-download-button>\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"onBack()\">Back</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-login/publish-login.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-login/publish-login.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3>Login <span *ngIf=\"settings.sandbox\">(Using Sandbox)</span></h3>\n\n<app-login-control\n    *ngIf=\"appStatus\" \n    [options]=\"{ continueButtonText: 'Continue', cancelButtonText: 'Back'}\"\n    (close)=\"onClose($event)\"\n    >\n</app-login-control>\n\n\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-options/publish-options.component.html":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-options/publish-options.component.html ***!
  \***************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <h3>publish options</h3>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row justify-content-center\" *ngIf=\"puzzle\">\r\n    <div class=\"col col-auto\">\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col btn-group btn-group-toggle\" ngbRadioGroup name=\"radioLayout\" [(ngModel)]=\"publishOptions.layout\">\r\n                <label ngbButtonLabel class=\"btn btn-light\">\r\n                    <input ngbButton type=\"radio\" value=\"table\"> Table layout\r\n                </label>\r\n                <label ngbButtonLabel class=\"btn btn-light\">\r\n                    <input ngbButton type=\"radio\" value=\"list\"> List layout\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row mt-3\">\r\n            <div class=\"col bg-light\">\r\n                <app-clues-preview [includeGrid]=\"publishOptions.includeGrid\" [clues]=\"sample\"\r\n                    [publishOptions]=\"puzzle.publishOptions\">\r\n                </app-clues-preview>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-3\" *ngIf=\"puzzle\">\r\n    <div class=\"col\">\r\n        <div class=\"card-deck\">\r\n\r\n            <div class=\"card\">\r\n                <h5 class=\"card-header\">Answer</h5>\r\n                <div class=\"card-body\">\r\n                    <app-text-style textStyleName=\"answerStyle\" caption=\"answer\"></app-text-style>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"card\">\r\n                <h5 class=\"card-header\">Clue</h5>\r\n                <div class=\"card-body\">\r\n                    <app-text-style textStyleName=\"clueStyle\" caption=\"clue text\"></app-text-style>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"card\">\r\n                <h5 class=\"card-header\">Definition</h5>\r\n                <div class=\"card-body\">\r\n                    <app-text-style textStyleName=\"definitionStyle\" caption=\"definition\"></app-text-style>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-3\" *ngIf=\"puzzle\">\r\n    <div class=\"col\">\r\n        <div>\r\n            Line Spacing: \r\n        </div>\r\n        <div class=\"form-check-inline\">\r\n            <label class=\"form-check-label\" for=\"spacing1\">\r\n                <input id=\"spacing1\" type=\"radio\" class=\"form-check-input\" name=\"spacing\" value=\"small\" [(ngModel)]=\"publishOptions.spacing\"> small\r\n            </label>\r\n        </div>\r\n        <div class=\"form-check-inline\">\r\n            <label class=\"form-check-label\" for=\"spacing2\">\r\n                <input id=\"spacing2\" type=\"radio\" class=\"form-check-input\" name=\"spacing\" value=\"medium\" [(ngModel)]=\"publishOptions.spacing\"> medium\r\n            </label>\r\n        </div>\r\n        <div class=\"form-check-inline\">\r\n            <label class=\"form-check-label\" for=\"spacing3\">\r\n                <input id=\"spacing3\" type=\"radio\" class=\"form-check-input\" name=\"spacing\" value=\"large\" [(ngModel)]=\"publishOptions.spacing\"> large\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-3\" *ngIf=\"puzzle && puzzle.grid\">\r\n    <div class=\"col\">\r\n        <label>\r\n            <input type=\"checkbox\" [(ngModel)]=\"publishOptions.includeGrid\">\r\n            include grid image\r\n        </label>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-3 mb-5\" *ngIf=\"puzzle && puzzle.grid && publishOptions.includeGrid\">\r\n    <div class=\"col\">\r\n        <button type=\"button\" class=\"btn btn-primary\" (click)=\"onGrid()\">Colour the grid</button>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-3\" *ngIf=\"puzzle\">\r\n    <div class=\"col\">\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onBack()\">Back</button>\r\n    </div>\r\n</div>\r\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.html":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.html ***!
  \*****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3>preamble</h3>\n<form [formGroup]=\"form\" *ngIf=\"puzzle\">\n\n    <div class=\"row\" *ngIf=\"puzzle\">\n        <div class=\"col\">\n            <div class=\"mt-4\">\n                <p>Enter the title to be displayed on the fifteensquared home page</p>\n                <input id=\"title\" type=\"text\" class=\"w-100 pl-2\" formControlName=\"title\">\n            </div>\n\n            <div class=\"mt-4\">\n                <p>Comment to be displayed below the title on the home page</p>\n                <quill-editor formControlName=\"header\" format=\"object\"></quill-editor>\n            </div>\n        </div>\n    </div>\n    \n    <div class=\"row justify-content-center mt-5\" *ngIf=\"puzzle\">\n        <div class=\"col-2\"></div>\n        <div class=\"col-8 bg-light p-5 border\">\n            <div class=\"title\">{{form.value.title}}</div>\n            <div class=\"border-bottom\">Posted by {{getUsername()}} on {{today | date : \"MMMM d, y\"}}</div>\n            <div class=\"clearfix mt-2\">\n                <div class=\"mug-shot float-left\">\n                    <img src=\"assets/kitten.png\">\n                </div>\n                <div class=\"float-left\">\n                    <div>\n                        <app-content-preview [content]=\"form.value.header\"></app-content-preview>\n                    </div>\n                    <div class=\"anchor-like\">Read the rest of this entry >></div>\n                </div>\n            </div>\n            <div class=\"border-bottom\">Posted in <span class=\"anchor-like\">{{puzzle.info.providerName}}</span> | <span\n                    class=\"anchor-like\">0 Comments</span> >></div>\n        </div>\n        <div class=\"col-2\"></div>\n    </div>\n\n    <div class=\"row\" *ngIf=\"puzzle\">\n        <div class=\"col\">\n            <div class=\"mt-4\">\n                <p>further comment inside your blog</p>\n                <quill-editor formControlName=\"body\" format=\"object\"></quill-editor>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row justify-content-center mt-5\" *ngIf=\"puzzle\">\n            <div class=\"col-2\"></div>\n            <div class=\"col-8 bg-light p-5 border\">\n            <div class=\"body-top clearfix\">\n                <div class=\"float-left anchor-like smaller m-0\">&lt;&lt; Guardian cryptic 23,456 by Paul</div>\n                <div class=\"float-right anchor-like smaller m-0\">&gt;&gt; Financial Times 12,345 by Julius</div>\n            </div>\n            <div class=\"title mt-3\">{{form.value.title}}</div>\n            <div class=\"border-bottom\">Posted by {{getUsername()}} on {{today | date : \"MMMM d, y\"}}</div>\n            <div class=\"row\">\n                <div class=\"col-auto\">\n                    <div class=\"mug-shot\">\n                        <img src=\"assets/kitten.png\">\n                    </div>\n                    </div>\n                <div class=\"col-auto\">\n                    <div>\n                        <app-content-preview [content]=\"form.value.header\"></app-content-preview>\n                    </div>\n                    <div>\n                        <app-content-preview [content]=\"form.value.body\"></app-content-preview>\n                    </div>\n                    <app-clues-preview \n                        [includeGrid]=\"puzzle.publishOptions.includeGrid\" \n                        [clues]=\"sample\"\n                        [publishOptions]=\"puzzle.publishOptions\">\n                    </app-clues-preview>\n                    <div>\n                        <app-content-preview [content]=\"appSettings.footer\"></app-content-preview>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-2\"></div>\n    </div>\n\n    <div class=\"row\" *ngIf=\"puzzle\">\n        <div class=\"col\">\n            <div class=\"mt-4\">\n                <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\n                <button type=\"button\" class=\"btn btn-primary\" (click)=\"onBack()\">Back</button>\n            </div>\n        </div>\n    </div>\n\n</form>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish/publish.component.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish/publish.component.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<h3 *ngIf=\"!gridOnly && alreadyPublished\">Update Published Post</h3>\r\n<h3 *ngIf=\"!gridOnly && !alreadyPublished\">Publish Post</h3>\r\n<h3 *ngIf=\"gridOnly\">Upload Grid</h3>\r\n\r\n<div class=\"row\" *ngIf=\"appStatus && puzzle && !gridOnly\">\r\n    <div class=\"col\">\r\n        <p *ngIf=\"alreadyPublished\">This puzzle has already been uploaded to fifteensquared.net. What would you like to do?</p>\r\n        <form>\r\n            <div class=\"form\">\r\n                <div class=\"form-group\">\r\n\r\n                    <div class=\"form-check\" *ngIf=\"alreadyPublished\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"nothing\" [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>do nothing</label>\r\n                    </div>\r\n\r\n                    <div class=\"form-check\" *ngIf=\"!alreadyPublished\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"publish\" [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>publish immediately</label>\r\n                    </div>\r\n        \r\n                    <div class=\"form-check\" *ngIf=\"!alreadyPublished\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"upload\"\r\n                            [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>upload as draft</label>\r\n                    </div>\r\n\r\n                    <div class=\"form-check\" *ngIf=\"alreadyPublished\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"copy-post\"\r\n                            [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>upload the entire post again</label>\r\n                    </div>\r\n\r\n                    <div class=\"form-check\" *ngIf=\"alreadyPublished && puzzle.publishOptions.includeGrid\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"copy-grid\"\r\n                            [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>upload just the grid</label>\r\n                    </div>\r\n\r\n                    <div class=\"form-check\" *ngIf=\"alreadyPublished\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"replace-post\"\r\n                            [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>replace the existing post</label>\r\n                    </div>\r\n\r\n                    <div class=\"form-check\" *ngIf=\"alreadyPublished && puzzle.publishOptions.includeGrid\">\r\n                        <input name=\"action\" class=\"form-check-input\" type=\"radio\" value=\"replace-grid\" [(ngModel)]=\"action\">\r\n                        <label class=form-check-label>replace the grid only</label>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\" *ngIf=\"appStatus && puzzle\">\r\n    <div class=\"col\">\r\n        <ngb-alert type=\"info\" [dismissible]=\"false\" *ngIf=\"action === 'nothing'\">\r\n            No changes will be made\r\n        </ngb-alert>\r\n\r\n        <ngb-alert type=\"info\" [dismissible]=\"false\" *ngIf=\"action === 'publish'\">\r\n            The post will be published to fifteensquared.net immediately.\r\n        </ngb-alert>\r\n    \r\n        <ngb-alert type=\"info\" [dismissible]=\"false\" *ngIf=\"action === 'upload'\">\r\n            The post will be uploaded to fifteensquared.net as a draft.\r\n            Log in to fifteensquared and use the Admin section to schedule or publish the post\r\n        </ngb-alert>\r\n\r\n        <ngb-alert type=\"info\" [dismissible]=\"false\" *ngIf=\"action === 'copy-post'\">\r\n            A copy of the post will be uploaded to fifteensquared.net as a draft.\r\n            Any existing posts will remain unchanged.\r\n            If the existing post has received any comments then these will not be visible on the new post.\r\n            Log in to fifteensquared and use the Admin section to remove the existing post and publsih the new one.\r\n        </ngb-alert>\r\n    \r\n        <ngb-alert type=\"info\" [dismissible]=\"false\" *ngIf=\"action === 'copy-grid'\">\r\n            A copy of the grid will be uploaded to the Media Library on fifteensquared.net.\r\n            To include this grid in an existing post log in to fifteensquared and use the Admin section edit the desired post.\r\n            Include the grid using the \"Insert Media\" button on the editor page.\r\n        </ngb-alert>\r\n\r\n        <ngb-alert type=\"warning\" [dismissible]=\"false\" *ngIf=\"action === 'replace-post'\">\r\n            <strong>NOT IMPLEMENTED</strong> The content of the existing post will be replaced fifteensquared.net.\r\n            Be aware that the content of the existing post will be lost.\r\n            If the existing post has received any comments then these will still be visible.\r\n        </ngb-alert>\r\n\r\n        <ngb-alert type=\"warning\" [dismissible]=\"false\" *ngIf=\"action === 'replace-grid'\">\r\n            <strong>NOT IMPLEMENTED</strong> If the existing post contained a grid then the grid will be replaced.\r\n            The post content and comments will remain unchanged.\r\n        </ngb-alert>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\" *ngIf=\"appStatus && puzzle\">\r\n    <div class=\"col\">\r\n        <button \r\n            [disabled]=\"appStatus.busy || action === 'nothing'\" \r\n            type=\"button\" \r\n            class=\"btn btn-primary mr-3\"\r\n            (click)=\"onContinue()\">\r\n            Publish\r\n        </button>\r\n        <button \r\n            [disabled]=\"appStatus.busy\" \r\n            type=\"button\" \r\n            class=\"btn btn-primary\" \r\n            (click)=\"onBack()\">\r\n            Back\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n<div style=\"visibility: hidden;\">\r\n    <app-grid #gridControl [options]=\"{ showShading: true }\"></app-grid>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/blogger/blogger.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/blogger/blogger.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\">\r\n    <div class=\"col\">\r\n        <table class=\"table w-100\" *ngIf=\"puzzle\">\r\n            <tbody>\r\n                <ng-container *ngFor=\"let clue of puzzle.clues\">\r\n                    <tr class=\"border-top bg-light\" (click)=\"onRowClick(clue)\" *ngIf=\"!clue.highlight\">\r\n                        <td>\r\n                            {{clue.caption}}\r\n                        </td>\r\n                        <td class=\"font-weight-bold\">\r\n                            {{clue.answer}}\r\n                        </td>\r\n                        <td>\r\n                            <app-clue-text [clue]=\"clue\" [publishOptions]=\"puzzle.publishOptions\"></app-clue-text>\r\n                        </td>\r\n                        <td>\r\n                            <quill-view [content]=\"clue.comment\" format=\"object\" theme=\"snow\"></quill-view>\r\n                        </td>\r\n                        <td>\r\n                            <ng-container *ngIf=\"appSettings.general.showCommentValidation.enabled && clue.warnings.length && !clue.redirect\">\r\n                                <span class=\"text-warning\"> {{clue.warnings[0]}}</span>\r\n                            </ng-container>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"clue.highlight\">\r\n                        <td colspan=\"5\">\r\n                            <div class=\"border rounded\">\r\n                                <app-clue-editor [clueId]=\"clue.id\" (close)=\"onEditorClose(clue, $event)\"></app-clue-editor>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </ng-container>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row mt-5\" *ngIf=\"puzzle\">\r\n    <div class=\"col\">\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onSolver()\" *ngIf=\"puzzle.info.solveable\">Open in solver</button>\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onEditClues()\">Edit clues (temp)</button>\r\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onBack()\">Back</button>\r\n    </div>\r\n</div>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/solver/solver.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/solver/solver.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <h5>{{puzzle.info.title}}</h5>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <app-grid (cellClick)=\"onCellClick($event)\"></app-grid>\n    </div>\n\n    <div class=\"col\">\n        <app-clue-list direction=\"across\" (clueClick)=\"onClueClick($event)\"></app-clue-list>\n    </div>\n\n    <div class=\"col\">\n        <app-clue-list direction=\"down\" (clueClick)=\"onClueClick($event)\"></app-clue-list>\n    </div>\n</div>\n\n<div class=\"row\" *ngIf=\"puzzle\">\n    <div class=\"col\">\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onContinue()\">Continue</button>\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onBlogger()\">Open in blogger</button>\n        <button type=\"button\" class=\"btn btn-primary mr-3\" (click)=\"onBack()\">Back</button>\n    </div>\n</div>");

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}


/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _ui_puzzle_solving_solver_solver_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui/puzzle-solving/solver/solver.component */ "./src/app/ui/puzzle-solving/solver/solver.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_options_publish_options_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-options/publish-options.component */ "./src/app/ui/puzzle-publishing/publish-options/publish-options.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_publish_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish/publish.component */ "./src/app/ui/puzzle-publishing/publish/publish.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_complete_publish_complete_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-complete/publish-complete.component */ "./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_preamble_publish_preamble_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-preamble/publish-preamble.component */ "./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.ts");
/* harmony import */ var _ui_puzzle_solving_blogger_blogger_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ui/puzzle-solving/blogger/blogger.component */ "./src/app/ui/puzzle-solving/blogger/blogger.component.ts");
/* harmony import */ var _ui_puzzle_editing_archive_archive_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ui/puzzle-editing/archive/archive.component */ "./src/app/ui/puzzle-editing/archive/archive.component.ts");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _ui_puzzle_publishing_publish_grid_publish_grid_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-grid/publish-grid.component */ "./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_login_publish_login_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-login/publish-login.component */ "./src/app/ui/puzzle-publishing/publish-login/publish-login.component.ts");
/* harmony import */ var _ui_puzzle_editing_open_puzzle_open_puzzle_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ui/puzzle-editing/open-puzzle/open-puzzle.component */ "./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.ts");
/* harmony import */ var _ui_puzzle_editing_indy_indy_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ui/puzzle-editing/indy/indy.component */ "./src/app/ui/puzzle-editing/indy/indy.component.ts");
/* harmony import */ var _ui_puzzle_editing_grid_editor_grid_editor_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ui/puzzle-editing/grid-editor/grid-editor.component */ "./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.ts");
/* harmony import */ var _ui_puzzle_editing_grid_start_grid_start_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ui/puzzle-editing/grid-start/grid-start.component */ "./src/app/ui/puzzle-editing/grid-start/grid-start.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_pdf_special_pdf_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ui/puzzle-editing/special-pdf/special-pdf.component */ "./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_special_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ui/puzzle-editing/special/special.component */ "./src/app/ui/puzzle-editing/special/special.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_text_special_text_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ui/puzzle-editing/special-text/special-text.component */ "./src/app/ui/puzzle-editing/special-text/special-text.component.ts");
/* harmony import */ var _ui_puzzle_editing_create_puzzle_create_puzzle_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ui/puzzle-editing/create-puzzle/create-puzzle.component */ "./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.ts");
/* harmony import */ var _ui_app_general_home_home_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ui/app-general/home/home.component */ "./src/app/ui/app-general/home/home.component.ts");
/* harmony import */ var _ui_app_general_login_login_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ui/app-general/login/login.component */ "./src/app/ui/app-general/login/login.component.ts");
/* harmony import */ var _ui_app_general_diary_diary_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ui/app-general/diary/diary.component */ "./src/app/ui/app-general/diary/diary.component.ts");
/* harmony import */ var _ui_app_general_readme_readme_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ui/app-general/readme/readme.component */ "./src/app/ui/app-general/readme/readme.component.ts");
/* harmony import */ var _ui_app_general_settings_settings_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ui/app-general/settings/settings.component */ "./src/app/ui/app-general/settings/settings.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_login_special_login_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ui/puzzle-editing/special-login/special-login.component */ "./src/app/ui/puzzle-editing/special-login/special-login.component.ts");
/* harmony import */ var _ui_puzzle_editing_nav_error_nav_error_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ui/puzzle-editing/nav-error/nav-error.component */ "./src/app/ui/puzzle-editing/nav-error/nav-error.component.ts");
/* harmony import */ var _ui_puzzle_editing_link_error_link_error_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ui/puzzle-editing/link-error/link-error.component */ "./src/app/ui/puzzle-editing/link-error/link-error.component.ts");
/* harmony import */ var _ui_puzzle_editing_clues_editor_clues_editor_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./ui/puzzle-editing/clues-editor/clues-editor.component */ "./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.ts");






























const routes = [
    // landing pages
    { path: "home", component: _ui_app_general_home_home_component__WEBPACK_IMPORTED_MODULE_21__["HomeComponent"] },
    { path: "login", component: _ui_app_general_login_login_component__WEBPACK_IMPORTED_MODULE_22__["LoginComponent"] },
    // solving and blogging puzzles
    { path: "archive/:provider", component: _ui_puzzle_editing_archive_archive_component__WEBPACK_IMPORTED_MODULE_9__["ArchiveComponent"] },
    { path: "indy", component: _ui_puzzle_editing_indy_indy_component__WEBPACK_IMPORTED_MODULE_14__["IndyComponent"] },
    { path: "special", component: _ui_puzzle_editing_special_special_component__WEBPACK_IMPORTED_MODULE_18__["SpecialComponent"] },
    { path: "special-pdf", component: _ui_puzzle_editing_special_pdf_special_pdf_component__WEBPACK_IMPORTED_MODULE_17__["SpecialPdfComponent"] },
    { path: "special-login", component: _ui_puzzle_editing_special_login_special_login_component__WEBPACK_IMPORTED_MODULE_26__["SpecialLoginComponent"] },
    { path: "open-puzzle", component: _ui_puzzle_editing_open_puzzle_open_puzzle_component__WEBPACK_IMPORTED_MODULE_13__["OpenPuzzleComponent"] },
    { path: "solver", component: _ui_puzzle_solving_solver_solver_component__WEBPACK_IMPORTED_MODULE_3__["SolverComponent"] },
    { path: "blogger", component: _ui_puzzle_solving_blogger_blogger_component__WEBPACK_IMPORTED_MODULE_8__["BloggerComponent"] },
    // publishing puzzles
    { path: "publish-options", component: _ui_puzzle_publishing_publish_options_publish_options_component__WEBPACK_IMPORTED_MODULE_4__["PublishOptionsComponent"] },
    { path: "publish-grid", component: _ui_puzzle_publishing_publish_grid_publish_grid_component__WEBPACK_IMPORTED_MODULE_11__["PublishGridComponent"] },
    { path: "publish-preamble", component: _ui_puzzle_publishing_publish_preamble_publish_preamble_component__WEBPACK_IMPORTED_MODULE_7__["PublishPreambleComponent"] },
    { path: "publish-login", component: _ui_puzzle_publishing_publish_login_publish_login_component__WEBPACK_IMPORTED_MODULE_12__["PublishLoginComponent"] },
    { path: "publish", component: _ui_puzzle_publishing_publish_publish_component__WEBPACK_IMPORTED_MODULE_5__["PublishComponent"] },
    { path: "publish-complete", component: _ui_puzzle_publishing_publish_complete_publish_complete_component__WEBPACK_IMPORTED_MODULE_6__["PublishCompleteComponent"] },
    // creating and editing grids
    { path: "create-puzzle", component: _ui_puzzle_editing_create_puzzle_create_puzzle_component__WEBPACK_IMPORTED_MODULE_20__["CreatePuzzleComponent"] },
    { path: "special-text", component: _ui_puzzle_editing_special_text_special_text_component__WEBPACK_IMPORTED_MODULE_19__["SpecialTextComponent"] },
    { path: "grid-start", component: _ui_puzzle_editing_grid_start_grid_start_component__WEBPACK_IMPORTED_MODULE_16__["GridStartComponent"] },
    { path: "grid-editor", component: _ui_puzzle_editing_grid_editor_grid_editor_component__WEBPACK_IMPORTED_MODULE_15__["GridEditorComponent"] },
    { path: "clues-editor", component: _ui_puzzle_editing_clues_editor_clues_editor_component__WEBPACK_IMPORTED_MODULE_29__["CluesEditorComponent"] },
    { path: "nav-error", component: _ui_puzzle_editing_nav_error_nav_error_component__WEBPACK_IMPORTED_MODULE_27__["NavErrorComponent"] },
    { path: "link-error", component: _ui_puzzle_editing_link_error_link_error_component__WEBPACK_IMPORTED_MODULE_28__["LinkErrorComponent"] },
    // general
    { path: "diary", component: _ui_app_general_diary_diary_component__WEBPACK_IMPORTED_MODULE_23__["DiaryComponent"] },
    { path: "readme", component: _ui_app_general_readme_readme_component__WEBPACK_IMPORTED_MODULE_24__["ReadmeComponent"] },
    { path: "settings", component: _ui_app_general_settings_settings_component__WEBPACK_IMPORTED_MODULE_25__["SettingsComponent"] },
    // default routes
    { path: "", redirectTo: "/home", pathMatch: "full" },
    { path: "*", redirectTo: "/home", pathMatch: "full" }
];
let AppRoutingModule = class AppRoutingModule {
};
AppRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"]],
        providers: [
            { provide: _angular_common__WEBPACK_IMPORTED_MODULE_10__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_10__["HashLocationStrategy"] },
        ]
    })
], AppRoutingModule);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-quill */ "./node_modules/ngx-quill/fesm2015/ngx-quill.js");
/* harmony import */ var ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ngx-bootstrap/datepicker */ "./node_modules/ngx-bootstrap/datepicker/fesm2015/ngx-bootstrap-datepicker.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ui_app_app_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ui/app/app.component */ "./src/app/ui/app/app.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_options_publish_options_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-options/publish-options.component */ "./src/app/ui/puzzle-publishing/publish-options/publish-options.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_publish_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish/publish.component */ "./src/app/ui/puzzle-publishing/publish/publish.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_complete_publish_complete_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-complete/publish-complete.component */ "./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_preamble_publish_preamble_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-preamble/publish-preamble.component */ "./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.ts");
/* harmony import */ var _ui_components_clue_list_clue_list_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ui/components/clue-list/clue-list.component */ "./src/app/ui/components/clue-list/clue-list.component.ts");
/* harmony import */ var _ui_puzzle_solving_solver_solver_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ui/puzzle-solving/solver/solver.component */ "./src/app/ui/puzzle-solving/solver/solver.component.ts");
/* harmony import */ var _ui_components_clue_editor_clue_editor_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ui/components/clue-editor/clue-editor.component */ "./src/app/ui/components/clue-editor/clue-editor.component.ts");
/* harmony import */ var _ui_components_clue_text_chunk_clue_text_chunk_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ui/components/clue-text-chunk/clue-text-chunk.component */ "./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.ts");
/* harmony import */ var _ui_components_grid_grid_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ui/components/grid/grid.component */ "./src/app/ui/components/grid/grid.component.ts");
/* harmony import */ var _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _ui_components_alert_alert_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ui/components/alert/alert.component */ "./src/app/ui/components/alert/alert.component.ts");
/* harmony import */ var _ui_components_text_style_text_style_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ui/components/text-style/text-style.component */ "./src/app/ui/components/text-style/text-style.component.ts");
/* harmony import */ var _ui_puzzle_solving_blogger_blogger_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ui/puzzle-solving/blogger/blogger.component */ "./src/app/ui/puzzle-solving/blogger/blogger.component.ts");
/* harmony import */ var _ui_components_clue_text_control_clue_text_control_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ui/components/clue-text-control/clue-text-control.component */ "./src/app/ui/components/clue-text-control/clue-text-control.component.ts");
/* harmony import */ var _ui_components_clue_text_clue_text_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ui/components/clue-text/clue-text.component */ "./src/app/ui/components/clue-text/clue-text.component.ts");
/* harmony import */ var _ui_components_clues_preview_clues_preview_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ui/components/clues-preview/clues-preview.component */ "./src/app/ui/components/clues-preview/clues-preview.component.ts");
/* harmony import */ var _ui_components_content_preview_content_preview_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ui/components/content-preview/content-preview.component */ "./src/app/ui/components/content-preview/content-preview.component.ts");
/* harmony import */ var _ui_pipes_html_as_is_pipe__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ui/pipes/html-as-is.pipe */ "./src/app/ui/pipes/html-as-is.pipe.ts");
/* harmony import */ var _ui_components_validation_message_validation_message_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./ui/components/validation-message/validation-message.component */ "./src/app/ui/components/validation-message/validation-message.component.ts");
/* harmony import */ var _ui_components_login_control_login_control_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ui/components/login-control/login-control.component */ "./src/app/ui/components/login-control/login-control.component.ts");
/* harmony import */ var _ui_puzzle_editing_archive_archive_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./ui/puzzle-editing/archive/archive.component */ "./src/app/ui/puzzle-editing/archive/archive.component.ts");
/* harmony import */ var _ui_pipes_provider_pipe__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ui/pipes/provider.pipe */ "./src/app/ui/pipes/provider.pipe.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_grid_publish_grid_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-grid/publish-grid.component */ "./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.ts");
/* harmony import */ var _ui_components_color_control_color_control_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./ui/components/color-control/color-control.component */ "./src/app/ui/components/color-control/color-control.component.ts");
/* harmony import */ var _ui_puzzle_publishing_publish_login_publish_login_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./ui/puzzle-publishing/publish-login/publish-login.component */ "./src/app/ui/puzzle-publishing/publish-login/publish-login.component.ts");
/* harmony import */ var _ui_components_tip_tip_component__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./ui/components/tip/tip.component */ "./src/app/ui/components/tip/tip.component.ts");
/* harmony import */ var _ui_components_tip_tip_instance__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./ui/components/tip/tip-instance */ "./src/app/ui/components/tip/tip-instance.ts");
/* harmony import */ var _ui_puzzle_editing_open_puzzle_open_puzzle_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ui/puzzle-editing/open-puzzle/open-puzzle.component */ "./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.ts");
/* harmony import */ var _ui_pipes_wordpress_id_pipe__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./ui/pipes/wordpress-id.pipe */ "./src/app/ui/pipes/wordpress-id.pipe.ts");
/* harmony import */ var _ui_puzzle_editing_indy_indy_component__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./ui/puzzle-editing/indy/indy.component */ "./src/app/ui/puzzle-editing/indy/indy.component.ts");
/* harmony import */ var _ui_components_confirm_modal_confirm_modal_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./ui/components/confirm-modal/confirm-modal.component */ "./src/app/ui/components/confirm-modal/confirm-modal.component.ts");
/* harmony import */ var _ui_puzzle_editing_grid_editor_grid_editor_component__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./ui/puzzle-editing/grid-editor/grid-editor.component */ "./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.ts");
/* harmony import */ var _ui_puzzle_editing_grid_start_grid_start_component__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./ui/puzzle-editing/grid-start/grid-start.component */ "./src/app/ui/puzzle-editing/grid-start/grid-start.component.ts");
/* harmony import */ var _ui_components_grid_properties_editor_grid_properties_editor_component__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./ui/components/grid-properties-editor/grid-properties-editor.component */ "./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.ts");
/* harmony import */ var _ui_components_download_button_download_button_component__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./ui/components/download-button/download-button.component */ "./src/app/ui/components/download-button/download-button.component.ts");
/* harmony import */ var _ui_components_diary_alias_control_diary_alias_control_component__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./ui/components/diary-alias-control/diary-alias-control.component */ "./src/app/ui/components/diary-alias-control/diary-alias-control.component.ts");
/* harmony import */ var _ui_components_diary_settings_editor_diary_settings_editor_component__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./ui/components/diary-settings-editor/diary-settings-editor.component */ "./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_pdf_special_pdf_component__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./ui/puzzle-editing/special-pdf/special-pdf.component */ "./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_special_component__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./ui/puzzle-editing/special/special.component */ "./src/app/ui/puzzle-editing/special/special.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_text_special_text_component__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./ui/puzzle-editing/special-text/special-text.component */ "./src/app/ui/puzzle-editing/special-text/special-text.component.ts");
/* harmony import */ var _ui_components_parse_result_parse_result_component__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./ui/components/parse-result/parse-result.component */ "./src/app/ui/components/parse-result/parse-result.component.ts");
/* harmony import */ var _ui_components_parse_error_hint_parse_error_hint_component__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./ui/components/parse-error-hint/parse-error-hint.component */ "./src/app/ui/components/parse-error-hint/parse-error-hint.component.ts");
/* harmony import */ var _ui_navigation_tracks_publish_post_track__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./ui/navigation/tracks/publish-post-track */ "./src/app/ui/navigation/tracks/publish-post-track.ts");
/* harmony import */ var _ui_navigation_tracks_publish_grid_track__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./ui/navigation/tracks/publish-grid-track */ "./src/app/ui/navigation/tracks/publish-grid-track.ts");
/* harmony import */ var _ui_navigation_nav_service__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./ui/navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var _ui_puzzle_editing_create_puzzle_create_puzzle_component__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ./ui/puzzle-editing/create-puzzle/create-puzzle.component */ "./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.ts");
/* harmony import */ var _ui_puzzle_editing_clues_editor_clues_editor_component__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ./ui/puzzle-editing/clues-editor/clues-editor.component */ "./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.ts");
/* harmony import */ var _ui_puzzle_editing_validate_puzzle_validate_puzzle_component__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ./ui/puzzle-editing/validate-puzzle/validate-puzzle.component */ "./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.ts");
/* harmony import */ var _ui_navigation_ui_process_service__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ./ui/navigation/ui-process.service */ "./src/app/ui/navigation/ui-process.service.ts");
/* harmony import */ var _ui_puzzle_editing_clues_start_clues_start_component__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ./ui/puzzle-editing/clues-start/clues-start.component */ "./src/app/ui/puzzle-editing/clues-start/clues-start.component.ts");
/* harmony import */ var _ui_puzzle_editing_link_error_link_error_component__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ./ui/puzzle-editing/link-error/link-error.component */ "./src/app/ui/puzzle-editing/link-error/link-error.component.ts");
/* harmony import */ var _ui_app_general_home_home_component__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ./ui/app-general/home/home.component */ "./src/app/ui/app-general/home/home.component.ts");
/* harmony import */ var _ui_app_general_login_login_component__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ./ui/app-general/login/login.component */ "./src/app/ui/app-general/login/login.component.ts");
/* harmony import */ var _ui_app_general_readme_readme_component__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ./ui/app-general/readme/readme.component */ "./src/app/ui/app-general/readme/readme.component.ts");
/* harmony import */ var _ui_app_general_settings_settings_component__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ./ui/app-general/settings/settings.component */ "./src/app/ui/app-general/settings/settings.component.ts");
/* harmony import */ var _ui_app_general_diary_diary_component__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ./ui/app-general/diary/diary.component */ "./src/app/ui/app-general/diary/diary.component.ts");
/* harmony import */ var _ui_puzzle_editing_special_login_special_login_component__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ./ui/puzzle-editing/special-login/special-login.component */ "./src/app/ui/puzzle-editing/special-login/special-login.component.ts");
/* harmony import */ var _ui_puzzle_editing_nav_error_nav_error_component__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! ./ui/puzzle-editing/nav-error/nav-error.component */ "./src/app/ui/puzzle-editing/nav-error/nav-error.component.ts");
/* harmony import */ var _ui_components_clue_list_item_clue_list_item_component__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! ./ui/components/clue-list-item/clue-list-item.component */ "./src/app/ui/components/clue-list-item/clue-list-item.component.ts");
/* harmony import */ var _ui_navigation_tracks_create_track__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! ./ui/navigation/tracks/create-track */ "./src/app/ui/navigation/tracks/create-track.ts");
/* harmony import */ var _ui_navigation_tracks_solve_track__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! ./ui/navigation/tracks/solve-track */ "./src/app/ui/navigation/tracks/solve-track.ts");








































































const quillGlobalConfig = {
    modules: {
        toolbar: [
            ['bold', 'italic', 'underline'],
            [{ 'color': [] }, { 'background': [] }],
            [{ 'font': [] }],
            ['link', 'image']
        ]
    }
};
const tracks = [
    _ui_navigation_tracks_create_track__WEBPACK_IMPORTED_MODULE_70__["createTrack"],
    _ui_navigation_tracks_solve_track__WEBPACK_IMPORTED_MODULE_71__["solveTrack"],
    _ui_navigation_tracks_publish_post_track__WEBPACK_IMPORTED_MODULE_53__["publishPostTrack"],
    _ui_navigation_tracks_publish_grid_track__WEBPACK_IMPORTED_MODULE_54__["publishGridTrack"],
];
let AppModule = class AppModule {
};
AppModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [
            _ui_pipes_html_as_is_pipe__WEBPACK_IMPORTED_MODULE_28__["HtmlAsIsPipe"],
            _ui_pipes_provider_pipe__WEBPACK_IMPORTED_MODULE_32__["ProviderPipe"],
            _ui_app_app_component__WEBPACK_IMPORTED_MODULE_10__["AppComponent"],
            _ui_components_grid_grid_component__WEBPACK_IMPORTED_MODULE_19__["GridComponent"],
            _ui_components_clue_list_clue_list_component__WEBPACK_IMPORTED_MODULE_15__["ClueListComponent"],
            _ui_puzzle_solving_solver_solver_component__WEBPACK_IMPORTED_MODULE_16__["SolverComponent"],
            _ui_components_clue_editor_clue_editor_component__WEBPACK_IMPORTED_MODULE_17__["ClueEditorComponent"],
            _ui_components_clue_text_control_clue_text_control_component__WEBPACK_IMPORTED_MODULE_24__["ClueTextControlComponent"],
            _ui_components_clue_text_chunk_clue_text_chunk_component__WEBPACK_IMPORTED_MODULE_18__["ClueTextChunkComponent"],
            _ui_app_general_home_home_component__WEBPACK_IMPORTED_MODULE_62__["HomeComponent"],
            _ui_puzzle_publishing_publish_options_publish_options_component__WEBPACK_IMPORTED_MODULE_11__["PublishOptionsComponent"],
            _ui_puzzle_publishing_publish_publish_component__WEBPACK_IMPORTED_MODULE_12__["PublishComponent"],
            _ui_puzzle_publishing_publish_complete_publish_complete_component__WEBPACK_IMPORTED_MODULE_13__["PublishCompleteComponent"],
            _ui_puzzle_publishing_publish_preamble_publish_preamble_component__WEBPACK_IMPORTED_MODULE_14__["PublishPreambleComponent"],
            _ui_components_alert_alert_component__WEBPACK_IMPORTED_MODULE_21__["AlertComponent"],
            _ui_components_text_style_text_style_component__WEBPACK_IMPORTED_MODULE_22__["TextStyleComponent"],
            _ui_puzzle_solving_blogger_blogger_component__WEBPACK_IMPORTED_MODULE_23__["BloggerComponent"],
            _ui_components_clue_text_clue_text_component__WEBPACK_IMPORTED_MODULE_25__["ClueTextComponent"],
            _ui_components_clues_preview_clues_preview_component__WEBPACK_IMPORTED_MODULE_26__["CluesPreviewComponent"],
            _ui_components_content_preview_content_preview_component__WEBPACK_IMPORTED_MODULE_27__["ContentPreviewComponent"],
            _ui_components_validation_message_validation_message_component__WEBPACK_IMPORTED_MODULE_29__["ValidationMessageComponent"],
            _ui_app_general_login_login_component__WEBPACK_IMPORTED_MODULE_63__["LoginComponent"],
            _ui_components_login_control_login_control_component__WEBPACK_IMPORTED_MODULE_30__["LoginControlComponent"],
            _ui_puzzle_editing_archive_archive_component__WEBPACK_IMPORTED_MODULE_31__["ArchiveComponent"],
            _ui_puzzle_publishing_publish_grid_publish_grid_component__WEBPACK_IMPORTED_MODULE_33__["PublishGridComponent"],
            _ui_components_color_control_color_control_component__WEBPACK_IMPORTED_MODULE_34__["ColorControlComponent"],
            _ui_puzzle_publishing_publish_login_publish_login_component__WEBPACK_IMPORTED_MODULE_35__["PublishLoginComponent"],
            _ui_components_tip_tip_component__WEBPACK_IMPORTED_MODULE_36__["TipComponent"],
            _ui_app_general_readme_readme_component__WEBPACK_IMPORTED_MODULE_64__["ReadmeComponent"],
            _ui_app_general_settings_settings_component__WEBPACK_IMPORTED_MODULE_65__["SettingsComponent"],
            _ui_puzzle_editing_open_puzzle_open_puzzle_component__WEBPACK_IMPORTED_MODULE_38__["OpenPuzzleComponent"],
            _ui_pipes_wordpress_id_pipe__WEBPACK_IMPORTED_MODULE_39__["WordpressIdPipe"],
            _ui_puzzle_editing_indy_indy_component__WEBPACK_IMPORTED_MODULE_40__["IndyComponent"],
            _ui_components_confirm_modal_confirm_modal_component__WEBPACK_IMPORTED_MODULE_41__["ConfirmModalComponent"],
            _ui_puzzle_editing_grid_editor_grid_editor_component__WEBPACK_IMPORTED_MODULE_42__["GridEditorComponent"],
            _ui_puzzle_editing_grid_start_grid_start_component__WEBPACK_IMPORTED_MODULE_43__["GridStartComponent"],
            _ui_components_grid_properties_editor_grid_properties_editor_component__WEBPACK_IMPORTED_MODULE_44__["GridPropertiesEditorComponent"],
            _ui_components_download_button_download_button_component__WEBPACK_IMPORTED_MODULE_45__["DownloadButtonComponent"],
            _ui_app_general_diary_diary_component__WEBPACK_IMPORTED_MODULE_66__["DiaryComponent"],
            _ui_components_diary_alias_control_diary_alias_control_component__WEBPACK_IMPORTED_MODULE_46__["DiaryAliasControlComponent"],
            _ui_components_diary_settings_editor_diary_settings_editor_component__WEBPACK_IMPORTED_MODULE_47__["DiarySettingsEditorComponent"],
            _ui_puzzle_editing_special_pdf_special_pdf_component__WEBPACK_IMPORTED_MODULE_48__["SpecialPdfComponent"],
            _ui_puzzle_editing_special_special_component__WEBPACK_IMPORTED_MODULE_49__["SpecialComponent"],
            _ui_puzzle_editing_special_text_special_text_component__WEBPACK_IMPORTED_MODULE_50__["SpecialTextComponent"],
            _ui_components_parse_result_parse_result_component__WEBPACK_IMPORTED_MODULE_51__["ParseResultComponent"],
            _ui_components_parse_error_hint_parse_error_hint_component__WEBPACK_IMPORTED_MODULE_52__["ParseErrorHintComponent"],
            _ui_puzzle_editing_create_puzzle_create_puzzle_component__WEBPACK_IMPORTED_MODULE_56__["CreatePuzzleComponent"],
            _ui_puzzle_editing_clues_editor_clues_editor_component__WEBPACK_IMPORTED_MODULE_57__["CluesEditorComponent"],
            _ui_puzzle_editing_validate_puzzle_validate_puzzle_component__WEBPACK_IMPORTED_MODULE_58__["ValidatePuzzleComponent"],
            _ui_puzzle_editing_clues_start_clues_start_component__WEBPACK_IMPORTED_MODULE_60__["CluesStartComponent"],
            _ui_puzzle_editing_link_error_link_error_component__WEBPACK_IMPORTED_MODULE_61__["LinkErrorComponent"],
            _ui_puzzle_editing_special_login_special_login_component__WEBPACK_IMPORTED_MODULE_67__["SpecialLoginComponent"],
            _ui_puzzle_editing_nav_error_nav_error_component__WEBPACK_IMPORTED_MODULE_68__["NavErrorComponent"],
            _ui_components_clue_list_item_clue_list_item_component__WEBPACK_IMPORTED_MODULE_69__["ClueListItemComponent"],
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_8__["BrowserAnimationsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ReactiveFormsModule"],
            _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__["NgbModule"],
            ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_7__["BsDatepickerModule"].forRoot(),
            _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClientModule"],
            ngx_quill__WEBPACK_IMPORTED_MODULE_6__["QuillModule"].forRoot(quillGlobalConfig),
            _app_routing_module__WEBPACK_IMPORTED_MODULE_9__["AppRoutingModule"],
        ],
        providers: [
            _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__["PuzzleManagementService"],
            { provide: _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__["IPuzzleManager"], useExisting: _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__["PuzzleManagementService"] },
            { provide: _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__["IActivePuzzle"], useExisting: _services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_20__["PuzzleManagementService"] },
            _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"],
            _ui_components_tip_tip_instance__WEBPACK_IMPORTED_MODULE_37__["TipInstanceFactory"],
            { provide: _ui_navigation_nav_service__WEBPACK_IMPORTED_MODULE_55__["NAV_TRACKS"], useValue: tracks },
            { provide: _ui_navigation_nav_service__WEBPACK_IMPORTED_MODULE_55__["NAV_PROCESSOR"], useClass: _ui_navigation_ui_process_service__WEBPACK_IMPORTED_MODULE_59__["UIProcessService"] },
        ],
        entryComponents: [
            _ui_components_clue_editor_clue_editor_component__WEBPACK_IMPORTED_MODULE_17__["ClueEditorComponent"],
            _ui_components_confirm_modal_confirm_modal_component__WEBPACK_IMPORTED_MODULE_41__["ConfirmModalComponent"],
        ],
        bootstrap: [_ui_app_app_component__WEBPACK_IMPORTED_MODULE_10__["AppComponent"]]
    })
], AppModule);



/***/ }),

/***/ "./src/app/model/archive-index.ts":
/*!****************************************!*\
  !*** ./src/app/model/archive-index.ts ***!
  \****************************************/
/*! exports provided: ArchiveIndex */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchiveIndex", function() { return ArchiveIndex; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _archive_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./archive-item */ "./src/app/model/archive-item.ts");


class ArchiveIndex {
    constructor(data) {
        if (data) {
            this.provider = data.provider;
            let items = [];
            if (Array.isArray(data.items)) {
                data.items.forEach(item => items.push(new _archive_item__WEBPACK_IMPORTED_MODULE_1__["ArchiveItem"](item)));
            }
            this.items = items;
        }
    }
}


/***/ }),

/***/ "./src/app/model/archive-item.ts":
/*!***************************************!*\
  !*** ./src/app/model/archive-item.ts ***!
  \***************************************/
/*! exports provided: ArchiveItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchiveItem", function() { return ArchiveItem; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);


class ArchiveItem {
    constructor(data) {
        this.provider = data.provider;
        this.serialNumber = data.serialNumber;
        this.date = moment__WEBPACK_IMPORTED_MODULE_1___default()(data.xwordDate).toDate();
        this.setter = data.setter;
        this.url = data.url;
    }
}


/***/ }),

/***/ "./src/app/model/archive.ts":
/*!**********************************!*\
  !*** ./src/app/model/archive.ts ***!
  \**********************************/
/*! exports provided: Archive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Archive", function() { return Archive; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _archive_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./archive-index */ "./src/app/model/archive-index.ts");


class Archive {
    constructor(data) {
        let indexes = [];
        if (data && Array.isArray(data.indexes)) {
            data.indexes.forEach(index => indexes.push(new _archive_index__WEBPACK_IMPORTED_MODULE_1__["ArchiveIndex"](index)));
        }
        this.indexes = indexes;
    }
    getIndex(provider) {
        return this.indexes.find(index => index.provider === provider);
    }
}


/***/ }),

/***/ "./src/app/model/clue-text-chunk.ts":
/*!******************************************!*\
  !*** ./src/app/model/clue-text-chunk.ts ***!
  \******************************************/
/*! exports provided: TextChunk */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextChunk", function() { return TextChunk; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class TextChunk {
    constructor(data) {
        this.text = data.text;
        this.isDefinition = data.isDefinition;
    }
}


/***/ }),

/***/ "./src/app/model/clue.ts":
/*!*******************************!*\
  !*** ./src/app/model/clue.ts ***!
  \*******************************/
/*! exports provided: Clue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Clue", function() { return Clue; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _grid_entry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid-entry */ "./src/app/model/grid-entry.ts");
/* harmony import */ var _clue_text_chunk__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clue-text-chunk */ "./src/app/model/clue-text-chunk.ts");



class Clue {
    constructor(data) {
        this.id = data.id;
        this.caption = data.caption;
        this.text = data.text;
        this.letterCount = data.letterCount;
        this.answer = data.answer;
        this.solution = data.solution;
        this.annotation = data.annotation;
        this.format = data.format;
        this.comment = data.comment;
        this.highlight = data.highlight;
        if (typeof data.group === "string" && (data.group === "across" || data.group === "down")) {
            this.group = data.group;
        }
        else {
            throw "unrecognised clue group when reading clue data";
        }
        if (typeof data.redirect === "boolean") {
            this.redirect = data.redirect;
        }
        else if (typeof data.text === "string" && data.text.length > 0) {
            this.redirect = new RegExp("^see\\s+\\d+(\\d+|across|down|,|\\s+)*$", "i").test(data.text);
        }
        else {
            this.redirect = false;
        }
        let entries = [];
        data.entries.forEach(entry => entries.push(new _grid_entry__WEBPACK_IMPORTED_MODULE_1__["GridEntry"](entry)));
        this.entries = entries;
        let chunks = [];
        data.chunks.forEach(chunk => chunks.push(new _clue_text_chunk__WEBPACK_IMPORTED_MODULE_2__["TextChunk"](chunk)));
        this.chunks = chunks;
        let warnings = [];
        if (data.warnings) {
            data.warnings.forEach(warning => warnings.push(warning));
        }
        this.warnings = warnings;
    }
    get lengthAvailable() {
        let count = 0;
        this.entries.forEach(entry => entry.cellIds.forEach(c => count = count + 1));
        return count;
    }
    get answerFormat() {
        let result = "";
        let groups = this.letterCount.split(",");
        groups.forEach((group, index) => {
            result += this.parseGroup(group);
            if (index < groups.length - 1) {
                result += "/";
            }
        });
        return result;
    }
    parseGroup(group) {
        let result = "";
        let match = null;
        let exp = /\d+|[^a-z0-9]/gi;
        while (match = exp.exec(group.trim())) {
            let text = match[0];
            if (/\d/.test(text)) {
                let len = parseInt(text);
                result += ",".repeat(len);
            }
            else if (text.trim()) {
                result += text.trim();
            }
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/model/diary-entry.ts":
/*!**************************************!*\
  !*** ./src/app/model/diary-entry.ts ***!
  \**************************************/
/*! exports provided: DiaryEntry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiaryEntry", function() { return DiaryEntry; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! luxon */ "./node_modules/luxon/build/cjs-browser/luxon.js");
/* harmony import */ var luxon__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(luxon__WEBPACK_IMPORTED_MODULE_1__);


class DiaryEntry {
    constructor(data) {
        if (data) {
            this.solver = data.solver;
            this.provider = data.provider;
            if (typeof data.solve === "boolean") {
                this.solve = data.solve;
            }
            if (typeof data.postDate === "string") {
                try {
                    this.postDate = luxon__WEBPACK_IMPORTED_MODULE_1__["DateTime"].fromISO(data.postDate);
                }
                catch (_a) {
                    this.postDate = null;
                }
            }
            if (typeof data.solveDate === "string") {
                try {
                    this.solveDate = luxon__WEBPACK_IMPORTED_MODULE_1__["DateTime"].fromISO(data.solveDate);
                }
                catch (_b) {
                    this.solveDate = null;
                }
            }
        }
    }
}


/***/ }),

/***/ "./src/app/model/diary.ts":
/*!********************************!*\
  !*** ./src/app/model/diary.ts ***!
  \********************************/
/*! exports provided: Diary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Diary", function() { return Diary; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _diary_entry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./diary-entry */ "./src/app/model/diary-entry.ts");


class Diary {
    constructor(data) {
        this.entries = [];
        if (data && Array.isArray(data.entries)) {
            let entries = [];
            data.entries.forEach(d => entries.push(new _diary_entry__WEBPACK_IMPORTED_MODULE_1__["DiaryEntry"](d)));
            this.entries = entries;
        }
    }
}


/***/ }),

/***/ "./src/app/model/grid-cell.ts":
/*!************************************!*\
  !*** ./src/app/model/grid-cell.ts ***!
  \************************************/
/*! exports provided: GridCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridCell", function() { return GridCell; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class GridCell {
    constructor(data) {
        this.id = data.id;
        this.x = data.x;
        this.y = data.y;
        this.caption = data.caption;
        this.content = data.content;
        this.light = data.light;
        this.rightBar = data.rightBar;
        this.bottomBar = data.bottomBar;
        this.highlight = data.highlight;
        this.shading = data.shading;
        this.edit = data.edit;
    }
}


/***/ }),

/***/ "./src/app/model/grid-entry.ts":
/*!*************************************!*\
  !*** ./src/app/model/grid-entry.ts ***!
  \*************************************/
/*! exports provided: GridEntry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEntry", function() { return GridEntry; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class GridEntry {
    constructor(data) {
        let cellIds = [];
        data.cellIds.forEach(id => cellIds.push(id));
        this.cellIds = cellIds;
    }
}


/***/ }),

/***/ "./src/app/model/grid-properties.ts":
/*!******************************************!*\
  !*** ./src/app/model/grid-properties.ts ***!
  \******************************************/
/*! exports provided: GridProperties */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridProperties", function() { return GridProperties; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _grid_size__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid-size */ "./src/app/model/grid-size.ts");


class GridProperties {
    constructor(data) {
        this.style = data.style;
        this.symmetrical = data.symmetrical;
        this.size = new _grid_size__WEBPACK_IMPORTED_MODULE_1__["GridSize"](data.size);
    }
}


/***/ }),

/***/ "./src/app/model/grid-size.ts":
/*!************************************!*\
  !*** ./src/app/model/grid-size.ts ***!
  \************************************/
/*! exports provided: GridSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridSize", function() { return GridSize; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class GridSize {
    constructor(data) {
        this.across = data.across;
        this.down = data.down;
    }
}


/***/ }),

/***/ "./src/app/model/grid.ts":
/*!*******************************!*\
  !*** ./src/app/model/grid.ts ***!
  \*******************************/
/*! exports provided: Grid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return Grid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _grid_cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid-cell */ "./src/app/model/grid-cell.ts");
/* harmony import */ var _grid_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grid-properties */ "./src/app/model/grid-properties.ts");



class Grid {
    constructor(data) {
        if (data.size) {
            this.properties = new _grid_properties__WEBPACK_IMPORTED_MODULE_2__["GridProperties"]({
                size: {
                    across: data.size.across,
                    down: data.size.down,
                },
                style: data.style,
            });
        }
        else if (data.properties) {
            this.properties = new _grid_properties__WEBPACK_IMPORTED_MODULE_2__["GridProperties"](data.properties);
        }
        let cells = [];
        data.cells.forEach(cell => cells.push(new _grid_cell__WEBPACK_IMPORTED_MODULE_1__["GridCell"](cell)));
        this.cells = cells;
    }
    cellAt(x, y) {
        return this.cells.find((cell) => cell.x === x && cell.y === y);
    }
    *getNavigator(startCellId, orientation) {
        const cellsAcross = this.properties.size.across;
        const cellsDown = this.properties.size.down;
        let current = this.cells.find(c => c.id === startCellId);
        // yield the "start" as the first "next" value
        // the naming seems confusing but is the way that one would expect the iterator to work
        if (current) {
            yield current;
        }
        else {
            return null;
        }
        while (current !== null) {
            switch (orientation) {
                case "right":
                    if (current.x + 1 < cellsAcross) {
                        current = this.cellAt(current.x + 1, current.y);
                    }
                    else if (current.y + 1 < cellsDown) {
                        current = this.cellAt(0, current.y + 1);
                    }
                    else {
                        current = this.cellAt(0, 0);
                    }
                    break;
                case "left":
                    if (current.x - 1 >= 0) {
                        current = this.cellAt(current.x - 1, current.y);
                    }
                    else if (current.y - 1 >= 0) {
                        current = this.cellAt(cellsAcross - 1, current.y - 1);
                    }
                    else {
                        current = this.cellAt(cellsAcross - 1, cellsDown - 1);
                    }
                    break;
                case "up":
                    if (current.y - 1 >= 0) {
                        current = this.cellAt(current.x, current.y - 1);
                    }
                    else if (current.x - 1 >= 0) {
                        current = this.cellAt(current.x - 1, cellsDown - 1);
                    }
                    else {
                        current = this.cellAt(cellsAcross - 1, cellsDown - 1);
                    }
                    break;
                case "down":
                    if (current.y + 1 < cellsDown) {
                        current = this.cellAt(current.x, current.y + 1);
                    }
                    else if (current.x + 1 < cellsDown) {
                        current = this.cellAt(current.x + 1, 0);
                    }
                    else {
                        current = this.cellAt(0, 0);
                    }
                    break;
            }
            ;
            if (current.id !== startCellId) {
                yield current;
            }
            else {
                return null;
            }
        }
        return null;
    }
    getGridEntryForCell(cellId) {
        let entry = [];
        let startCell = this.cells.find(c => c.id === cellId);
        if (startCell && startCell.light) {
            entry = this.getEntry(startCell, "across");
            if (entry.length < 2) {
                entry = this.getEntry(startCell, "down");
            }
        }
        return entry;
    }
    getGridEntryForCaption(caption, direction) {
        let entry = [];
        let startCell = this.cells.find(c => c.caption === caption);
        if (startCell) {
            entry = this.getEntry(startCell, direction);
        }
        return entry;
    }
    getEntry(entryCell, direction) {
        let result = [];
        let startCell = null;
        const indexProp = direction === "across" ? "x" : "y";
        const barProp = direction === "across" ? "rightBar" : "bottomBar";
        const forwards = direction === "across" ? "right" : "down";
        const backwards = direction === "across" ? "left" : "up";
        const gridSize = direction === "across" ? this.properties.size.across : this.properties.size.down;
        // first backtrack looking for the start of the entry
        let nav = this.getNavigator(entryCell.id, backwards);
        let cell = nav.next().value;
        let next = nav.next().value;
        while (cell) {
            if (cell[indexProp] === 0 ||
                (next && !next.light) ||
                (next && next[barProp])) {
                // found first cell in entry
                startCell = cell;
                cell = null;
                next = null;
            }
            else {
                cell = next;
                next = nav.next().value;
            }
        }
        ;
        // now go forward again looking for the end of the entry
        nav = this.getNavigator(startCell.id, forwards);
        cell = nav.next().value;
        next = nav.next().value;
        while (cell) {
            result.push(cell);
            if (cell[indexProp] === gridSize - 1 ||
                cell[barProp] ||
                (next && !next.light)) {
                //found last cell in entry
                cell = null;
                next = null;
            }
            else {
                cell = next;
                next = nav.next().value;
            }
        }
        ;
        return result;
    }
}


/***/ }),

/***/ "./src/app/model/interfaces.ts":
/*!*************************************!*\
  !*** ./src/app/model/interfaces.ts ***!
  \*************************************/
/*! exports provided: QuillDelta, ReadonlyQuillDelta, GridStyles, ITextChunk, IClue, IGridEntry, IGridCell, IGridProperties, IGrid, IPuzzle, IPuzzleSource, IPuzzleInfo, IPublishOptions, ITextStyle, IPuzzleAnnotation, IGridSize, IParseError, IDiary, IDiaryEntry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QuillDelta", function() { return QuillDelta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReadonlyQuillDelta", function() { return ReadonlyQuillDelta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridStyles", function() { return GridStyles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ITextChunk", function() { return ITextChunk; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IClue", function() { return IClue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGridEntry", function() { return IGridEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGridCell", function() { return IGridCell; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGridProperties", function() { return IGridProperties; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGrid", function() { return IGrid; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPuzzle", function() { return IPuzzle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPuzzleSource", function() { return IPuzzleSource; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPuzzleInfo", function() { return IPuzzleInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPublishOptions", function() { return IPublishOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ITextStyle", function() { return ITextStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPuzzleAnnotation", function() { return IPuzzleAnnotation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IGridSize", function() { return IGridSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IParseError", function() { return IParseError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IDiary", function() { return IDiary; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IDiaryEntry", function() { return IDiaryEntry; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class QuillDelta {
}
class ReadonlyQuillDelta {
}
const GridStyles = {
    standard: "standard",
    barred: "barred",
};
// NOTE: using abtract classe rather than interface so that the members can be 
// marked as read-only
class ITextChunk {
}
class IClue {
}
class IGridEntry {
}
class IGridCell {
}
class IGridProperties {
}
class IGrid {
}
class IPuzzle {
}
class IPuzzleSource {
}
class IPuzzleInfo {
}
class IPublishOptions {
}
class ITextStyle {
}
class IPuzzleAnnotation {
}
class IGridSize {
}
class IParseError {
}
class IDiary {
}
class IDiaryEntry {
}


/***/ }),

/***/ "./src/app/model/publish-options.ts":
/*!******************************************!*\
  !*** ./src/app/model/publish-options.ts ***!
  \******************************************/
/*! exports provided: PublishOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishOptions", function() { return PublishOptions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _text_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./text-style */ "./src/app/model/text-style.ts");


class PublishOptions {
    constructor(data) {
        this.answerStyle = data.answerStyle ? new _text_style__WEBPACK_IMPORTED_MODULE_1__["TextStyle"](data.answerStyle) : null;
        this.clueStyle = data.clueStyle ? new _text_style__WEBPACK_IMPORTED_MODULE_1__["TextStyle"](data.clueStyle) : null;
        this.definitionStyle = data.definitionStyle ? new _text_style__WEBPACK_IMPORTED_MODULE_1__["TextStyle"](data.definitionStyle) : null;
        this.includeGrid = !!(data.includeGrid);
        this.layout = data.layout ? data.layout : "table";
        this.spacing = data.spacing ? data.spacing : "medium";
    }
}


/***/ }),

/***/ "./src/app/model/puzzle-annotation.ts":
/*!********************************************!*\
  !*** ./src/app/model/puzzle-annotation.ts ***!
  \********************************************/
/*! exports provided: PuzzleAnnotation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PuzzleAnnotation", function() { return PuzzleAnnotation; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class PuzzleAnnotation {
    constructor(data) {
        this.header = data.header;
        this.body = data.body;
        this.footer = data.footer;
    }
}


/***/ }),

/***/ "./src/app/model/puzzle-info.ts":
/*!**************************************!*\
  !*** ./src/app/model/puzzle-info.ts ***!
  \**************************************/
/*! exports provided: PuzzleInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PuzzleInfo", function() { return PuzzleInfo; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class PuzzleInfo {
    constructor(data) {
        this.id = data.id;
        this.title = data.title;
        this.puzzleDate = new Date(data.puzzleDate);
        this.provider = data.provider;
        this.setter = data.setter;
        this.wordpressId = data.wordpressId;
        this.blogable = data.blogable;
        this.solveable = data.solveable;
        this.gridable = data.gridable;
        //this.ready = typeof data.ready === "boolean" ? data.ready : true; 
        this.source = typeof data.source === "string" ? data.source : null;
    }
}


/***/ }),

/***/ "./src/app/model/puzzle.ts":
/*!*********************************!*\
  !*** ./src/app/model/puzzle.ts ***!
  \*********************************/
/*! exports provided: definitionMaskMarker, Puzzle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "definitionMaskMarker", function() { return definitionMaskMarker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Puzzle", function() { return Puzzle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _publish_options__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./publish-options */ "./src/app/model/publish-options.ts");
/* harmony import */ var _puzzle_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./puzzle-info */ "./src/app/model/puzzle-info.ts");
/* harmony import */ var _puzzle_annotation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./puzzle-annotation */ "./src/app/model/puzzle-annotation.ts");
/* harmony import */ var _grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid */ "./src/app/model/grid.ts");
/* harmony import */ var _clue__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./clue */ "./src/app/model/clue.ts");






const definitionMaskMarker = "d";
class Puzzle {
    constructor(data) {
        this.revision = data.revision ? data.revision : 0;
        if (data.grid) {
            this.grid = new _grid__WEBPACK_IMPORTED_MODULE_4__["Grid"](data.grid);
        }
        else {
            this.grid = null;
        }
        if (data.clues) {
            let clues = [];
            data.clues.forEach(clue => clues.push(new _clue__WEBPACK_IMPORTED_MODULE_5__["Clue"](clue)));
            this.clues = clues;
        }
        else {
            this.clues = null;
        }
        // backwards compatibility
        if (data.info.solveable === undefined) {
            data.info.solveable = data.solveable;
            data.info.blogable = true;
            data.info.gridable = false;
        }
        this.info = new _puzzle_info__WEBPACK_IMPORTED_MODULE_2__["PuzzleInfo"](data.info);
        this.notes = new _puzzle_annotation__WEBPACK_IMPORTED_MODULE_3__["PuzzleAnnotation"](data.notes);
        this.publishOptions = new _publish_options__WEBPACK_IMPORTED_MODULE_1__["PublishOptions"](data.publishOptions);
        this.linked = data.linked;
        //this.version = data.version;
        //this.createdWithVersion = data.createdWithVersion;
    }
    getSelectedClue() {
        return this.clues.find((clue) => clue.highlight);
    }
}


/***/ }),

/***/ "./src/app/model/text-style.ts":
/*!*************************************!*\
  !*** ./src/app/model/text-style.ts ***!
  \*************************************/
/*! exports provided: TextStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextStyle", function() { return TextStyle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class TextStyle {
    constructor(data) {
        this.color = data.color;
        this.bold = data.bold;
        this.italic = data.italic;
        this.underline = data.underline;
    }
    toCssStyleString() {
        let result = `color: ${this.color};`;
        if (this.bold) {
            result = result.concat(" font-weight: bold;");
        }
        if (this.italic) {
            result = result.concat(" font-style: italic;");
        }
        if (this.underline) {
            result = result.concat(" text-decoration: underline;");
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/services/app-settings.service.ts":
/*!**************************************************!*\
  !*** ./src/app/services/app-settings.service.ts ***!
  \**************************************************/
/*! exports provided: AppSettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppSettingsService", function() { return AppSettingsService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _local_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local-storage.service */ "./src/app/services/local-storage.service.ts");




// TO DO: so far all the the settings have turned out to be related to the UI.
// Consider if we need an app-wide settings service.  Perhaps move this to the
// UI section of the project
class _BooleanSetting {
    constructor(caption, enabled) {
        this.caption = caption;
        this.enabled = enabled;
    }
}
class _GeneralSettings {
}
class _TipSettings {
}
class _DiarySettings {
}
class _AppSettings {
}
/*
*   Steps to add a new tip or general boolean setting:
*
*   1) Add the name of the setting to one of the exported interfaces, either TipSettings or General Settings
*   2) Add an entry containing the caption and initial value to the _defaultSettings object below
*
*   The setting will automatically appear as a user configuration in the Settings page and will be available
*   for the app to use as appSettings.general.mynewname.enabled or appSettings.tps.mynewname.enabled.
*
*   Tips can be shown using the tip control <app-tip key="mynewnamme"> Your text goes here... </app-tip>
*/
// before adding more settings read the comment on interfaces GeneralSettings and TipSettings
const _defaultSettings = {
    username: null,
    sandbox: false,
    footer: { ops: [] },
    general: {
        showCommentEditor: { caption: "show comment editor", enabled: true },
        showCommentValidation: { caption: "show missing answers, comments, definitions etc", enabled: true },
        showCheat: { caption: "show cheat buttons", enabled: true },
    },
    tips: {
        general: { caption: "show general tips", enabled: true },
        definitionWarning: { caption: "show tip on highlighting definitions", enabled: true },
        gridEditor: { caption: "show tips on using the Grid Editor", enabled: true },
        gridEditorText: { caption: "show tips on entering text in grids", enabled: true },
        gridStart: { caption: "show tips on using the Grid Tool start page", enabled: true },
        specialText: { caption: "show tips on manually entering clue text", enabled: true },
    },
    diary: {
        showEverybody: false,
        aliases: ["PeeDee"]
    }
};
let AppSettingsService = class AppSettingsService {
    constructor(storageService) {
        this.storageService = storageService;
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](_defaultSettings);
        let data = storageService.getUserSettings();
        if (data) {
            try {
                let newSettings = JSON.parse(data);
                this.update(newSettings);
            }
            catch (_a) { }
        }
    }
    get settings() {
        return this.bs.value;
    }
    observe() {
        return this.bs.asObservable();
    }
    update(changes) {
        // make a copy of the current settings then overwrite with values from any matching items in the changes object 
        this._update((_settings) => {
            if (changes) {
                if (changes.username !== undefined &&
                    (typeof changes.username === "string" || changes.username === null)) {
                    _settings.username = changes.username;
                }
                if (changes.footer !== undefined && changes.footer.ops !== "undefined") {
                    _settings.footer = changes.footer;
                }
                if (changes.sandbox !== undefined && typeof changes.sandbox === "boolean") {
                    _settings.sandbox = changes.sandbox;
                }
                if (changes.diary && typeof changes.diary.showEverybody === "boolean") {
                    _settings.diary.showEverybody = changes.diary.showEverybody;
                }
                if (changes.diary && Array.isArray(changes.diary.aliases)) {
                    _settings.diary.aliases = [];
                    changes.diary.aliases.forEach(alias => {
                        if (alias.trim().length) {
                            _settings.diary.aliases.push(alias);
                        }
                    });
                }
                this._patchBooleanSettings(_settings, changes, "general");
                this._patchBooleanSettings(_settings, changes, "tips");
            }
        });
    }
    set username(val) {
        this._update((settings) => {
            settings.username = val;
        });
    }
    hideCommentEditor() {
        this._update((settings) => {
            settings.general.showCommentEditor.enabled = false;
        });
    }
    showCommentEditor() {
        this._update((settings) => {
            settings.general.showCommentEditor.enabled = true;
        });
    }
    toggleCommentEditor() {
        if (this.bs.value.general.showCommentEditor.enabled) {
            this.hideCommentEditor();
        }
        else {
            this.showCommentEditor();
        }
    }
    factoryReset() {
        this.storageService.saveUserSettings(JSON.stringify(_defaultSettings));
        this.update(_defaultSettings);
    }
    _update(modifier) {
        let newSettings = JSON.parse(JSON.stringify(this.bs.value));
        modifier(newSettings);
        this.storageService.saveUserSettings(JSON.stringify(newSettings));
        this.bs.next(newSettings);
    }
    _patchBooleanSettings(currentSettings, changes, group) {
        // For each of the settings in the given BooleanSettingsGroup it look for a matching
        // setting in the changes object and if we find one then apply the new value
        if (changes && typeof changes[group] === "object") {
            Object.keys(currentSettings[group]).forEach(key => {
                let newTip = changes[group][key];
                if (newTip && typeof newTip === "object" && typeof newTip.enabled === "boolean") {
                    currentSettings[group][key].enabled = newTip.enabled;
                }
            });
        }
    }
};
AppSettingsService.ctorParameters = () => [
    { type: _local_storage_service__WEBPACK_IMPORTED_MODULE_3__["LocalStorageService"] }
];
AppSettingsService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], AppSettingsService);



/***/ }),

/***/ "./src/app/services/archive-source.service.ts":
/*!****************************************************!*\
  !*** ./src/app/services/archive-source.service.ts ***!
  \****************************************************/
/*! exports provided: ArchiveService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchiveService", function() { return ArchiveService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _model_archive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/archive */ "./src/app/model/archive.ts");
/* harmony import */ var src_environments_environment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/environments/environment */ "./src/environments/environment.ts");







class ArchiveResponse {
}
let ArchiveService = class ArchiveService {
    constructor(http) {
        this.http = http;
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](new _model_archive__WEBPACK_IMPORTED_MODULE_5__["Archive"](null));
    }
    observe() {
        return this.bs.asObservable();
    }
    getList(provider) {
        return this.http.get(src_environments_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].apiRoot + "archive/" + provider)
            .toPromise()
            .then((data) => {
            if (data) {
                if (data.success === _common__WEBPACK_IMPORTED_MODULE_3__["ApiResponseStatus"].OK) {
                    this.bs.next(new _model_archive__WEBPACK_IMPORTED_MODULE_5__["Archive"](data));
                }
                else {
                    throw data.message;
                }
            }
        });
    }
};
ArchiveService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] }
];
ArchiveService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], ArchiveService);



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: Credentials, AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Credentials", function() { return Credentials; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var src_environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app-settings.service */ "./src/app/services/app-settings.service.ts");







class Credentials {
    constructor(username, password, authenticated) {
        this.username = username;
        this.password = password;
        this.authenticated = authenticated;
    }
}
const defaultCredentials = new Credentials("", "", false);
let AuthService = class AuthService {
    constructor(http, settingsService) {
        this.http = http;
        this.settingsService = settingsService;
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](defaultCredentials);
    }
    observe() {
        return this.bs.asObservable();
    }
    getCredentials() {
        return this.bs.value;
    }
    authenticate(username, password) {
        return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].apiRoot + "authorization/", { username, password, sandbox: this.settingsService.settings.sandbox })
            .toPromise()
            .then((data) => {
            if (data.success === _common__WEBPACK_IMPORTED_MODULE_4__["ApiResponseStatus"].OK) {
                this.settingsService.username = username;
                this.bs.next(new Credentials(username, password, true));
            }
            else {
                this.clearCredentials();
                throw _common__WEBPACK_IMPORTED_MODULE_4__["ApiSymbols"].AuthorizationFailure;
            }
        })
            .catch((error) => {
            this.clearCredentials();
            throw error;
        });
    }
    clearCredentials() {
        this.bs.next(new Credentials(this.settingsService.username, "", false));
    }
};
AuthService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] },
    { type: _app_settings_service__WEBPACK_IMPORTED_MODULE_6__["AppSettingsService"] }
];
AuthService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], AuthService);



/***/ }),

/***/ "./src/app/services/common.ts":
/*!************************************!*\
  !*** ./src/app/services/common.ts ***!
  \************************************/
/*! exports provided: ApiResponseStatus, ApiSymbols */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiResponseStatus", function() { return ApiResponseStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ApiSymbols", function() { return ApiSymbols; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

var ApiResponseStatus;
(function (ApiResponseStatus) {
    ApiResponseStatus[ApiResponseStatus["OK"] = 0] = "OK";
    ApiResponseStatus[ApiResponseStatus["other"] = 1] = "other";
    ApiResponseStatus[ApiResponseStatus["authorizationFailure"] = 2] = "authorizationFailure";
    ApiResponseStatus[ApiResponseStatus["apiDisabled"] = 3] = "apiDisabled";
})(ApiResponseStatus || (ApiResponseStatus = {}));
const ApiSymbols = {
    OK: Symbol("OK"),
    AuthorizationFailure: Symbol("AuthorizationFailure"),
    Error: Symbol("Error"),
};


/***/ }),

/***/ "./src/app/services/content-generator/content-generator-list-layout.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/services/content-generator/content-generator-list-layout.ts ***!
  \*****************************************************************************/
/*! exports provided: ContentGeneratorListLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContentGeneratorListLayout", function() { return ContentGeneratorListLayout; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta-to-html */ "./node_modules/quill-delta-to-html/dist/commonjs/main.js");
/* harmony import */ var quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! escape-html */ "./node_modules/escape-html/index.js");
/* harmony import */ var escape_html__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(escape_html__WEBPACK_IMPORTED_MODULE_2__);



const marginSizes = {
    small: "2px",
    medium: "5px",
    large: "8px",
};
class ContentGeneratorListLayout {
    // TO DO: IMPORTANT!
    // review this component for XSS vunerabilities
    constructor() {
        this.marginSize = "3px";
    }
    getContent(puzzle, gridUrl) {
        this.marginSize = marginSizes[puzzle.publishOptions.spacing];
        const markup = `
        <div>
            <div>
                ${this.writeQuillDelta(puzzle.notes.header)}
                <!-- MORE -->
                ${this.writeQuillDelta(puzzle.notes.body)}
            </div>

            <div>
                ${this.writeGridUrl(gridUrl)}
            </div>

            <div>
                ACROSS
            </div>
            
            <div>
                ${this.writeClues(puzzle.clues.filter(c => c.group === "across"), puzzle.publishOptions)}
            </div>

            <div>
                DOWN
            </div>
            
            <div>
            ${this.writeClues(puzzle.clues.filter(c => c.group === "down"), puzzle.publishOptions)}
            </div>

            <div>
                ${this.writeQuillDelta(puzzle.notes.footer)}
            </div>
        </div>
        `;
        return markup;
    }
    writeClue(clue, publishOptions) {
        const markup = `
        <div style="margin-top:${this.marginSize}">
            ${this.writeText(clue.caption, publishOptions.clueStyle)} ${this.writeClueText(clue.chunks, publishOptions)}
        </div>
        <div style="margin-top:${this.marginSize}">
            ${this.writeText(clue.answer, publishOptions.answerStyle)}
        </div>
        <div style="margin-top:${this.marginSize}">
            ${this.writeQuillDelta(clue.comment)}
        </div>`;
        return markup;
    }
    writeGridUrl(url) {
        let markup = "";
        if (url) {
            markup = `
            <img src="${url}" alt="image of grid">
            `;
        }
        return markup;
    }
    writeClues(clues, publishOptions) {
        let markup = "";
        clues.forEach(clue => markup += this.writeClue(clue, publishOptions));
        return markup;
    }
    writeText(text, textStyle) {
        let markup = "";
        if (textStyle) {
            markup = `<span style="${textStyle.toCssStyleString()}">${escape_html__WEBPACK_IMPORTED_MODULE_2___default()(text)}</span>`;
        }
        else {
            markup = escape_html__WEBPACK_IMPORTED_MODULE_2___default()(text);
        }
        return markup;
    }
    writeQuillDelta(delta) {
        let markup = "";
        if (delta && delta.ops && delta.ops.length) {
            const converter = new quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__["QuillDeltaToHtmlConverter"](delta.ops, { inlineStyles: true });
            markup = converter.convert();
        }
        return markup;
    }
    writeClueText(chunks, publishOptions) {
        let markup = "";
        chunks.forEach(chunk => {
            let textStyle = chunk.isDefinition ?
                publishOptions.definitionStyle :
                publishOptions.clueStyle;
            markup += `<span style="${textStyle.toCssStyleString()}">${chunk.text}</span>`;
        });
        return markup;
    }
}


/***/ }),

/***/ "./src/app/services/content-generator/content-generator-table-layout.ts":
/*!******************************************************************************!*\
  !*** ./src/app/services/content-generator/content-generator-table-layout.ts ***!
  \******************************************************************************/
/*! exports provided: ContentGeneratorTableLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContentGeneratorTableLayout", function() { return ContentGeneratorTableLayout; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! quill-delta-to-html */ "./node_modules/quill-delta-to-html/dist/commonjs/main.js");
/* harmony import */ var quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var escape_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! escape-html */ "./node_modules/escape-html/index.js");
/* harmony import */ var escape_html__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(escape_html__WEBPACK_IMPORTED_MODULE_2__);



const paddingSizes = {
    small: "1px",
    medium: "3px",
    large: "5px",
};
class ContentGeneratorTableLayout {
    // TO DO: IMPORTANT!
    // review this component for XSS vunerabilities
    // TO DO: rewrite this using the neater back-quote syntax, as used in ContentGeneratorListLayout
    constructor() {
        this.buffer = "";
        this.tdPadding = "3px";
    }
    getContent(puzzle, gridUrl) {
        this.tdPadding = paddingSizes[puzzle.publishOptions.spacing];
        this.addHtml("<div>");
        this.addQuillDelta(puzzle.notes.header);
        this.addHtml("<!-- MORE -->");
        this.addQuillDelta(puzzle.notes.body);
        if (gridUrl) {
            this.addHtml("<div>");
            this.addHtml(`<img src="${gridUrl}" alt="image of grid">`);
            this.addHtml("</div>");
        }
        this.addHtml("<table>");
        this.addHtml("<tbody>");
        this.addHtml("<tr>");
        this.openTD(3);
        this.addText("ACROSS");
        this.closeTD();
        this.addHtml("</tr>");
        this.addClues(puzzle.clues.filter(c => c.group === "across"), puzzle.publishOptions);
        this.addHtml("<tr>");
        this.openTD(3);
        this.addText("DOWN");
        this.closeTD();
        this.addHtml("</tr>");
        this.addClues(puzzle.clues.filter(c => c.group === "down"), puzzle.publishOptions);
        this.addHtml("</tbody>");
        this.addHtml("</table>");
        this.addQuillDelta(puzzle.notes.footer);
        this.addHtml("</div>");
        return this.buffer;
    }
    addHtml(html) {
        this.buffer = this.buffer.concat(html);
    }
    addText(text, textStyle) {
        let formattedText = "";
        if (textStyle) {
            formattedText = `<span style="${textStyle.toCssStyleString()}">${escape_html__WEBPACK_IMPORTED_MODULE_2___default()(text)}</span>`;
        }
        else {
            formattedText = escape_html__WEBPACK_IMPORTED_MODULE_2___default()(text);
        }
        this.buffer = this.buffer.concat(formattedText);
    }
    addQuillDelta(delta) {
        if (delta && delta.ops && delta.ops.length) {
            const converter = new quill_delta_to_html__WEBPACK_IMPORTED_MODULE_1__["QuillDeltaToHtmlConverter"](delta.ops, { inlineStyles: true });
            this.buffer = this.buffer.concat(converter.convert());
        }
    }
    addClues(clues, publishOptions) {
        clues.forEach(clue => this.addClue(clue, publishOptions));
    }
    addClue(clue, publishOptions) {
        // add a row for the clue and answer
        this.addHtml("<tr>");
        this.openTD();
        this.addText(clue.caption, publishOptions.answerStyle);
        this.closeTD();
        this.openTD();
        this.addText(clue.answer, publishOptions.answerStyle);
        this.closeTD();
        this.openTD();
        this.addClueText(clue.chunks, publishOptions);
        this.closeTD();
        this.addHtml("</tr>");
        // add a row for the comments
        this.addHtml("<tr>");
        this.openTD(2);
        this.addHtml("&nbsp;");
        this.closeTD();
        this.openTD();
        this.addQuillDelta(clue.comment);
        this.closeTD();
        this.addHtml("</tr>");
    }
    addClueText(chunks, publishOptions) {
        chunks.forEach(chunk => {
            let textStyle = chunk.isDefinition ?
                publishOptions.definitionStyle :
                publishOptions.clueStyle;
            this.addHtml(`<span style="${textStyle.toCssStyleString()}">${chunk.text}</span>`);
        });
    }
    openTD(colspan) {
        const attr = colspan ? `colspan="${colspan}"` : "";
        this.buffer = this.buffer.concat(`<td ${attr} style='padding: ${this.tdPadding};'>`);
    }
    closeTD() {
        this.buffer = this.buffer.concat("</td>");
    }
}


/***/ }),

/***/ "./src/app/services/diary.service.ts":
/*!*******************************************!*\
  !*** ./src/app/services/diary.service.ts ***!
  \*******************************************/
/*! exports provided: DiaryResponse, DiaryService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiaryResponse", function() { return DiaryResponse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiaryService", function() { return DiaryService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var _model_diary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../model/diary */ "./src/app/model/diary.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");








class DiaryResponse {
}
let DiaryService = class DiaryService {
    constructor(http, authService) {
        this.http = http;
        this.authService = authService;
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_7__["BehaviorSubject"](null);
    }
    observe() {
        return this.bs.asObservable();
    }
    refresh() {
        const credentials = this.authService.getCredentials();
        if (!credentials.authenticated) {
            return Promise.reject(_common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure);
        }
        const request = {
            username: credentials.username,
            password: credentials.password,
        };
        return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].apiRoot + "diary/", request)
            .toPromise()
            .then((data) => {
            if (data.success === _common__WEBPACK_IMPORTED_MODULE_5__["ApiResponseStatus"].authorizationFailure) {
                return _common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure;
            }
            else {
                this.bs.next(new _model_diary__WEBPACK_IMPORTED_MODULE_6__["Diary"](data));
                return _common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].OK;
            }
        })
            .catch(() => {
            return _common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].Error;
        });
    }
};
DiaryService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_4__["HttpClient"] },
    { type: _auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"] }
];
DiaryService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], DiaryService);



/***/ }),

/***/ "./src/app/services/http-puzzle-source.service.ts":
/*!********************************************************!*\
  !*** ./src/app/services/http-puzzle-source.service.ts ***!
  \********************************************************/
/*! exports provided: HttpPuzzleSourceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpPuzzleSourceService", function() { return HttpPuzzleSourceService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");






class ApiPdfExtractResponse {
}
class ApiPuzzleResponse {
}
let HttpPuzzleSourceService = class HttpPuzzleSourceService {
    constructor(http, authService) {
        this.http = http;
        this.authService = authService;
    }
    getPuzzle(params) {
        const credentials = this.authService.getCredentials();
        if (!credentials.authenticated) {
            return Promise.reject(_common__WEBPACK_IMPORTED_MODULE_3__["ApiSymbols"].AuthorizationFailure);
        }
        params.username = credentials.username;
        params.password = credentials.password;
        return this.http.post(_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].apiRoot + "puzzle/", params)
            .toPromise()
            .then((data) => {
            if (data.success === _common__WEBPACK_IMPORTED_MODULE_3__["ApiResponseStatus"].OK) {
                return data;
            }
            else if (data.success === _common__WEBPACK_IMPORTED_MODULE_3__["ApiResponseStatus"].authorizationFailure) {
                throw _common__WEBPACK_IMPORTED_MODULE_3__["ApiSymbols"].AuthorizationFailure;
            }
            else {
                throw data.message;
            }
        });
    }
    getPdfExtract(pdf) {
        const credentials = this.authService.getCredentials();
        if (!credentials.authenticated) {
            return Promise.reject(_common__WEBPACK_IMPORTED_MODULE_3__["ApiSymbols"].AuthorizationFailure);
        }
        let params = {
            username: credentials.username,
            password: credentials.password,
            sourceDataB64: pdf,
        };
        return this.http.post(_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].apiRoot + "pdfextract/", params)
            .toPromise()
            .then((data) => {
            if (data.success === _common__WEBPACK_IMPORTED_MODULE_3__["ApiResponseStatus"].OK) {
                return data;
            }
            else if (data.success === _common__WEBPACK_IMPORTED_MODULE_3__["ApiResponseStatus"].authorizationFailure) {
                throw _common__WEBPACK_IMPORTED_MODULE_3__["ApiSymbols"].AuthorizationFailure;
            }
            else {
                throw data.message;
            }
        });
    }
};
HttpPuzzleSourceService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] },
    { type: _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }
];
HttpPuzzleSourceService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], HttpPuzzleSourceService);



/***/ }),

/***/ "./src/app/services/local-storage.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/local-storage.service.ts ***!
  \***************************************************/
/*! exports provided: LocalStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocalStorageService", function() { return LocalStorageService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _model_puzzle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/puzzle */ "./src/app/model/puzzle.ts");
/* harmony import */ var _model_puzzle_info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/puzzle-info */ "./src/app/model/puzzle-info.ts");




let LocalStorageService = class LocalStorageService {
    constructor() { }
    getUserSettings() {
        try {
            return localStorage.getItem("xw-user-settings");
        }
        catch (error) {
            return null;
        }
    }
    saveUserSettings(settings) {
        try {
            localStorage.setItem("xw-user-settings", settings);
        }
        catch (error) {
        }
    }
    // public getLastest(): Promise<Puzzle> {
    //     let id = localStorage.getItem("xw-latest");
    //     return this.getPuzzle(id);
    // }
    deletePuzzle(id) {
        localStorage.removeItem("xw-puzzle-" + id);
        return Promise.resolve();
    }
    listPuzzles() {
        let result = [];
        for (let i = 0; i < localStorage.length; i++) {
            let key = localStorage.key(i);
            if (key.startsWith("xw-puzzle-")) {
                let puzzle = JSON.parse(localStorage[key]);
                result.push(new _model_puzzle_info__WEBPACK_IMPORTED_MODULE_3__["PuzzleInfo"](puzzle.info));
            }
        }
        return result;
    }
    getPuzzle(id) {
        const json = localStorage.getItem("xw-puzzle-" + id);
        if (json) {
            return Promise.resolve(new _model_puzzle__WEBPACK_IMPORTED_MODULE_2__["Puzzle"](JSON.parse(json)));
        }
        else {
            return Promise.resolve(null);
        }
    }
    putPuzzle(puzzle) {
        if (puzzle) {
            const json = JSON.stringify(puzzle);
            localStorage.setItem("xw-puzzle-" + puzzle.info.id, json);
        }
        return Promise.resolve();
    }
    clearPuzzles() {
        localStorage.clear();
    }
};
LocalStorageService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], LocalStorageService);



/***/ }),

/***/ "./src/app/services/modifiers/add-clues.ts":
/*!*************************************************!*\
  !*** ./src/app/services/modifiers/add-clues.ts ***!
  \*************************************************/
/*! exports provided: AddClues */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddClues", function() { return AddClues; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _add_placeholders__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./add-placeholders */ "./src/app/services/modifiers/add-placeholders.ts");


class AddClues {
    constructor(args) {
        this.args = args;
    }
    exec(puzzle) {
        if (puzzle) {
            if (typeof this.args.clues !== "undefined") {
                puzzle.clues = JSON.parse(JSON.stringify(this.args.clues));
                puzzle.linked = false;
                new _add_placeholders__WEBPACK_IMPORTED_MODULE_1__["AddPlaceholders"]().exec(puzzle);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/add-grid.ts":
/*!************************************************!*\
  !*** ./src/app/services/modifiers/add-grid.ts ***!
  \************************************************/
/*! exports provided: AddGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddGrid", function() { return AddGrid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class AddGrid {
    constructor(args) {
        this.args = args;
    }
    exec(puzzle) {
        if (puzzle) {
            if (typeof this.args.grid !== "undefined") {
                puzzle.grid = JSON.parse(JSON.stringify(this.args.grid));
                puzzle.linked = false;
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/add-placeholders.ts":
/*!********************************************************!*\
  !*** ./src/app/services/modifiers/add-placeholders.ts ***!
  \********************************************************/
/*! exports provided: AddPlaceholders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddPlaceholders", function() { return AddPlaceholders; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class AddPlaceholders {
    constructor() { }
    exec(puzzle) {
        if (puzzle) {
            // puzzle.notes.header = {
            //     ops: [ { "insert": "enter your introduction here" } ]
            // };
            // puzzle.notes.body = {
            //     ops: [ { "insert": "enter your further comments here"} ]
            // };
            if (puzzle.clues) {
                puzzle.clues.forEach(clue => clue.warnings = ["missing answer", "missing comment", "missing definition"]);
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/clear-shading.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/modifiers/clear-shading.ts ***!
  \*****************************************************/
/*! exports provided: ClearShading */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClearShading", function() { return ClearShading; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ClearShading {
    constructor() { }
    exec(puzzle) {
        if (puzzle.grid) {
            puzzle.grid.cells.forEach((cell) => {
                cell.shading = null;
            });
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/clear.ts":
/*!*********************************************!*\
  !*** ./src/app/services/modifiers/clear.ts ***!
  \*********************************************/
/*! exports provided: Clear */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Clear", function() { return Clear; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Clear {
    constructor() { }
    exec(puzzle) {
        if (puzzle.clues) {
            puzzle.clues.forEach((clue) => {
                clue.highlight = false;
            });
        }
        if (puzzle.grid) {
            puzzle.grid.cells.forEach((cell) => {
                cell.highlight = false;
                cell.edit = false;
            });
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/link-clues-to-grid.ts":
/*!**********************************************************!*\
  !*** ./src/app/services/modifiers/link-clues-to-grid.ts ***!
  \**********************************************************/
/*! exports provided: LinkCluesToGrid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkCluesToGrid", function() { return LinkCluesToGrid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_model_grid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/model/grid */ "./src/app/model/grid.ts");
/* harmony import */ var _renumber_grid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./renumber-grid */ "./src/app/services/modifiers/renumber-grid.ts");



class LinkCluesToGrid {
    constructor() { }
    exec(puzzle) {
        if (puzzle.grid && puzzle.clues && puzzle.clues.length > 0) {
            let captionWriter = new _renumber_grid__WEBPACK_IMPORTED_MODULE_2__["RenumberGid"]();
            captionWriter.exec(puzzle);
            puzzle.clues.forEach((clue) => {
                const grid = new src_app_model_grid__WEBPACK_IMPORTED_MODULE_1__["Grid"](puzzle.grid);
                // parse the clue caption into grid references
                if (!clue.redirect) {
                    clue.entries = LinkCluesToGrid.makeGridEntries(grid, clue.caption, clue.group);
                }
            });
            // TO DO: check entries match the letter count
            puzzle.info.blogable = true;
            puzzle.info.solveable = true;
            puzzle.linked = true;
        }
    }
    static makeGridEntries(grid, caption, direction) {
        let result = [];
        let gridRefs = LinkCluesToGrid.readGridReferences(caption, direction);
        gridRefs.forEach((gridRef) => {
            let gridEntry = { cellIds: [] };
            let cells = grid.getGridEntryForCaption(gridRef.clueNumber.toString(), gridRef.clueGroup);
            cells.forEach(cell => gridEntry.cellIds.push(cell.id));
            result.push(gridEntry);
        });
        return result;
    }
    static readGridReferences(caption, direction) {
        let result = [];
        const expression = new RegExp(String.raw `\s*(?<clueNumber>\d{1,2})(\s?(?<direction>(across)|(down)))?`);
        let parts = caption.split(",");
        //console.log("CAPTION = " + caption);
        //console.log("PARTS = " + JSON.stringify(parts));
        parts.forEach((part) => {
            let clueNumber = 0;
            let clueGroup = direction;
            let match = expression.exec(part);
            if (match.groups.clueNumber) {
                clueNumber = parseInt(match.groups.clueNumber);
                if (match.groups.direction) {
                    clueGroup = match.groups.direction.toLowerCase();
                }
                result.push({ clueNumber, clueGroup });
            }
        });
        return result;
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/make-cell-editable.ts":
/*!**********************************************************!*\
  !*** ./src/app/services/modifiers/make-cell-editable.ts ***!
  \**********************************************************/
/*! exports provided: MakeCellEditable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MakeCellEditable", function() { return MakeCellEditable; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class MakeCellEditable {
    constructor(cellId) {
        this.cellId = cellId;
    }
    exec(puzzle) {
        if (puzzle && puzzle.grid) {
            puzzle.grid.cells.forEach(cell => {
                let isMatch = cell.id === this.cellId;
                cell.edit = isMatch;
            });
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/parse-text.ts":
/*!**************************************************!*\
  !*** ./src/app/services/modifiers/parse-text.ts ***!
  \**************************************************/
/*! exports provided: ParseText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseText", function() { return ParseText; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _parsing_text_parse_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../parsing/text/parse-data */ "./src/app/services/parsing/text/parse-data.ts");
/* harmony import */ var _parsing_text_text_parsing_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../parsing/text/text-parsing-service */ "./src/app/services/parsing/text/text-parsing-service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _add_clues__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./add-clues */ "./src/app/services/modifiers/add-clues.ts");





// interface GridReference {
//     // for example: 2 down or 23 across
//     clueNumber: number,
//     clueGroup: ClueGroup 
// }
let ParseText = class ParseText {
    constructor(textParsingService) {
        this.textParsingService = textParsingService;
    }
    exec(puzzle) {
        let parseData = new _parsing_text_parse_data__WEBPACK_IMPORTED_MODULE_1__["ParseData"]();
        parseData.clueDataType = "text";
        parseData.rawData = puzzle.info.source;
        let options = {
            allowPreamble: true,
            allowPostamble: true,
        };
        let parser = this.textParsingService.parser(parseData, options);
        let context = parser.next();
        while (!context.done) {
            context = parser.next();
        }
        if (!context.value.error) {
            new _add_clues__WEBPACK_IMPORTED_MODULE_4__["AddClues"]({ clues: context.value.clues }).exec(puzzle);
        }
        else {
            throw new Error(`Failed to parse puzzle at line ${context.value.error.line} ${context.value.error.message}`);
        }
    }
};
ParseText.ctorParameters = () => [
    { type: _parsing_text_text_parsing_service__WEBPACK_IMPORTED_MODULE_2__["TextParsingService"] }
];
ParseText = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])({
        providedIn: 'root'
    })
], ParseText);



/***/ }),

/***/ "./src/app/services/modifiers/renumber-grid.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/modifiers/renumber-grid.ts ***!
  \*****************************************************/
/*! exports provided: RenumberGid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenumberGid", function() { return RenumberGid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class RenumberGid {
    constructor() { }
    exec(puzzle) {
        let counter = 1;
        if (puzzle.grid) {
            const grid = puzzle.grid;
            for (let y = 0; y < grid.properties.size.down; y++) {
                for (let x = 0; x < grid.properties.size.across; x++) {
                    let cell = grid.cells.find(c => c.x === x && c.y === y);
                    // first try for the first cell of an across word
                    let next = this.nextCellAcross(grid, cell);
                    let previous = this.previousCellAcross(grid, cell);
                    let isStartCell = this.isStartCell(puzzle.grid.properties.style, cell, previous, next, "across");
                    if (!isStartCell) {
                        // no joy, so try for the first cell of a down word
                        next = this.nextCellDown(grid, cell);
                        previous = this.previousCellDown(grid, cell);
                        isStartCell = this.isStartCell(puzzle.grid.properties.style, cell, previous, next, "down");
                    }
                    if (isStartCell) {
                        cell.caption = counter.toString();
                        counter++;
                    }
                    else {
                        cell.caption = "";
                    }
                }
            }
        }
    }
    isStartCell(gridStyle, cell, previous, next, direction) {
        let result = false;
        if (gridStyle === "standard") {
            result = cell.light &&
                next && next.light &&
                (!previous || !previous.light);
        }
        else if (gridStyle === "barred" && direction === "across") {
            result = cell.light &&
                !cell.rightBar &&
                next &&
                (!previous || previous.rightBar);
        }
        else if (gridStyle === "barred" && direction === "down") {
            result = cell.light &&
                !cell.bottomBar &&
                next &&
                (!previous || previous.bottomBar);
        }
        return result;
    }
    nextCellAcross(grid, cell) {
        const x = cell.x;
        const y = cell.y;
        return x < grid.properties.size.across - 1 ? grid.cells.find(c => c.y === y && c.x === x + 1) : null;
    }
    previousCellAcross(grid, cell) {
        const x = cell.x;
        const y = cell.y;
        return x > 0 ? grid.cells.find(c => c.y === y && c.x === x - 1) : null;
    }
    nextCellDown(grid, cell) {
        const x = cell.x;
        const y = cell.y;
        return y < grid.properties.size.down - 1 ? grid.cells.find(c => c.y === y + 1 && c.x === x) : null;
    }
    previousCellDown(grid, cell) {
        const x = cell.x;
        const y = cell.y;
        return y > 0 ? grid.cells.find(c => c.y === y - 1 && c.x === x) : null;
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/select-cells-for-edit.ts":
/*!*************************************************************!*\
  !*** ./src/app/services/modifiers/select-cells-for-edit.ts ***!
  \*************************************************************/
/*! exports provided: SelectCellsForEdit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectCellsForEdit", function() { return SelectCellsForEdit; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class SelectCellsForEdit {
    constructor(cells) {
        this.cells = cells;
    }
    exec(puzzle) {
        if (puzzle && puzzle.grid) {
            puzzle.grid.cells.forEach(cell => {
                cell.highlight = !!this.cells.find(c => c.id === cell.id);
            });
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/select-clue-by-cell.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/modifiers/select-clue-by-cell.ts ***!
  \***********************************************************/
/*! exports provided: SelectClueByCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectClueByCell", function() { return SelectClueByCell; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _clear__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var _select_clue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./select-clue */ "./src/app/services/modifiers/select-clue.ts");



class SelectClueByCell {
    constructor(cell) {
        this.cell = cell;
    }
    exec(puzzle) {
        new _clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]().exec(puzzle);
        if (this.cell) {
            // Find a clue that contains this cell.  
            // Try across clues first then down clues.
            // Prefer clues that have cell in first entry over clues that have
            // the cell in linked entries
            const acrossClues = this.getAcrossClues(puzzle);
            const downClues = this.getDownClues(puzzle);
            let result = null;
            // Look in across clues, first entry only
            result = this.findCellInFirstEntry(acrossClues, this.cell.id);
            // Look in down clues, first entry only
            if (!result) {
                result = this.findCellInFirstEntry(downClues, this.cell.id);
            }
            // Look in across clues, all entries
            if (!result) {
                result = this.findCellInAnyEntry(acrossClues, this.cell.id);
            }
            // Look in down clues, all entries
            if (!result) {
                result = this.findCellInAnyEntry(downClues, this.cell.id);
            }
            if (result) {
                new _select_clue__WEBPACK_IMPORTED_MODULE_2__["SelectClue"](result.id).exec(puzzle);
            }
        }
    }
    getAcrossClues(puzzle) {
        return puzzle.clues.filter((clue) => clue.group === "across");
    }
    getDownClues(puzzle) {
        return puzzle.clues.filter((clue) => clue.group === "down");
    }
    findCellInFirstEntry(clues, cellId) {
        let result = null;
        for (let clue of clues) {
            if (!clue.redirect) {
                if (clue.entries.length) {
                    let entry = clue.entries[0];
                    entry.cellIds.forEach(id => {
                        if (id === cellId) {
                            result = clue;
                        }
                    });
                }
                if (result) {
                    break;
                }
            }
        }
        return result;
    }
    findCellInAnyEntry(clues, cellId) {
        let result = null;
        for (let clue of clues) {
            if (!clue.redirect) {
                clue.entries.forEach((entry) => {
                    entry.cellIds.forEach(id => {
                        if (id === cellId) {
                            result = clue;
                        }
                    });
                });
                if (result) {
                    break;
                }
            }
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/select-clue.ts":
/*!***************************************************!*\
  !*** ./src/app/services/modifiers/select-clue.ts ***!
  \***************************************************/
/*! exports provided: SelectClue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectClue", function() { return SelectClue; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _clear__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clear */ "./src/app/services/modifiers/clear.ts");


class SelectClue {
    constructor(clueId) {
        this.clueId = clueId;
    }
    exec(puzzle) {
        if (puzzle) {
            let red = new _clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]();
            red.exec(puzzle);
            let clue = puzzle.clues.find((clue) => clue.id === this.clueId);
            if (clue && !clue.redirect) {
                clue.highlight = true;
                clue.entries.forEach((entry) => {
                    entry.cellIds.forEach((cellId) => {
                        let cell = puzzle.grid.cells.find((cell) => cell.id === cellId);
                        cell.highlight = true;
                    });
                });
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/select-next-clue.ts":
/*!********************************************************!*\
  !*** ./src/app/services/modifiers/select-next-clue.ts ***!
  \********************************************************/
/*! exports provided: SelectNextClue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectNextClue", function() { return SelectNextClue; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _clear__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./clear */ "./src/app/services/modifiers/clear.ts");


class SelectNextClue {
    constructor(clueId) {
        this.clueId = clueId;
    }
    exec(puzzle) {
        new _clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]().exec(puzzle);
        let index = puzzle.clues.findIndex((clue) => clue.id === this.clueId);
        if (index >= 0 && index + 1 < puzzle.clues.length) {
            puzzle.clues[index + 1].highlight = true;
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/updare-grid-properties.ts":
/*!**************************************************************!*\
  !*** ./src/app/services/modifiers/updare-grid-properties.ts ***!
  \**************************************************************/
/*! exports provided: UpdateGridProperties */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateGridProperties", function() { return UpdateGridProperties; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdateGridProperties {
    constructor(args) {
        this.args = args;
    }
    exec(puzzle) {
        if (puzzle) {
            if (this.args) {
                if (this.args.style) {
                    puzzle.grid.properties.style = this.args.style;
                }
                if (this.args.style) {
                    puzzle.grid.properties.size = this.args.size;
                }
                if (this.args.symmetrical !== undefined) {
                    puzzle.grid.properties.symmetrical = this.args.symmetrical;
                }
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-cell.ts":
/*!***************************************************!*\
  !*** ./src/app/services/modifiers/update-cell.ts ***!
  \***************************************************/
/*! exports provided: UpdateCell */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateCell", function() { return UpdateCell; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdateCell {
    constructor(cellId, args) {
        this.cellId = cellId;
        this.args = args;
    }
    exec(puzzle) {
        if (puzzle) {
            let cell = puzzle.grid.cells.find((cell) => cell.id === this.cellId);
            if (cell) {
                if (this.args.shading !== undefined) {
                    cell.shading = this.args.shading;
                }
                if (this.args.caption !== undefined) {
                    cell.caption = this.args.caption;
                }
                if (this.args.content !== undefined) {
                    cell.content = this.args.content;
                }
                if (this.args.light !== undefined) {
                    cell.light = this.args.light;
                }
                if (this.args.rightBar !== undefined) {
                    cell.rightBar = this.args.rightBar;
                }
                if (this.args.bottomBar !== undefined) {
                    cell.bottomBar = this.args.bottomBar;
                }
            }
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-clue.ts":
/*!***************************************************!*\
  !*** ./src/app/services/modifiers/update-clue.ts ***!
  \***************************************************/
/*! exports provided: UpdateClue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateClue", function() { return UpdateClue; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdateClue {
    constructor(id, answer, comment, chunks, warnings) {
        this.id = id;
        this.answer = answer;
        this.comment = comment;
        this.chunks = chunks;
        this.warnings = warnings;
    }
    exec(puzzle) {
        let clue = puzzle.clues.find((c) => c.id === this.id);
        if (clue) {
            // commit the change
            clue.answer = this.answer.trim().toUpperCase();
            clue.comment = this.comment;
            clue.chunks = this.chunks;
            clue.warnings = this.warnings || [];
            this.updateGridText(puzzle);
        }
    }
    updateGridText(puzzle) {
        if (!puzzle.grid) {
            return;
        }
        // clear the grid
        puzzle.grid.cells.forEach(cell => cell.content = "");
        puzzle.clues.forEach((clue) => {
            let answer = clue.answer.toUpperCase().replace(/[^A-Z]/g, "");
            let index = 0;
            if (answer) {
                clue.entries.forEach((entry) => {
                    entry.cellIds.forEach((id) => {
                        let cell = puzzle.grid.cells.find(c => c.id === id);
                        if (index < answer.length) {
                            cell.content = answer.charAt(index);
                        }
                        index++;
                    });
                });
            }
        });
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-info.ts":
/*!***************************************************!*\
  !*** ./src/app/services/modifiers/update-info.ts ***!
  \***************************************************/
/*! exports provided: UpdateInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateInfo", function() { return UpdateInfo; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdateInfo {
    constructor(args) {
        this.args = args;
    }
    exec(puzzle) {
        if (this.args.wordPressId !== undefined) {
            puzzle.info.wordpressId = this.args.wordPressId;
        }
        if (this.args.source !== undefined) {
            puzzle.info.source = this.args.source;
        }
        if (this.args.title !== undefined) {
            puzzle.info.title = this.args.title;
        }
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-preamble.ts":
/*!*******************************************************!*\
  !*** ./src/app/services/modifiers/update-preamble.ts ***!
  \*******************************************************/
/*! exports provided: UpdatePreamble */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePreamble", function() { return UpdatePreamble; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdatePreamble {
    constructor(title, header, body) {
        this.title = title;
        this.header = header;
        this.body = body;
    }
    exec(puzzle) {
        puzzle.info.title = this.title ? this.title : "untitled";
        puzzle.notes.header = this.header;
        puzzle.notes.body = this.body;
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-publish-option-text-style.ts":
/*!************************************************************************!*\
  !*** ./src/app/services/modifiers/update-publish-option-text-style.ts ***!
  \************************************************************************/
/*! exports provided: UpdatePublsihOptionTextStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePublsihOptionTextStyle", function() { return UpdatePublsihOptionTextStyle; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdatePublsihOptionTextStyle {
    constructor(textStyleName, color, bold, italic, underline) {
        this.textStyleName = textStyleName;
        this.color = color;
        this.bold = bold;
        this.italic = italic;
        this.underline = underline;
    }
    exec(puzzle) {
        let ts = puzzle.publishOptions[this.textStyleName];
        ts.color = this.color;
        ts.bold = this.bold;
        ts.italic = this.italic;
        ts.underline = this.underline;
    }
}


/***/ }),

/***/ "./src/app/services/modifiers/update-publish-options.ts":
/*!**************************************************************!*\
  !*** ./src/app/services/modifiers/update-publish-options.ts ***!
  \**************************************************************/
/*! exports provided: UpdatePublsihOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdatePublsihOptions", function() { return UpdatePublsihOptions; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class UpdatePublsihOptions {
    constructor(options) {
        this.options = options;
    }
    exec(puzzle) {
        if (!this.options) {
            return;
        }
        if (typeof this.options.includeGrid !== "undefined" && this.options.includeGrid !== null) {
            puzzle.publishOptions.includeGrid = this.options.includeGrid;
        }
        if (typeof this.options.layout !== "undefined" && this.options.layout !== null) {
            puzzle.publishOptions.layout = this.options.layout;
        }
        if (typeof this.options.spacing !== "undefined" && this.options.spacing !== null) {
            puzzle.publishOptions.spacing = this.options.spacing;
        }
    }
}


/***/ }),

/***/ "./src/app/services/parsing/text/line.ts":
/*!***********************************************!*\
  !*** ./src/app/services/parsing/text/line.ts ***!
  \***********************************************/
/*! exports provided: Line */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Line", function() { return Line; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Line {
    constructor(rawText, lineNumber) {
        this.rawText = rawText;
        this.lineNumber = lineNumber;
    }
    get lineType() {
        let result = "unknown";
        if (this.isEmpty) {
            result = "empty";
        }
        else if (this.hasAcrossMarker) {
            result = "acrossMarker";
        }
        else if (this.hasDownMarker) {
            result = "downMarker";
        }
        else if (this.hasStartMarker && this.hasEndMarker) {
            result = "clue";
        }
        else if (this.hasStartMarker) {
            result = "partialClueStart";
        }
        else if (this.hasEndMarker) {
            result = "partialClueEnd";
        }
        return result;
    }
    get text() {
        return this.rawText.trim();
    }
    get isEmpty() {
        return this.rawText.trim().length === 0;
    }
    get hasStartMarker() {
        return /^\*?\s*\d{1,2}\D/i.test(this.text);
    }
    get hasEndMarker() {
        return /\(\d[,0-9- ]*( words)?\s?\)$/i.test(this.text);
    }
    get hasAcrossMarker() {
        return /^ACROSS$/i.test(this.text);
    }
    get hasDownMarker() {
        return /^DOWN$/i.test(this.text);
    }
}


/***/ }),

/***/ "./src/app/services/parsing/text/parse-data.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/parsing/text/parse-data.ts ***!
  \*****************************************************/
/*! exports provided: ParseData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseData", function() { return ParseData; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class ParseData {
    constructor() {
        // a grid, probably retrieved from somewhere else
        this.grid = null;
        // the raw data, probably scraped form a website
        this.rawData = "";
        // what sort of data is it? eg text, guardian, indy etc 
        this.clueDataType = "text";
    }
}


/***/ }),

/***/ "./src/app/services/parsing/text/text-parsing-context.ts":
/*!***************************************************************!*\
  !*** ./src/app/services/parsing/text/text-parsing-context.ts ***!
  \***************************************************************/
/*! exports provided: TextParsingWarning, TextParsingError, ParseContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextParsingWarning", function() { return TextParsingWarning; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextParsingError", function() { return TextParsingError; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseContext", function() { return ParseContext; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _model_clue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../model/clue */ "./src/app/model/clue.ts");
/* harmony import */ var src_app_model_interfaces__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/model/interfaces */ "./src/app/model/interfaces.ts");




const marker = Symbol("TextParsingError");
class TextParsingWarning {
    constructor(lineNumber, message) {
        this.lineNumber = lineNumber;
        this.message = message;
    }
}
class TextParsingError {
    constructor(code, line, text, message) {
        this.code = code;
        this.line = line;
        this.text = text;
        this.message = message;
        this.marker = marker;
    }
    static isTextParsingError(error) {
        return error && error.code === marker;
    }
}
class ParseContext {
    constructor() {
        this._clueBuffer = null;
        this._clues = [];
        this._group = null;
        this._state = null;
        this._error = null;
        this._warnings = [];
    }
    addText(text) {
        if (!this._clueBuffer) {
            this._clueBuffer = text.trim();
        }
        else {
            this._clueBuffer += " " + text.trim();
        }
    }
    addWarning(lineNumber, message) {
        this._warnings.push(new TextParsingWarning(lineNumber, message));
    }
    get clues() { return this._clues; }
    get warnings() { return this._warnings; }
    get hasContent() { return this._clueBuffer !== null; }
    get buffer() { return this._clueBuffer; }
    get tokenGroup() { return this._group; }
    setGroup(group) { this._group = group; }
    get state() { return this._state; }
    set state(state) { this._state = state; }
    get error() { return this._error; }
    set error(error) { this._error = error; }
    save(lineNumber) {
        // TO DO: fill in the missing properties on teh clue: letterCount for example
        //compileError - start again here
        //let line: Line = new Line(this._clueBuffer, lineNumber);
        let parts = this.readCaption(this._clueBuffer);
        let letterCount = this.readLetterCount(this._clueBuffer);
        let format = this.makeAnswerFormat(letterCount);
        this._clues.push(new _model_clue__WEBPACK_IMPORTED_MODULE_2__["Clue"]({
            id: Object(uuid__WEBPACK_IMPORTED_MODULE_1__["v4"])(),
            group: this.state,
            caption: parts.caption,
            text: parts.clue,
            letterCount,
            answer: "",
            solution: "",
            annotation: null,
            redirect: false,
            format,
            comment: new src_app_model_interfaces__WEBPACK_IMPORTED_MODULE_3__["QuillDelta"](),
            highlight: false,
            entries: [],
            warnings: [],
            chunks: [
                {
                    text: parts.clue,
                    isDefinition: false,
                }
            ],
        }));
        this._clueBuffer = null;
    }
    readCaption(text) {
        if (!text || text.trim().length === 0) {
            return null;
        }
        // one or two digits
        const firstPart = String.raw `\d{1,2}`;
        // optional space, a comma or slash, optional space, one or two digits, then an optioanl "across" or "down" or "/""
        const additionalPart = String.raw `\s*(,|/)\s*\d{1,2}(\s?(across)|(down))?`;
        // optional asterisk, optional space, (the first grid reference) then zero or more additional grid references
        const captionGroup = String.raw `(?<caption>\*?\s*${firstPart}(${additionalPart})*)`;
        // any characters up to the end of the line
        const clueGroup = String.raw `(?<clue>.*$)`;
        // start of line, optional space, (the caption group)
        const expression = String.raw `^\s*${captionGroup}${clueGroup}`;
        const regExp = new RegExp(expression);
        const match = regExp.exec(text);
        return {
            caption: match.groups.caption.trim(),
            clue: match.groups.clue.trim(),
        };
    }
    readLetterCount(text) {
        let result = null;
        const expression = String.raw `^(?<clue>.*)(?<letterCount>\([0-9-words, ]+?\)\s*$)`;
        const regExp = new RegExp(expression);
        const match = regExp.exec(text);
        if (match.groups["letterCount"]) {
            result = match.groups["letterCount"].trim();
        }
        return result;
    }
    makeAnswerFormat(letterCount) {
        let result = "";
        const startMarker = new RegExp(String.raw `^\(`);
        const endMarker = new RegExp(String.raw `\d words\)$`);
        let parts = letterCount
            .trim()
            .replace(startMarker, "")
            .trim()
            .replace(endMarker, "")
            .trim()
            .replace(")", "")
            .trim()
            .split(",");
        parts.forEach((part) => {
            let exp = new RegExp(/(\d{1,2})|([^0-9 ])/g);
            let match;
            if (part.trim().length > 0) {
                let partResult = "";
                while ((match = exp.exec(part)) !== null) {
                    if (match[1] !== null && match[1] !== undefined) {
                        let count = parseInt(match[1]);
                        partResult += ",".repeat(count);
                    }
                    else {
                        partResult += match[2];
                    }
                }
                ;
                if (partResult && result) {
                    result += "/";
                }
                result += partResult;
            }
        });
        return result;
    }
}


/***/ }),

/***/ "./src/app/services/parsing/text/text-parsing-service.ts":
/*!***************************************************************!*\
  !*** ./src/app/services/parsing/text/text-parsing-service.ts ***!
  \***************************************************************/
/*! exports provided: TextParsingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextParsingService", function() { return TextParsingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _tokeniser_tokeniser_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tokeniser/tokeniser.service */ "./src/app/services/parsing/text/tokeniser/tokeniser.service.ts");
/* harmony import */ var _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tokeniser/tokens */ "./src/app/services/parsing/text/tokeniser/tokens.ts");
/* harmony import */ var _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./text-parsing-context */ "./src/app/services/parsing/text/text-parsing-context.ts");





let TextParsingService = class TextParsingService {
    constructor(tokeniser) {
        this.tokeniser = tokeniser;
    }
    *parser(data, options) {
        const _options = {
            allowPreamble: options && options.allowPreamble,
            allowPostamble: options && options.allowPostamble,
        };
        let context = new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["ParseContext"]();
        let tokens = this.tokeniser.parse(data.rawData);
        let tokeniser = tokens.getIterator();
        let item = tokeniser.next();
        while (!item.done) {
            context.setGroup(item.value);
            try {
                switch (context.tokenGroup.current.type) {
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].StartMarker:
                        //ignore this
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].AcrossMarker:
                        this.onAcrossMarker(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].DownMarker:
                        this.onDownMarker(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].EndMarker:
                        this.onEndMarker(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].Clue:
                        this.onClueToken(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].ClueStart:
                        this.onClueStartToken(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].Text:
                        this.onTextToken(context, _options);
                        break;
                    case _tokeniser_tokens__WEBPACK_IMPORTED_MODULE_3__["parseTokenTypes"].ClueEnd:
                        this.onClueEndToken(context, _options);
                        break;
                    default:
                        throw "unrecognised Token Type";
                }
                yield context;
                item = tokeniser.next();
                context.setGroup(item.value);
            }
            catch (error) {
                //context.state = true;
                if (error instanceof _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]) {
                    context.error = error;
                }
                else {
                    throw error.toString();
                }
                return context;
            }
        }
        //context.state = true;
        context.setGroup(null);
        return context;
    }
    onAcrossMarker(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                context.state = "across";
                break;
            case "across":
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("acrossMarker_across", token.lineNumber, token.text, "Found unexpected ACROSS marker");
            case "down":
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("acrossMarker_down", token.lineNumber, token.text, "Found ACROSS marker in the down clues");
            case "ended":
                if (options.allowPostamble) {
                    // this is OK, it will happen when the solutions from last weeks puzzle appear at the end of a PDF
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("acrossMarker_ended", token.lineNumber, token.text, "Found ACROSS marker after the end of the puzzle");
                }
                break;
        }
    }
    onDownMarker(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case "across":
                if (context.buffer === null) {
                    context.state = "down";
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("downMarker_across", token.lineNumber, token.text, "Found DOWN marker when expecting end of a clue");
                }
                break;
            case null:
                // even in preamble mode this is probably an error.  Answers to last weeks clues normally appear at the end of a puzzle
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("downMarker_null", token.lineNumber, token.text, "Found unexpected DOWN marker");
                break;
            case "down":
                // even in preamble mode this is probably an error.  Answers to last weeks clues don't normally start with a down marker
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("downMarker_down", token.lineNumber, token.text, "Found DOWN marker in the down clues");
            case "ended":
                if (options.allowPostamble) {
                    // this is probably OK, down markers can appear in solutions to last week's puzzle
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("downMarker_ended", token.lineNumber, token.text, "Found DOWN marker after the end of the puzzle");
                }
                break;
        }
    }
    onEndMarker(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("endMarker_null", token.lineNumber, token.text, "reached end of file and no clues found");
                break;
            case "across":
            case null:
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("endMarker_across", token.lineNumber, token.text, "reached end of file and no down clues found");
                break;
            case "down":
                if (context.buffer === null) {
                    // this is good news, the input ends following a completed down clue
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("endMarker_down", token.lineNumber, token.text, "reached the end of the file with an unfinished clue.");
                }
                break;
        }
    }
    onClueToken(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                // even in preamble mode this is probably an error, we don't expect to see a well formatted clue before the first across marker
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clue_null", token.lineNumber, token.text, "Found start of clue before ACROSS or DOWN marker");
                break;
            case "ended":
                // we don't expect to se whole clues cropping up in the solutions
                throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clue_ended", token.lineNumber, token.text, "Found clue after and of down clues");
                break;
            case "across":
            case "down":
                if (!context.hasContent) {
                    context.addText(token.text);
                    context.save(token.lineNumber);
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clue_acrossdown", token.lineNumber, token.text, "Found start of new clue when old clue not finished (1)");
                }
                break;
        }
    }
    onClueStartToken(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                if (!options.allowPreamble) {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueStart_null", token.lineNumber, token.text, "Found start of clue before ACROSS or DOWN marker");
                }
                break;
            case "across":
            case "down":
                if (!context.hasContent) {
                    context.addText(token.text);
                }
                else {
                    // TO DO: same situation as in onClueToken()
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueStart_acrossdown", token.lineNumber, token.text, "Found start of new clue when old clue not finished (2)");
                }
                break;
            case "ended":
                if (options.allowPostamble) {
                    // This situation is ambiguous.  Probably indicates something htat caused the down clues to end early
                    // but we can't be sure at this stage
                    context.addWarning(context.tokenGroup.current.lineNumber, "Found another clue after the end of the puzzle.");
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueStart_ended", token.lineNumber, token.text, "Found clue start after end of down clues");
                }
                break;
        }
    }
    onClueEndToken(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                if (!options.allowPreamble) {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueEnd_null", token.lineNumber, token.text, "Found end of clue before ACROSS or DOWN marker");
                }
                break;
            case "across":
            case "down":
                if (context.hasContent) {
                    context.addText(token.text);
                    context.save(token.lineNumber);
                }
                else {
                    // TO DO: ask the user to fix this manually
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueStart_acrossdown", token.lineNumber, token.text, "Found end of clue when no clue started");
                }
                break;
            case "ended":
                if (options.allowPostamble) {
                    // This situation is ambiguous.  Probably indicates something htat caused the down clues to end early
                    // but we can't be sure at this stage
                    context.addWarning(context.tokenGroup.current.lineNumber, "Found a clue after the end of the puzzle.");
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("clueEnd_ended", token.lineNumber, token.text, "Found clue end after end of down clues");
                }
                break;
        }
    }
    onTextToken(context, options) {
        const token = context.tokenGroup.current;
        switch (context.state) {
            case null:
                if (!options.allowPreamble) {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("text_null", token.lineNumber, token.text, "Found some text before the ACROSS or DOWN markers.");
                }
                break;
            case "across":
                if (context.hasContent) {
                    context.addText(token.text);
                }
                else {
                    throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("text_across", token.lineNumber, token.text, "Expected the start of a new clue but found unrecognised text.");
                }
                break;
            case "down":
                if (context.hasContent) {
                    context.addText(token.text);
                }
                else {
                    if (options.allowPostamble) {
                        // in postamble mode the down clues are over when a completed down clue is followed by
                        // something not recognisable as part of another clue
                        context.state = "ended";
                    }
                    else {
                        throw new _text_parsing_context__WEBPACK_IMPORTED_MODULE_4__["TextParsingError"]("text_down", token.lineNumber, token.text, "Expected the start of a new clue");
                    }
                }
                break;
        }
    }
};
TextParsingService.ctorParameters = () => [
    { type: _tokeniser_tokeniser_service__WEBPACK_IMPORTED_MODULE_2__["TokeniserService"] }
];
TextParsingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], TextParsingService);



/***/ }),

/***/ "./src/app/services/parsing/text/tokeniser/tokeniser.service.ts":
/*!**********************************************************************!*\
  !*** ./src/app/services/parsing/text/tokeniser/tokeniser.service.ts ***!
  \**********************************************************************/
/*! exports provided: TokenGroup, TokenList, TokeniserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenGroup", function() { return TokenGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenList", function() { return TokenList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokeniserService", function() { return TokeniserService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../line */ "./src/app/services/parsing/text/line.ts");
/* harmony import */ var _tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tokens */ "./src/app/services/parsing/text/tokeniser/tokens.ts");




class TokenGroup {
    constructor(previous, current, next) {
        this.previous = previous;
        this.current = current;
        this.next = next;
    }
}
class TokenList {
    constructor(_tokens) {
        this._tokens = _tokens;
    }
    get tokens() {
        return this._tokens;
    }
    *getIterator() {
        const max = this._tokens.length - 1;
        const min = 0;
        // set some defaults here so that if there are no lines to read the flow 
        // of control will fall through and return a TokenGroup with current=EOF
        let previous = new _tokens__WEBPACK_IMPORTED_MODULE_3__["NullToken"]();
        let current = new _tokens__WEBPACK_IMPORTED_MODULE_3__["StartMarkerToken"]();
        let next = new _tokens__WEBPACK_IMPORTED_MODULE_3__["EndMarkerToken"]();
        for (let i = min; i <= max; i++) {
            previous = (i - 1 >= min) ? this._tokens[i - 1] : new _tokens__WEBPACK_IMPORTED_MODULE_3__["NullToken"]();
            current = this._tokens[i];
            next = (i + 1 <= max) ? this._tokens[i + 1] : new _tokens__WEBPACK_IMPORTED_MODULE_3__["NullToken"]();
            yield (new TokenGroup(previous, current, next));
        }
        return new TokenGroup(current, next, new _tokens__WEBPACK_IMPORTED_MODULE_3__["NullToken"]());
    }
}
let TokeniserService = class TokeniserService {
    constructor() { }
    parse(data) {
        let tokens = [];
        // make an array of lines from the source data
        let lines = [];
        data.replace("\r", "").split("\n").forEach((line, index) => lines.push(new _line__WEBPACK_IMPORTED_MODULE_2__["Line"](line, index)));
        tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["StartMarkerToken"]());
        lines.forEach(line => {
            switch (line.lineType) {
                case "acrossMarker":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["AcrossMarkerToken"](line));
                    break;
                case "downMarker":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["DownMarkerToken"](line));
                    break;
                case "clue":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["ClueToken"](line));
                    break;
                case "partialClueStart":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["ClueStartToken"](line));
                    break;
                case "partialClueEnd":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["ClueEndToken"](line));
                    break;
                case "unknown":
                    tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["TextToken"](line));
                    break;
                case "empty":
                    // ignore this line
                    break;
            }
        });
        tokens.push(new _tokens__WEBPACK_IMPORTED_MODULE_3__["EndMarkerToken"]());
        return new TokenList(tokens);
    }
};
TokeniserService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], TokeniserService);



/***/ }),

/***/ "./src/app/services/parsing/text/tokeniser/tokens.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/parsing/text/tokeniser/tokens.ts ***!
  \***********************************************************/
/*! exports provided: parseTokenTypes, ParseToken, AcrossMarkerToken, DownMarkerToken, ClueStartToken, ClueEndToken, ClueToken, TextToken, StartMarkerToken, EndMarkerToken, NullToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseTokenTypes", function() { return parseTokenTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseToken", function() { return ParseToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AcrossMarkerToken", function() { return AcrossMarkerToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DownMarkerToken", function() { return DownMarkerToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueStartToken", function() { return ClueStartToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueEndToken", function() { return ClueEndToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueToken", function() { return ClueToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextToken", function() { return TextToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartMarkerToken", function() { return StartMarkerToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EndMarkerToken", function() { return EndMarkerToken; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NullToken", function() { return NullToken; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../line */ "./src/app/services/parsing/text/line.ts");


const parseTokenTypes = {
    StartMarker: Symbol("StartMarkerToken"),
    AcrossMarker: Symbol("AcrossMarkerToken"),
    DownMarker: Symbol("DownMarkerToken"),
    EndMarker: Symbol("EndMarkerToken"),
    ClueStart: Symbol("ClueStartToken"),
    Clue: Symbol("ClueToken"),
    ClueEnd: Symbol("ClueEndToken"),
    Text: Symbol("TextToken"),
    Null: Symbol("NullToken"),
};
class ParseToken {
    constructor(line, type) {
        this.text = line.rawText;
        this.lineNumber = line.lineNumber;
        this.type = type;
    }
    toString() {
        return this.type.toString();
    }
    toJSON() {
        return {
            type: this.type.toString(),
            line: this.lineNumber,
            text: this.text
        };
    }
}
class AcrossMarkerToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.AcrossMarker);
    }
}
class DownMarkerToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.DownMarker);
    }
}
class ClueStartToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.ClueStart);
    }
}
class ClueEndToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.ClueEnd);
    }
}
class ClueToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.Clue);
    }
}
class TextToken extends ParseToken {
    constructor(line) {
        super(line, parseTokenTypes.Text);
    }
}
class StartMarkerToken extends ParseToken {
    constructor() {
        super(new _line__WEBPACK_IMPORTED_MODULE_1__["Line"]("[start-of-file]", NaN), parseTokenTypes.StartMarker);
    }
}
class EndMarkerToken extends ParseToken {
    constructor() {
        super(new _line__WEBPACK_IMPORTED_MODULE_1__["Line"]("[end-of-file]", NaN), parseTokenTypes.EndMarker);
    }
}
class NullToken extends ParseToken {
    constructor() {
        super(new _line__WEBPACK_IMPORTED_MODULE_1__["Line"]("", NaN), parseTokenTypes.Null);
    }
}


/***/ }),

/***/ "./src/app/services/publication.service.ts":
/*!*************************************************!*\
  !*** ./src/app/services/publication.service.ts ***!
  \*************************************************/
/*! exports provided: PublicationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublicationService", function() { return PublicationService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _content_generator_content_generator_table_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./content-generator/content-generator-table-layout */ "./src/app/services/content-generator/content-generator-table-layout.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_environments_environment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _content_generator_content_generator_list_layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./content-generator/content-generator-list-layout */ "./src/app/services/content-generator/content-generator-list-layout.ts");
/* harmony import */ var _app_settings_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app-settings.service */ "./src/app/services/app-settings.service.ts");









class PublishPostResponse {
}
class PublishGridResponse {
}
let PublicationService = class PublicationService {
    constructor(http, authService, settingsService) {
        this.http = http;
        this.authService = authService;
        this.settingsService = settingsService;
    }
    // TO DO: IMPORTANT!
    // review this component for XSS vunerabilities
    getContent(puzzle, gridUrl) {
        let generator = puzzle.publishOptions.layout === "list" ?
            new _content_generator_content_generator_list_layout__WEBPACK_IMPORTED_MODULE_7__["ContentGeneratorListLayout"]() :
            new _content_generator_content_generator_table_layout__WEBPACK_IMPORTED_MODULE_3__["ContentGeneratorTableLayout"]();
        return generator.getContent(puzzle, gridUrl);
    }
    publishGrid(image, title) {
        const credentials = this.authService.getCredentials();
        if (image) {
            return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].apiRoot + "PublishGrid", {
                title: title,
                content: image,
                username: credentials.username,
                password: credentials.password,
                sandbox: this.settingsService.settings.sandbox,
            })
                .toPromise()
                .then((data) => {
                if (data.success === _common__WEBPACK_IMPORTED_MODULE_4__["ApiResponseStatus"].OK) {
                    return data;
                }
                else if (data.success === _common__WEBPACK_IMPORTED_MODULE_4__["ApiResponseStatus"].authorizationFailure) {
                    throw _common__WEBPACK_IMPORTED_MODULE_4__["ApiSymbols"].AuthorizationFailure;
                }
                else {
                    console.log("Publish Grid Failure: " + data.message);
                    throw "Publish Grid Failure: " + data.message;
                }
            });
        }
        else {
            return Promise.resolve(null);
        }
    }
    publishPost(puzzle, gridUrl, status) {
        const credentials = this.authService.getCredentials();
        let content = this.getContent(puzzle, gridUrl);
        return this.http.post(src_environments_environment__WEBPACK_IMPORTED_MODULE_6__["environment"].apiRoot + "PublishPost", {
            provider: puzzle.info.provider,
            title: puzzle.info.title,
            content,
            username: credentials.username,
            password: credentials.password,
            status: status,
            sandbox: this.settingsService.settings.sandbox,
        })
            .toPromise()
            .then((data) => {
            if (data.success === _common__WEBPACK_IMPORTED_MODULE_4__["ApiResponseStatus"].OK) {
                return data;
            }
            else if (data.success === _common__WEBPACK_IMPORTED_MODULE_4__["ApiResponseStatus"].authorizationFailure) {
                throw _common__WEBPACK_IMPORTED_MODULE_4__["ApiSymbols"].AuthorizationFailure;
            }
            else {
                console.log("Publish Post Failure: " + data.message);
                throw "Publish Post Failure: " + data.message;
            }
        });
    }
};
PublicationService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClient"] },
    { type: _auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] },
    { type: _app_settings_service__WEBPACK_IMPORTED_MODULE_8__["AppSettingsService"] }
];
PublicationService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], PublicationService);



/***/ }),

/***/ "./src/app/services/puzzle-management.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/services/puzzle-management.service.ts ***!
  \*******************************************************/
/*! exports provided: IActivePuzzle, IPuzzleManager, PuzzleManagementService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IActivePuzzle", function() { return IActivePuzzle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IPuzzleManager", function() { return IPuzzleManager; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PuzzleManagementService", function() { return PuzzleManagementService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _local_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./local-storage.service */ "./src/app/services/local-storage.service.ts");
/* harmony import */ var _model_puzzle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../model/puzzle */ "./src/app/model/puzzle.ts");
/* harmony import */ var _http_puzzle_source_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./http-puzzle-source.service */ "./src/app/services/http-puzzle-source.service.ts");
/* harmony import */ var _modifiers_clear__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var _model_interfaces__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../model/interfaces */ "./src/app/model/interfaces.ts");
/* harmony import */ var _modifiers_add_placeholders__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modifiers/add-placeholders */ "./src/app/services/modifiers/add-placeholders.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./common */ "./src/app/services/common.ts");
/* harmony import */ var _modifiers_update_info__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modifiers/update-info */ "./src/app/services/modifiers/update-info.ts");
/* harmony import */ var _model_grid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../model/grid */ "./src/app/model/grid.ts");
/* harmony import */ var _modifiers_add_grid__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./modifiers/add-grid */ "./src/app/services/modifiers/add-grid.ts");














// Note: using abstract classes rather than interfaces to enable them to be used
// as injection tokens in the Angular DI. Interfaces cannot be used directly as injection tokens.
// Avoiding custom InjectionTokens keeps the injection into components simple and readable.
class IActivePuzzle {
}
class IPuzzleManager {
}
let PuzzleManagementService = class PuzzleManagementService {
    constructor(localStorageService, httpPuzzleService) {
        this.localStorageService = localStorageService;
        this.httpPuzzleService = httpPuzzleService;
        this.bsList = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"]([]);
        this.bsActive = new rxjs__WEBPACK_IMPORTED_MODULE_3__["BehaviorSubject"](null);
        this.refreshPuzzleList();
    }
    // TO DO
    // Note on interfaces:
    // This class is doing two things: providing management of the active puzzle
    // and providing management of the stored puzzles. Some refactoring seems necessary.
    //
    // So far my attempts to split this into an ActivePuzzle and a 
    // PuzzleManager have resulted in cyclic dependencies.  Working around this
    // has just resulted in moving the code-smell somewhere else.  The two functions
    // operate as a pair.
    //
    // For example: the PuzzleManager needs to reference the ActivePuzzleManager whenver a new puzzle
    // is loaded form storage; the ActivePuzzleManager needs to refernce the PuzzleManager to 
    // updated the stored puzzle when the active puzzle is modified (to permanently save changes).
    //
    // Note on behaviour subjects:
    // The two behaviour subjects tend to be used independently, but their behaviour is not independent. Some actions
    // cause just one bs to emit a new value, some cause both to emit.  Combining these
    // into a single observable might make sense, but the individual application components typically only depend
    // on one of these, not both. Observing a combined observable just result in unnecessary
    // updates of the component when nothing they are using has changed.
    //
    // I have not run out of ideas yet, just paused this until I have more time to look at it again.
    //
    //  Next idea is to have the puzzle manager obsserve the active puzzle for changes.  Whenever a new active
    //  puzzle is emitted the manager saves it. I am not sure  yet if this a good idea.
    //
    //  Another idea is to have the on or both of the classes reference an interface rather than the concrete class.  Perhaps
    //  this will avoid the cyclic dependency.
    //
    //#region Active Puzzle interface
    observe() {
        return this.bsActive.asObservable();
    }
    get puzzle() {
        return this.bsActive.value;
    }
    newPuzzle(reducer) {
        let puzzle = this.makeEmptyPuzzle();
        if (reducer) {
            reducer.exec(puzzle);
        }
        this.localStorageService.putPuzzle(puzzle);
        this.refreshPuzzleList();
        this.bsActive.next(new _model_puzzle__WEBPACK_IMPORTED_MODULE_5__["Puzzle"](puzzle));
    }
    get hasPuzzle() {
        return !!(this.bsActive.value);
    }
    clear(id) {
        let current = this.bsActive.value;
        if (!id || (current && current.info.id === id)) {
            this.bsActive.next(null);
        }
    }
    update(reducer) {
        let puzzle = this.getMutableCopy(this.bsActive.value);
        if (puzzle) {
            reducer.exec(puzzle);
            this.commit(puzzle);
        }
    }
    //#endregion
    //#region General Puzzle management
    getPuzzleList() {
        return this.bsList.asObservable();
    }
    openPuzzle(id) {
        return this.getSavedPuzzle(id)
            .then((puzzle) => {
            if (puzzle) {
                this.usePuzzle(puzzle);
            }
            return puzzle;
        });
    }
    addPuzzle(puzzle) {
        this.localStorageService.putPuzzle(puzzle);
        this.refreshPuzzleList();
        this.usePuzzle(puzzle);
    }
    openArchivePuzzle(params) {
        return this.httpPuzzleService.getPuzzle(params)
            .then((response) => {
            if (Array.isArray(response.warnings)) {
                //response.warnings.forEach(warning => console.log("WARNING " + JSON.stringify(warning))); 
            }
            let puzzle = new _model_puzzle__WEBPACK_IMPORTED_MODULE_5__["Puzzle"](response.puzzle);
            // add some defaults
            let puzzleM = JSON.parse(JSON.stringify(puzzle));
            new _modifiers_add_placeholders__WEBPACK_IMPORTED_MODULE_9__["AddPlaceholders"]().exec(puzzleM);
            this.localStorageService.putPuzzle(puzzleM);
            this.usePuzzle(puzzleM);
            this.refreshPuzzleList();
            return this.bsActive.value;
        })
            .catch(error => {
            throw error.message ? error.message : error.toString();
        });
    }
    deletePuzzle(id) {
        return this.localStorageService.deletePuzzle(id)
            .then(() => {
            this.clear();
            this.refreshPuzzleList();
        });
    }
    loadPuzzleFromPdf(pdf) {
        return this.httpPuzzleService.getPdfExtract(pdf)
            .then((result) => {
            if (result.success === _common__WEBPACK_IMPORTED_MODULE_10__["ApiResponseStatus"].OK) {
                this.newPuzzle();
                this.update(new _modifiers_update_info__WEBPACK_IMPORTED_MODULE_11__["UpdateInfo"]({ source: result.text }));
                if (result.grid) {
                    let grid = new _model_grid__WEBPACK_IMPORTED_MODULE_12__["Grid"](result.grid);
                    this.update(new _modifiers_add_grid__WEBPACK_IMPORTED_MODULE_13__["AddGrid"]({ grid }));
                }
                return "ok";
            }
            else {
                return "error";
            }
        })
            .catch((error) => {
            if (error === _common__WEBPACK_IMPORTED_MODULE_10__["ApiSymbols"].AuthorizationFailure) {
                return "authenticate";
            }
            else {
                return "error";
            }
        });
    }
    //#endregion
    //#region Private methods
    refreshPuzzleList() {
        let list = this.localStorageService.listPuzzles();
        this.bsList.next(list);
    }
    usePuzzle(puzzle) {
        // create a mutable copy
        let puzzleM = JSON.parse(JSON.stringify(puzzle));
        // modify it
        new _modifiers_clear__WEBPACK_IMPORTED_MODULE_7__["Clear"]().exec(puzzleM);
        // push a read-only version
        this.bsActive.next(new _model_puzzle__WEBPACK_IMPORTED_MODULE_5__["Puzzle"](puzzleM));
    }
    getMutableCopy(puzzle) {
        return JSON.parse(JSON.stringify(this.bsActive.value));
    }
    commit(puzzle) {
        puzzle.revision += 1;
        this.savePuzzle(puzzle);
        this.bsActive.next(new _model_puzzle__WEBPACK_IMPORTED_MODULE_5__["Puzzle"](puzzle));
    }
    getSavedPuzzle(id) {
        return this.localStorageService.getPuzzle(id)
            .then((puzzle) => {
            this.localStorageService.putPuzzle(puzzle);
            return puzzle;
        });
    }
    savePuzzle(puzzle) {
        this.localStorageService.putPuzzle(puzzle);
        this.refreshPuzzleList();
    }
    makeEmptyPuzzle() {
        return {
            clues: [],
            grid: null,
            linked: false,
            revision: 0,
            info: {
                id: Object(uuid__WEBPACK_IMPORTED_MODULE_1__["v4"])(),
                title: "untitled",
                puzzleDate: new Date(),
                provider: "text",
                setter: "anon",
                wordpressId: null,
                blogable: true,
                solveable: false,
                gridable: false,
                source: null,
            },
            notes: {
                header: new _model_interfaces__WEBPACK_IMPORTED_MODULE_8__["QuillDelta"](),
                body: new _model_interfaces__WEBPACK_IMPORTED_MODULE_8__["QuillDelta"](),
                footer: new _model_interfaces__WEBPACK_IMPORTED_MODULE_8__["QuillDelta"](),
            },
            publishOptions: {
                clueStyle: {
                    color: "#000000",
                    bold: false,
                    italic: false,
                    underline: false,
                },
                answerStyle: {
                    color: "#000000",
                    bold: false,
                    italic: false,
                    underline: false,
                },
                definitionStyle: {
                    color: "#000000",
                    bold: false,
                    italic: false,
                    underline: false,
                },
                includeGrid: false,
                layout: "table",
                spacing: "small",
            },
        };
    }
};
PuzzleManagementService.ctorParameters = () => [
    { type: _local_storage_service__WEBPACK_IMPORTED_MODULE_4__["LocalStorageService"] },
    { type: _http_puzzle_source_service__WEBPACK_IMPORTED_MODULE_6__["HttpPuzzleSourceService"] }
];
PuzzleManagementService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["Injectable"])()
], PuzzleManagementService);



/***/ }),

/***/ "./src/app/ui/app-general/diary/diary.component.css":
/*!**********************************************************!*\
  !*** ./src/app/ui/app-general/diary/diary.component.css ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1nZW5lcmFsL2RpYXJ5L2RpYXJ5LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/app-general/diary/diary.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/ui/app-general/diary/diary.component.ts ***!
  \*********************************************************/
/*! exports provided: DiaryComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiaryComponent", function() { return DiaryComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_diary_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/diary.service */ "./src/app/services/diary.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var src_app_services_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/common */ "./src/app/services/common.ts");







let DiaryComponent = class DiaryComponent {
    constructor(diaryService, appService, settingsService) {
        this.diaryService = diaryService;
        this.appService = appService;
        this.settingsService = settingsService;
        this.subs = [];
    }
    ngOnInit() {
        let observable = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])(this.diaryService.observe(), this.settingsService.observe());
        this.subs.push(observable.subscribe(result => {
            let diary = result[0];
            let settings = result[1];
            if (settings) {
                if (diary) {
                    this.appService.clear();
                    let aliases = settings.diary.aliases;
                    this.entries = [];
                    diary.entries.forEach(entry => {
                        if (settings.diary.showEverybody ||
                            aliases.find(alias => alias.replace(/[^a-z]/gi, "") === entry.solver.replace(/[^a-z]/gi, ""))) {
                            this.entries.push(entry);
                        }
                    });
                    this.entries.sort((a, b) => {
                        if (a.solveDate > b.solveDate) {
                            return 1;
                        }
                        else if (a.solveDate < b.solveDate) {
                            return -1;
                        }
                        return 0;
                    });
                }
                else {
                    this.onRefresh();
                }
            }
        }, error => {
            this.appService.clear();
            if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_6__["ApiSymbols"].AuthorizationFailure) {
                this.appService.setAlert("danger", "User not logged in.  Please login and try again.");
            }
            else {
                this.appService.setAlert("danger", "Failed to get Google diary.");
            }
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onRefresh() {
        this.appService.clear();
        this.appService.setBusy();
        this.diaryService.refresh()
            .then((result) => {
            this.appService.clear();
            if (result === src_app_services_common__WEBPACK_IMPORTED_MODULE_6__["ApiSymbols"].AuthorizationFailure) {
                this.appService.setAlert("danger", "Not logged-in.  Please log in and try again.");
            }
            else if (result != src_app_services_common__WEBPACK_IMPORTED_MODULE_6__["ApiSymbols"].OK) {
                this.appService.setAlert("danger", "Failed to get Google diary.");
            }
        })
            .catch((error) => {
            this.appService.clear();
            if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_6__["ApiSymbols"].AuthorizationFailure) {
                this.appService.setAlert("danger", "Not logged-in.  Please log in and try again.");
            }
            else {
                this.appService.setAlert("danger", "Failed to get Google diary.");
            }
        });
    }
};
DiaryComponent.ctorParameters = () => [
    { type: src_app_services_diary_service__WEBPACK_IMPORTED_MODULE_2__["DiaryService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_5__["AppSettingsService"] }
];
DiaryComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-diary',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./diary.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/diary/diary.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./diary.component.css */ "./src/app/ui/app-general/diary/diary.component.css")).default]
    })
], DiaryComponent);



/***/ }),

/***/ "./src/app/ui/app-general/home/home.component.css":
/*!********************************************************!*\
  !*** ./src/app/ui/app-general/home/home.component.css ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1nZW5lcmFsL2hvbWUvaG9tZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/app-general/home/home.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/ui/app-general/home/home.component.ts ***!
  \*******************************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../navigation/tracks/app-track-data */ "./src/app/ui/navigation/tracks/app-track-data.ts");







let HomeComponent = class HomeComponent {
    constructor(appService, navService, puzzleManagement, authService) {
        this.appService = appService;
        this.navService = navService;
        this.puzzleManagement = puzzleManagement;
        this.authService = authService;
        this.puzzleList = [];
        this.gridList = [];
        this.subs = [];
    }
    ngOnInit() {
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
        this.subs.push(this.authService.observe().subscribe(credentials => this.credentials = credentials));
        this.subs.push(this.puzzleManagement.getPuzzleList().subscribe((list) => {
            this.puzzleList = list.filter(p => (p.solveable || p.blogable));
            this.gridList = list.filter(p => p.gridable && !(p.solveable || p.blogable));
        }, (error) => this.appService.setAlert("danger", error.toString())));
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
    }
    onOpenSaved(id) {
        this.puzzleManagement.openPuzzle(id)
            .then((puzzle) => {
            if (puzzle) {
                this.navService.beginTrack("solve", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_6__["AppTrackData"]());
            }
        });
    }
    onOpenSavedGrid(id) {
        this.puzzleManagement.openPuzzle(id)
            .then((puzzle) => {
            if (puzzle) {
                this.navService.beginTrack("create", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_6__["AppTrackData"](), "grid-editor");
            }
        });
    }
    onDelete(id) {
        this.puzzleManagement.deletePuzzle(id);
    }
};
HomeComponent.ctorParameters = () => [
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IPuzzleManager"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] }
];
HomeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-home',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./home.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/home/home.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./home.component.css */ "./src/app/ui/app-general/home/home.component.css")).default]
    })
], HomeComponent);



/***/ }),

/***/ "./src/app/ui/app-general/login/login.component.css":
/*!**********************************************************!*\
  !*** ./src/app/ui/app-general/login/login.component.css ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1nZW5lcmFsL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/app-general/login/login.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/ui/app-general/login/login.component.ts ***!
  \*********************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");





let LoginComponent = class LoginComponent {
    constructor(navService, appService, settingsService) {
        this.navService = navService;
        this.appService = appService;
        this.settingsService = settingsService;
        this.preview = "";
        this.subs = [];
        this.settings = this.settingsService.settings;
    }
    ngOnInit() {
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onLoginClose() {
        if (this.appService.loginCallback) {
            this.appService.loginCallback();
        }
        else {
            this.navService.goHome();
        }
    }
};
LoginComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_4__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_3__["AppSettingsService"] }
];
LoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-login',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./login.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/login/login.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./login.component.css */ "./src/app/ui/app-general/login/login.component.css")).default]
    })
], LoginComponent);



/***/ }),

/***/ "./src/app/ui/app-general/readme/readme.component.css":
/*!************************************************************!*\
  !*** ./src/app/ui/app-general/readme/readme.component.css ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1nZW5lcmFsL3JlYWRtZS9yZWFkbWUuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/app-general/readme/readme.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/ui/app-general/readme/readme.component.ts ***!
  \***********************************************************/
/*! exports provided: ReadmeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReadmeComponent", function() { return ReadmeComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



let ReadmeComponent = class ReadmeComponent {
    constructor(route) {
        this.route = route;
    }
    ngOnInit() {
        //console.log(this.route.snapshot);
    }
};
ReadmeComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["ActivatedRoute"] }
];
ReadmeComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-readme',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./readme.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/readme/readme.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./readme.component.css */ "./src/app/ui/app-general/readme/readme.component.css")).default]
    })
], ReadmeComponent);



/***/ }),

/***/ "./src/app/ui/app-general/settings/settings.component.css":
/*!****************************************************************!*\
  !*** ./src/app/ui/app-general/settings/settings.component.css ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC1nZW5lcmFsL3NldHRpbmdzL3NldHRpbmdzLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/app-general/settings/settings.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/ui/app-general/settings/settings.component.ts ***!
  \***************************************************************/
/*! exports provided: SettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsComponent", function() { return SettingsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");






let SettingsComponent = class SettingsComponent {
    constructor(navService, appService, settingsService, formBuilder) {
        this.navService = navService;
        this.appService = appService;
        this.settingsService = settingsService;
        this.formBuilder = formBuilder;
        this.subs = [];
    }
    ngOnInit() {
        this.settings = this.settingsService.settings;
        this.form = this.formBuilder.group({
            sandbox: [false],
            footer: [""],
            general: this.formBuilder.group({}),
            tips: this.formBuilder.group({}),
        });
        Object.keys(this.settings.general).forEach(key => {
            this.form.controls["general"].addControl(key, new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.settings.general[key].enabled));
        });
        Object.keys(this.settings.tips).forEach(key => {
            this.form.controls["tips"].addControl(key, new _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControl"](this.settings.tips[key].enabled));
        });
        this.subs.push(this.settingsService.observe().subscribe(settings => {
            this.settings = settings;
            this.form.patchValue({
                sandbox: settings.sandbox,
                footer: settings.footer,
            });
            Object.keys(this.settings.general).forEach(key => {
                this.form.get("general").controls[key].patchValue(settings.general[key].enabled);
            });
            Object.keys(this.settings.tips).forEach(key => {
                this.form.get("tips").controls[key].patchValue(settings.tips[key].enabled);
            });
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onSave() {
        let changes = {
            sandbox: this.form.value.sandbox,
            general: this.getChanges("general"),
            footer: this.form.value.footer,
            tips: this.getChanges("tips"),
        };
        this.settingsService.update(changes);
        //this.navService.returnToSender();
        this.navService.goHome();
    }
    onCancel() {
        //this.navService.returnToSender();
        this.navService.goHome();
    }
    get tipKeys() {
        return Object.keys(this.settings.tips);
    }
    get generalKeys() {
        return Object.keys(this.settings.general);
    }
    onReset() {
        this.settingsService.factoryReset();
        this.navService.goHome();
        //this.navService.returnToSender();
    }
    getChanges(groupKey) {
        let result = {};
        Object.keys(this.form.controls[groupKey].controls).forEach(key => {
            result[key] = { enabled: this.form.value[groupKey][key] };
        });
        return result;
    }
};
SettingsComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__["AppSettingsService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }
];
SettingsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-settings',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./settings.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app-general/settings/settings.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./settings.component.css */ "./src/app/ui/app-general/settings/settings.component.css")).default]
    })
], SettingsComponent);



/***/ }),

/***/ "./src/app/ui/app/app.component.css":
/*!******************************************!*\
  !*** ./src/app/ui/app/app.component.css ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2FwcC9hcHAuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/app/app.component.ts":
/*!*****************************************!*\
  !*** ./src/app/ui/app/app.component.ts ***!
  \*****************************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../navigation/tracks/app-track-data */ "./src/app/ui/navigation/tracks/app-track-data.ts");








let AppComponent = class AppComponent {
    constructor(navService, authService, activePuzzle, appService, router) {
        this.navService = navService;
        this.authService = authService;
        this.activePuzzle = activePuzzle;
        this.appService = appService;
        this.router = router;
        this.subs = [];
        this.temp = "undefined";
    }
    ngOnInit() {
        this.appService.clearBusy();
        this.subs.push(this.appService.getObservable().subscribe(appStatus => {
            this.appStatus = appStatus;
        }));
        this.subs.push(this.authService.observe().subscribe(credentials => {
            this.credentials = credentials;
        }));
        this.subs.push(this.router.events.subscribe((event) => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_2__["NavigationEnd"]) {
                let context = this.navService.debugNavContext;
                this.temp = context ?
                    `${context.track.name}:${context.currentNode.name}` :
                    "none";
            }
            ;
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
    }
    onArchive(provider) {
        this.activePuzzle.clear();
        this.appService.clear();
        //this.appService.navContext.clear();
        if (provider === "independent" || provider === "ios") {
            this.navService.gotoRoute(["indy"]);
        }
        else if (provider === "special") {
            this.navService.beginTrack("create", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_7__["AppTrackData"]());
        }
        else {
            this.navService.gotoRoute(["archive", provider]);
        }
    }
    onGrid() {
        this.activePuzzle.clear();
        this.appService.clear();
        this.navService.beginTrack("create", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_7__["AppTrackData"]());
    }
    onHome() {
        this.navService.goHome();
    }
    onGoTo(route) {
        this.appService.clear();
        this.navService.gotoRoute([route]);
    }
    onLogout() {
        this.authService.clearCredentials();
        this.appService.clear();
        this.navService.gotoRoute(["login"]);
    }
};
AppComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__["NavService"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_5__["AuthService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__["IActivePuzzle"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] }
];
AppComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-root',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/app/app.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./app.component.css */ "./src/app/ui/app/app.component.css")).default]
    })
], AppComponent);



/***/ }),

/***/ "./src/app/ui/common.ts":
/*!******************************!*\
  !*** ./src/app/ui/common.ts ***!
  \******************************/
/*! exports provided: Alert, GridParameters, GridEditors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Alert", function() { return Alert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridParameters", function() { return GridParameters; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEditors", function() { return GridEditors; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class Alert {
    constructor(type, message) {
        this.type = type;
        this.message = message;
    }
}
class GridParameters {
    constructor() {
        this.cellSize = 33;
        this.borderWidth = 1;
        this.barWidth = 3;
        this.gridPadding = 5;
        this.cellPadding = 2;
        this.captionFont = "9px serif";
        this.textFont = "20px sans-serif";
        this.gridColor = "#000000";
        this.highlightColor = "BurlyWood";
    }
}
const GridEditors = {
    cellEditor: Symbol("CellEditor"),
    cellEditorFluid: Symbol("CellEditorFluid"),
    cellEditorEmptyFluid: Symbol("CellEditorEmptyFluid"),
    entryEditor: Symbol("EntryEditor"),
    entryEditorFluid: Symbol("EntryEditorFluid"),
};


/***/ }),

/***/ "./src/app/ui/components/alert/alert.component.css":
/*!*********************************************************!*\
  !*** ./src/app/ui/components/alert/alert.component.css ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvYWxlcnQvYWxlcnQuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/components/alert/alert.component.ts":
/*!********************************************************!*\
  !*** ./src/app/ui/components/alert/alert.component.ts ***!
  \********************************************************/
/*! exports provided: AlertComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertComponent", function() { return AlertComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");



let AlertComponent = class AlertComponent {
    constructor(appService) {
        this.appService = appService;
        this.subs = [];
    }
    ngOnInit() {
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe);
    }
    onClose() {
        this.appService.clearAlerts();
    }
};
AlertComponent.ctorParameters = () => [
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] }
];
AlertComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-alert',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./alert.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/alert/alert.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./alert.component.css */ "./src/app/ui/components/alert/alert.component.css")).default]
    })
], AlertComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-editor/clue-editor.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/ui/components/clue-editor/clue-editor.component.css ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".hidden {\r\n    display:none;\r\n}\r\n.spacey {\r\n    letter-spacing: 3px;\r\n}\r\n.spacey span {\r\n    display: inline-block;\r\n}\r\n.separator {\r\n    color: slategrey;\r\n    margin-left: 5px;\r\n    margin-right: 4px;\r\n}\r\n.placeholder {\r\n    color: slategrey;\r\n}\r\n.pointing {\r\n    color: slategrey;\r\n}\r\n.editorEntry {\r\n    color: black;\r\n}\r\n.gridEntry {\r\n    color: slategrey;\r\n}\r\n.clash {\r\n    color: orangered;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvY29tcG9uZW50cy9jbHVlLWVkaXRvci9jbHVlLWVkaXRvci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxxQkFBcUI7QUFDekI7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksWUFBWTtBQUNoQjtBQUNBO0lBQ0ksZ0JBQWdCO0FBQ3BCO0FBQ0E7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC91aS9jb21wb25lbnRzL2NsdWUtZWRpdG9yL2NsdWUtZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGlkZGVuIHtcclxuICAgIGRpc3BsYXk6bm9uZTtcclxufVxyXG4uc3BhY2V5IHtcclxuICAgIGxldHRlci1zcGFjaW5nOiAzcHg7XHJcbn1cclxuLnNwYWNleSBzcGFuIHtcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxufVxyXG5cclxuLnNlcGFyYXRvciB7XHJcbiAgICBjb2xvcjogc2xhdGVncmV5O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcclxuICAgIG1hcmdpbi1yaWdodDogNHB4O1xyXG59XHJcbi5wbGFjZWhvbGRlciB7XHJcbiAgICBjb2xvcjogc2xhdGVncmV5O1xyXG59XHJcbi5wb2ludGluZyB7XHJcbiAgICBjb2xvcjogc2xhdGVncmV5O1xyXG59XHJcbi5lZGl0b3JFbnRyeSB7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbn1cclxuLmdyaWRFbnRyeSB7XHJcbiAgICBjb2xvcjogc2xhdGVncmV5O1xyXG59XHJcbi5jbGFzaCB7XHJcbiAgICBjb2xvcjogb3JhbmdlcmVkO1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/ui/components/clue-editor/clue-editor.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/ui/components/clue-editor/clue-editor.component.ts ***!
  \********************************************************************/
/*! exports provided: ClueEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueEditorComponent", function() { return ClueEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _clue_text_control_clue_text_control_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../clue-text-control/clue-text-control.component */ "./src/app/ui/components/clue-text-control/clue-text-control.component.ts");
/* harmony import */ var src_app_services_modifiers_update_clue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/update-clue */ "./src/app/services/modifiers/update-clue.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _tip_tip_instance__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tip/tip-instance */ "./src/app/ui/components/tip/tip-instance.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _confirm_modal_confirm_modal_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../confirm-modal/confirm-modal.component */ "./src/app/ui/components/confirm-modal/confirm-modal.component.ts");
/* harmony import */ var src_app_model_puzzle__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/model/puzzle */ "./src/app/model/puzzle.ts");












class AnswerTextChunk {
    constructor(letter, klass) {
        this.letter = letter;
        this.klass = klass;
    }
    toString() {
        return this.letter;
    }
}
let ClueEditorComponent = class ClueEditorComponent {
    constructor(activePuzzle, appSettingsService, formBuilder, modalService) {
        this.activePuzzle = activePuzzle;
        this.appSettingsService = appSettingsService;
        this.formBuilder = formBuilder;
        this.modalService = modalService;
        this.close = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.tipStatus = new _tip_tip_instance__WEBPACK_IMPORTED_MODULE_7__["TipStatus"](false, false, false);
        this.warnings = [];
        this.showAnnotation = false;
        this.latestAnswer = [];
        this.subs = [];
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            answer: [""],
            comment: [""],
            chunks: [[]],
        });
        this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
            if (puzzle) {
                this.shadowPuzzle = this.makeShadowPuzzle(puzzle, this.clueId);
                this.clue = puzzle.clues.find((c) => c.id === this.clueId);
                this.form.patchValue({
                    comment: this.clue.comment,
                    answer: this.starterText ? this.starterText : this.clue.answer,
                    chunks: this.clue.chunks,
                });
                this.warnings = [];
                this.clue.warnings.forEach(warning => this.warnings.push(warning));
                this.setLatestAnswer();
            }
        }));
        this.subs.push(this.appSettingsService.observe().subscribe(settings => {
            this.appSettings = settings;
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
        if (this.tipInstance) {
            this.tipInstance.destroy();
        }
    }
    onClearDefinition() {
        this.form.patchValue({
            chunks: [new _clue_text_control_clue_text_control_component__WEBPACK_IMPORTED_MODULE_3__["ClueTextChunk"](0, this.clue.text, false)]
        });
        this.warnings = this.validate();
    }
    hasDefinition() {
        let definitionCount = 0;
        this.form.value.chunks.forEach((chunk) => {
            if (chunk.isDefinition) {
                definitionCount++;
            }
        });
        return definitionCount > 0;
    }
    onSave() {
        if (this.appSettings.general.showCommentEditor.enabled &&
            this.appSettings.tips.definitionWarning.enabled &&
            !this.tipStatus.show &&
            this.form.value.chunks.length < 2) {
            this.tipInstance.activated = true;
        }
        else {
            let answer = this.clean(this.form.value.answer);
            if (answer && answer.length !== this.clue.lengthAvailable) {
                this.showSaveWarning("Warning: the answer does not fit the space available");
            }
            else if (this.clue.solution && answer !== this.clean(this.clue.solution)) {
                this.showSaveWarning("Warning: the answer does match the publsihed solution");
            }
            else {
                this.closeEditor(true);
            }
        }
    }
    onTipInstance(instance) {
        this.tipInstance = instance;
        this.tipInstance.activated = false;
        this.tipInstance.observe().subscribe(ts => this.tipStatus = ts);
    }
    onCancel() {
        this.closeEditor(false);
    }
    onToggleComment() {
        this.appSettingsService.toggleCommentEditor();
    }
    onCheat() {
        this.form.patchValue({
            answer: this.clue.solution,
        });
        this.warnings = this.validate();
        this.setLatestAnswer();
    }
    onAnnotation() {
        this.showAnnotation = !this.showAnnotation;
    }
    onChange() {
        this.warnings = this.validate();
        this.setLatestAnswer();
    }
    get showTextWarning() {
        return this.appSettings.general.showCommentEditor.enabled &&
            this.appSettings.general.showCommentValidation.enabled &&
            this.warnings.length &&
            !this.clue.redirect;
    }
    showSaveWarning(message) {
        let lengthDialog = this.modalService.open(_confirm_modal_confirm_modal_component__WEBPACK_IMPORTED_MODULE_10__["ConfirmModalComponent"]);
        lengthDialog.componentInstance.message = message;
        lengthDialog.result.then((result) => {
            if (result) {
                this.closeEditor(true);
            }
        })
            .catch();
    }
    closeEditor(save) {
        if (save) {
            this.activePuzzle.update(new src_app_services_modifiers_update_clue__WEBPACK_IMPORTED_MODULE_4__["UpdateClue"](this.clueId, this.form.value.answer, this.form.value.comment, this.form.value.chunks, this.warnings));
        }
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_8__["Clear"]());
        this.close.emit(save ? "save" : "cancel");
    }
    validate() {
        let warnings = [];
        let answer = this.form.value.answer;
        let comment = this.form.value.comment;
        let chunks = this.form.value.chunks;
        if (!answer || answer.trim().length === 0) {
            warnings.push("missing answer");
        }
        let commentOK = false;
        if (comment && comment.ops && Array.isArray(comment.ops)) {
            let text = "";
            comment.ops.forEach(op => {
                if (op.insert) {
                    text += op.insert;
                }
            });
            commentOK = text.trim().length > 0;
        }
        if (!commentOK) {
            warnings.push("missing comment");
        }
        let definitionCount = 0;
        chunks.forEach(chunk => {
            if (chunk.isDefinition) {
                definitionCount++;
            }
        });
        if (definitionCount === 0) {
            warnings.push("missing definition");
        }
        return warnings;
    }
    clean(answer) {
        return answer ?
            answer.toUpperCase().replace(/[^A-Z]/g, "") :
            "";
    }
    setLatestAnswer() {
        let result = [];
        let answer = this.getLatestAnswer();
        let format = this.clue.format;
        let formatIndex = 0;
        let answerIndex = 0;
        while (formatIndex < format.length) {
            if (format[formatIndex] === ",") {
                if (answerIndex < answer.length) {
                    result.push(answer[answerIndex]);
                    answerIndex++;
                }
                else {
                    result.push(new AnswerTextChunk("_", "placeholder"));
                }
            }
            else {
                result.push(new AnswerTextChunk(format[formatIndex], "separator"));
            }
            formatIndex++;
        }
        while (answerIndex < answer.length) {
            result.push(answer[answerIndex]);
            answerIndex++;
        }
        this.latestAnswer = result;
    }
    getLatestAnswer() {
        let result = [];
        let answer = this.clean(this.form.value.answer);
        let index = 0;
        this.clue.entries.forEach((entry) => {
            entry.cellIds.forEach((id) => {
                let cell = this.shadowPuzzle.grid.cells.find((cell) => cell.id === id);
                // choose in order of preference:
                //     - a letter from the answer
                //     - a letter from the grid
                //     - a placeholder
                let letter = "_";
                let klass = "placeholder";
                let gridEntry = cell.content && cell.content.trim().length > 0 ? cell.content : null;
                let editorEntry = answer.length > index ? answer.charAt(index) : null;
                if (!gridEntry) {
                    if (editorEntry) {
                        letter = editorEntry;
                        klass = "editorEntry";
                    }
                }
                else {
                    if (editorEntry && gridEntry !== editorEntry) {
                        letter = editorEntry;
                        klass = "clash";
                    }
                    else {
                        letter = gridEntry;
                        klass = "gridEntry";
                    }
                }
                result.push(new AnswerTextChunk(letter, klass));
                index++;
            });
        });
        return result;
    }
    // this function takes the model and creates a copy set to the state the original would have been
    // if the current clue had not yet been attempted
    makeShadowPuzzle(original, clueId) {
        let puzzle = JSON.parse(JSON.stringify(original));
        if (puzzle.grid) {
            // clear the grid
            puzzle.grid.cells.forEach(cell => cell.content = "");
            puzzle.clues.forEach((clue) => {
                let answer = null;
                let index = 0;
                if (clue.id !== clueId) {
                    answer = clue.answer.toUpperCase().replace(/[^A-Z]/g, "");
                }
                if (answer) {
                    clue.entries.forEach((entry) => {
                        entry.cellIds.forEach((id) => {
                            let cell = puzzle.grid.cells.find(c => c.id === id);
                            if (index < answer.length) {
                                cell.content = answer.charAt(index);
                            }
                            index++;
                        });
                    });
                }
            });
        }
        return new src_app_model_puzzle__WEBPACK_IMPORTED_MODULE_11__["Puzzle"](puzzle);
    }
};
ClueEditorComponent.ctorParameters = () => [
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__["IActivePuzzle"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__["AppSettingsService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_9__["NgbModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueEditorComponent.prototype, "clueId", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueEditorComponent.prototype, "starterText", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], ClueEditorComponent.prototype, "close", void 0);
ClueEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-editor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-editor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-editor/clue-editor.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-editor.component.css */ "./src/app/ui/components/clue-editor/clue-editor.component.css")).default]
    })
], ClueEditorComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-list-item/clue-list-item.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/ui/components/clue-list-item/clue-list-item.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".highlight {\r\n    background-color: burlywood;\r\n}\r\n.solved {\r\n    color: silver;\r\n}\r\n.highlight.solved {\r\n    color: inherit;\r\n}\r\n.caption {\r\n    font-weight: bold;\r\n}\r\ntd {\r\n    vertical-align: top;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvY29tcG9uZW50cy9jbHVlLWxpc3QtaXRlbS9jbHVlLWxpc3QtaXRlbS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksMkJBQTJCO0FBQy9CO0FBQ0E7SUFDSSxhQUFhO0FBQ2pCO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCO0FBQ0E7SUFDSSxpQkFBaUI7QUFDckI7QUFDQTtJQUNJLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY2x1ZS1saXN0LWl0ZW0vY2x1ZS1saXN0LWl0ZW0uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oaWdobGlnaHQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogYnVybHl3b29kO1xyXG59XHJcbi5zb2x2ZWQge1xyXG4gICAgY29sb3I6IHNpbHZlcjtcclxufVxyXG4uaGlnaGxpZ2h0LnNvbHZlZCB7XHJcbiAgICBjb2xvcjogaW5oZXJpdDtcclxufVxyXG4uY2FwdGlvbiB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG50ZCB7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/ui/components/clue-list-item/clue-list-item.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/ui/components/clue-list-item/clue-list-item.component.ts ***!
  \**************************************************************************/
/*! exports provided: ClueListItemComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueListItemComponent", function() { return ClueListItemComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");



let ClueListItemComponent = class ClueListItemComponent {
    constructor(appSettings) {
        this.appSettings = appSettings;
        this.subs = [];
    }
    ngOnInit() {
        this.subs.push(this.appSettings.observe().subscribe(settings => {
            const validationRequired = this.appSettings.settings.general.showCommentValidation.enabled;
            const detailsRequired = this.appSettings.settings.general.showCommentEditor.enabled;
            this.klasses = [];
            if (this.clue.highlight) {
                this.klasses.push("highlight");
            }
            if (validationRequired) {
                let isSolved = detailsRequired ?
                    this.clue.warnings.length === 0 :
                    this.clue.answer.length > 0;
                if (isSolved) {
                    this.klasses.push("solved");
                }
            }
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
};
ClueListItemComponent.ctorParameters = () => [
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__["AppSettingsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueListItemComponent.prototype, "clue", void 0);
ClueListItemComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-list-item',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-list-item.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list-item/clue-list-item.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-list-item.component.css */ "./src/app/ui/components/clue-list-item/clue-list-item.component.css")).default]
    })
], ClueListItemComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-list/clue-list.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/ui/components/clue-list/clue-list.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY2x1ZS1saXN0L2NsdWUtbGlzdC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/clue-list/clue-list.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/ui/components/clue-list/clue-list.component.ts ***!
  \****************************************************************/
/*! exports provided: ClueListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueListComponent", function() { return ClueListComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_modifiers_select_clue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/select-clue */ "./src/app/services/modifiers/select-clue.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");





let ClueListComponent = class ClueListComponent {
    constructor(appSettingsService, activePuzzle) {
        this.appSettingsService = appSettingsService;
        this.activePuzzle = activePuzzle;
        this.clueClick = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.subs = [];
        this.clues = [];
    }
    ngOnInit() {
        this.appSettings = this.appSettingsService.settings;
        this.subs.push(this.appSettingsService.observe().subscribe(settings => this.appSettings = settings));
        this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
            if (puzzle && puzzle.clues) {
                this.clues = puzzle.clues.filter((clue) => clue.group === this.direction);
            }
        }));
    }
    onClueClick(clue) {
        if (clue.highlight) {
            this.clueClick.emit(clue);
        }
        else {
            this.activePuzzle.update(new src_app_services_modifiers_select_clue__WEBPACK_IMPORTED_MODULE_2__["SelectClue"](clue.id));
        }
    }
};
ClueListComponent.ctorParameters = () => [
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__["AppSettingsService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IActivePuzzle"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueListComponent.prototype, "direction", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], ClueListComponent.prototype, "clueClick", void 0);
ClueListComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-list',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-list.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-list/clue-list.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-list.component.css */ "./src/app/ui/components/clue-list/clue-list.component.css")).default]
    })
], ClueListComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".definition {\r\n    color: skyblue;\r\n    text-decoration: underline;\r\n}\r\n.plain {\r\n    color:blue;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvY29tcG9uZW50cy9jbHVlLXRleHQtY2h1bmsvY2x1ZS10ZXh0LWNodW5rLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsMEJBQTBCO0FBQzlCO0FBQ0E7SUFDSSxVQUFVO0FBQ2QiLCJmaWxlIjoic3JjL2FwcC91aS9jb21wb25lbnRzL2NsdWUtdGV4dC1jaHVuay9jbHVlLXRleHQtY2h1bmsuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kZWZpbml0aW9uIHtcclxuICAgIGNvbG9yOiBza3libHVlO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbn1cclxuLnBsYWluIHtcclxuICAgIGNvbG9yOmJsdWU7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.ts ***!
  \****************************************************************************/
/*! exports provided: ClueTextChunkComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueTextChunkComponent", function() { return ClueTextChunkComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ClueTextChunkComponent = class ClueTextChunkComponent {
    constructor() {
        this.chunkMouseUp = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
    }
    cssClass() {
        return this.chunk.isDefinition ? "definition" : "plain";
    }
    ;
    onMouseUp() {
        this.chunkMouseUp.emit(this.chunk);
    }
    containsDomElement(target) {
        let result = false;
        let node = this.spanElemnt.nativeElement;
        if (node.contains(target)) {
            result = true;
        }
        return result;
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueTextChunkComponent.prototype, "chunk", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], ClueTextChunkComponent.prototype, "chunkMouseUp", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])("span", { static: false })
], ClueTextChunkComponent.prototype, "spanElemnt", void 0);
ClueTextChunkComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-text-chunk',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-text-chunk.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-text-chunk.component.css */ "./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.css")).default]
    })
], ClueTextChunkComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-text-control/clue-text-control.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/components/clue-text-control/clue-text-control.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY2x1ZS10ZXh0LWNvbnRyb2wvY2x1ZS10ZXh0LWNvbnRyb2wuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/components/clue-text-control/clue-text-control.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/ui/components/clue-text-control/clue-text-control.component.ts ***!
  \********************************************************************************/
/*! exports provided: ClueTextChunk, ClueTextControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueTextChunk", function() { return ClueTextChunk; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueTextControlComponent", function() { return ClueTextControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _clue_text_chunk_clue_text_chunk_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../clue-text-chunk/clue-text-chunk.component */ "./src/app/ui/components/clue-text-chunk/clue-text-chunk.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");

var ClueTextControlComponent_1;



// ClueTextChunk is a ViewModel representing the definition mask string in a ui-friendly way 
class ClueTextChunk {
    constructor(index, text, isDefinition, selectionStartOffset = null, selectionEndOffset = null) {
        this.index = index;
        this.text = text;
        this.isDefinition = isDefinition;
        this.selectionStartOffset = selectionStartOffset;
        this.selectionEndOffset = selectionEndOffset;
    }
}
let ClueTextControlComponent = ClueTextControlComponent_1 = class ClueTextControlComponent {
    constructor() {
        this.chunks = [];
        this.propagateChange = (_) => { };
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    writeValue(chunks) {
        if (chunks !== undefined) {
            this.chunks = [];
            chunks.forEach((chunk, index) => this.chunks.push(new ClueTextChunk(index, chunk.text, chunk.isDefinition)));
        }
    }
    registerOnChange(fn) {
        this.propagateChange = fn;
    }
    registerOnTouched() {
    }
    ngOnInit() {
    }
    onChunkMouseUp() {
        if (window.getSelection) {
            let selection = window.getSelection();
            if (!selection.isCollapsed) {
                // NOTE: focus and anchor nodes represent the place the user began the selection and
                // the place the user ended the selection.  This selection might have been right-to-left
                // or left-to-right, ie focus might come beofre or after the anchor in the text.
                let fNode = selection.focusNode;
                let fOffset = selection.focusOffset;
                let aNode = selection.anchorNode;
                let aOffset = selection.anchorOffset;
                let aChunk = null;
                let fChunk = null;
                // find the chunks containing the anchor and focus
                this.children.forEach((component) => {
                    if (component.containsDomElement(aNode)) {
                        aChunk = component.chunk;
                    }
                    if (component.containsDomElement(fNode)) {
                        fChunk = component.chunk;
                    }
                });
                // work out which chunk is the start of the selection and which is the end 
                let startChunk;
                let endChunk;
                if (aChunk && fChunk) {
                    if (aChunk.index == fChunk.index) {
                        // selection starts and ends in the same node
                        startChunk = aChunk;
                        endChunk = aChunk;
                        startChunk.selectionStartOffset = Math.min(aOffset, fOffset);
                        endChunk.selectionEndOffset = Math.max(aOffset, fOffset);
                    }
                    else if (aChunk.index < fChunk.index) {
                        startChunk = aChunk;
                        endChunk = fChunk;
                        startChunk.selectionStartOffset = aOffset;
                        endChunk.selectionEndOffset = fOffset;
                    }
                    else {
                        startChunk = fChunk;
                        endChunk = aChunk;
                        startChunk.selectionStartOffset = fOffset;
                        endChunk.selectionEndOffset = aOffset;
                    }
                    this.chunks = this.consolidateChunkArray();
                    this.propagateChange(this.chunks);
                    this.change.emit();
                }
            }
            selection.removeAllRanges();
        }
    }
    consolidateChunkArray() {
        let result = [];
        let index = 0;
        const indexBound = this.chunks.length;
        let chunkCount = 0;
        // copy up to, but not including, the first chunk in the selection
        while (index < indexBound && this.chunks[index].selectionStartOffset === null) {
            let oldChunk = this.chunks[index];
            // copy the chunk across as-is
            result.push(new ClueTextChunk(chunkCount, oldChunk.text, oldChunk.isDefinition, null, null));
            chunkCount++;
            index++;
        }
        // copy up to, but not including, the last chunk in the selection
        while (index < indexBound && this.chunks[index].selectionEndOffset === null) {
            let oldChunk = this.chunks[index];
            if (oldChunk.selectionStartOffset) {
                // split the chunk into two parts, second becomes definition
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(0, oldChunk.selectionStartOffset), oldChunk.isDefinition, null, null));
                chunkCount++;
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(oldChunk.selectionStartOffset), true, null, null));
                chunkCount++;
            }
            else {
                // copy the whole chunk as a definition
                result.push(new ClueTextChunk(chunkCount, oldChunk.text, true, null, null));
                chunkCount++;
            }
            index++;
        }
        // copy the remaining chunks
        while (index < indexBound) {
            let oldChunk = this.chunks[index];
            if (oldChunk.selectionStartOffset && oldChunk.selectionEndOffset) {
                // split the chunk into three parts, middle part becomes definition
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(0, oldChunk.selectionStartOffset), oldChunk.isDefinition, null, null));
                chunkCount++;
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(oldChunk.selectionStartOffset, oldChunk.selectionEndOffset), true, null, null));
                chunkCount++;
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(oldChunk.selectionEndOffset), oldChunk.isDefinition, null, null));
                chunkCount++;
            }
            else if (oldChunk.selectionEndOffset) {
                // split the chunk into two parts, first becomes definition
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(0, oldChunk.selectionEndOffset), true, null, null));
                chunkCount++;
                result.push(new ClueTextChunk(chunkCount, oldChunk.text.substring(oldChunk.selectionEndOffset), oldChunk.isDefinition, null, null));
                chunkCount++;
            }
            else {
                // copy the chunk as-is
                result.push(new ClueTextChunk(chunkCount, oldChunk.text, oldChunk.isDefinition, null, null));
                chunkCount++;
            }
            index++;
        }
        return result;
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])(_clue_text_chunk_clue_text_chunk_component__WEBPACK_IMPORTED_MODULE_2__["ClueTextChunkComponent"])
], ClueTextControlComponent.prototype, "children", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], ClueTextControlComponent.prototype, "change", void 0);
ClueTextControlComponent = ClueTextControlComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-text-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-text-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text-control/clue-text-control.component.html")).default,
        providers: [{
                provide: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NG_VALUE_ACCESSOR"],
                useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(() => ClueTextControlComponent_1),
                multi: true
            }],
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-text-control.component.css */ "./src/app/ui/components/clue-text-control/clue-text-control.component.css")).default]
    })
], ClueTextControlComponent);



/***/ }),

/***/ "./src/app/ui/components/clue-text/clue-text.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/ui/components/clue-text/clue-text.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY2x1ZS10ZXh0L2NsdWUtdGV4dC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/clue-text/clue-text.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/ui/components/clue-text/clue-text.component.ts ***!
  \****************************************************************/
/*! exports provided: ClueTextComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClueTextComponent", function() { return ClueTextComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ClueTextComponent = class ClueTextComponent {
    constructor() { }
    ngOnInit() {
    }
    makeChunkStyle(chunk) {
        let result = {};
        let textStyle = chunk.isDefinition ?
            this.publishOptions.definitionStyle :
            this.publishOptions.clueStyle;
        result.color = textStyle.color;
        result["text-decoration"] = textStyle.underline ? "underline" : "none";
        result["font-weight"] = textStyle.bold ? "bold" : "normal";
        result["font-style"] = textStyle.italic ? "italic" : "normal";
        return result;
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueTextComponent.prototype, "clue", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ClueTextComponent.prototype, "publishOptions", void 0);
ClueTextComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clue-text',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clue-text.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clue-text/clue-text.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clue-text.component.css */ "./src/app/ui/components/clue-text/clue-text.component.css")).default]
    })
], ClueTextComponent);



/***/ }),

/***/ "./src/app/ui/components/clues-preview/clues-preview.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/components/clues-preview/clues-preview.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY2x1ZXMtcHJldmlldy9jbHVlcy1wcmV2aWV3LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/clues-preview/clues-preview.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/components/clues-preview/clues-preview.component.ts ***!
  \************************************************************************/
/*! exports provided: CluesPreviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CluesPreviewComponent", function() { return CluesPreviewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let CluesPreviewComponent = class CluesPreviewComponent {
    constructor() {
        this.answerStyle = {};
        this.clueStyle = {};
        this.definitionStyle = {};
    }
    ngOnInit() {
    }
    makeAnswerStyle() {
        if (this.publishOptions) {
            return this.makeStyle(this.publishOptions.answerStyle);
        }
        return {};
    }
    makeClueStyle() {
        if (this.publishOptions) {
            return this.makeStyle(this.publishOptions.clueStyle);
        }
        return {};
    }
    get tdClass() {
        let result = ["nopad"];
        switch (this.publishOptions.spacing) {
            case "small":
                result.push("pt-0");
                result.push("pb-0");
                break;
            case "medium":
                result.push("pt-1");
                result.push("pb-1");
                break;
            case "large":
                result.push("pt-2");
                result.push("pb-2");
                break;
            default:
                result.push("py-1");
                break;
        }
        return result;
    }
    makeStyle(textStyle) {
        return {
            "color": textStyle.color,
            "font-weight": textStyle.bold ? "bold" : "normal",
            "font-style": textStyle.italic ? "italic" : "normal",
            "text-decoration": textStyle.underline ? "underline" : "unset",
        };
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], CluesPreviewComponent.prototype, "clues", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], CluesPreviewComponent.prototype, "publishOptions", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], CluesPreviewComponent.prototype, "includeGrid", void 0);
CluesPreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clues-preview',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clues-preview.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/clues-preview/clues-preview.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clues-preview.component.css */ "./src/app/ui/components/clues-preview/clues-preview.component.css")).default]
    })
], CluesPreviewComponent);



/***/ }),

/***/ "./src/app/ui/components/color-control/color-control.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/components/color-control/color-control.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY29sb3ItY29udHJvbC9jb2xvci1jb250cm9sLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/color-control/color-control.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/components/color-control/color-control.component.ts ***!
  \************************************************************************/
/*! exports provided: ColorControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorControlComponent", function() { return ColorControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _colors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./colors */ "./src/app/ui/components/color-control/colors.ts");

var ColorControlComponent_1;



class ColorPickerOption {
}
let ColorControlComponent = ColorControlComponent_1 = class ColorControlComponent {
    constructor() {
        this.propagateChange = (_) => { };
        this.options = _colors__WEBPACK_IMPORTED_MODULE_3__["cssNamedColors"];
    }
    ngOnInit() {
        this.color = this.options[0];
    }
    writeValue(color) {
        let option = color ?
            this.options.find(opt => opt.value === color.toLowerCase().replace(";", "")) :
            null;
        if (option) {
            this.color = option;
        }
        else {
            this.color = this.options[0];
        }
    }
    registerOnChange(fn) {
        this.propagateChange = fn;
    }
    registerOnTouched() {
    }
    onColorChange() {
        this.propagateChange(this.color.value);
    }
};
ColorControlComponent = ColorControlComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-color-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./color-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/color-control/color-control.component.html")).default,
        providers: [{
                provide: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NG_VALUE_ACCESSOR"],
                useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["forwardRef"])(() => ColorControlComponent_1),
                multi: true
            }],
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./color-control.component.css */ "./src/app/ui/components/color-control/color-control.component.css")).default]
    })
], ColorControlComponent);



/***/ }),

/***/ "./src/app/ui/components/color-control/colors.ts":
/*!*******************************************************!*\
  !*** ./src/app/ui/components/color-control/colors.ts ***!
  \*******************************************************/
/*! exports provided: cssNamedColors */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cssNamedColors", function() { return cssNamedColors; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const cssNamedColors = [
    { caption: "aliceblue", value: "#f0f8ff" },
    { caption: "antiquewhite", value: "#faebd7" },
    { caption: "aqua", value: "#00ffff" },
    { caption: "aquamarine", value: "#7fffd4" },
    { caption: "azure", value: "#f0ffff" },
    { caption: "beige", value: "#f5f5dc" },
    { caption: "bisque", value: "#ffe4c4" },
    { caption: "black", value: "#000000" },
    { caption: "blanchedalmond", value: "#ffebcd" },
    { caption: "blue", value: "#0000ff" },
    { caption: "blueviolet", value: "#8a2be2" },
    { caption: "brown", value: "#a52a2a" },
    { caption: "burlywood", value: "#deb887" },
    { caption: "cadetblue", value: "#5f9ea0" },
    { caption: "chartreuse", value: "#7fff00" },
    { caption: "chocolate", value: "#d2691e" },
    { caption: "coral", value: "#ff7f50" },
    { caption: "cornflowerblue", value: "#6495ed" },
    { caption: "cornsilk", value: "#fff8dc" },
    { caption: "crimson", value: "#dc143c" },
    { caption: "cyan", value: "#00ffff" },
    { caption: "darkblue", value: "#00008b" },
    { caption: "darkcyan", value: "#008b8b" },
    { caption: "darkgoldenrod", value: "#b8860b" },
    { caption: "darkgray", value: "#a9a9a9" },
    { caption: "darkgreen", value: "#006400" },
    { caption: "darkgrey", value: "#a9a9a9" },
    { caption: "darkkhaki", value: "#bdb76b" },
    { caption: "darkmagenta", value: "#8b008b" },
    { caption: "darkolivegreen", value: "#556b2f" },
    { caption: "darkorange", value: "#ff8c00" },
    { caption: "darkorchid", value: "#9932cc" },
    { caption: "darkred", value: "#8b0000" },
    { caption: "darksalmon", value: "#e9967a" },
    { caption: "darkseagreen", value: "#8fbc8f" },
    { caption: "darkslateblue", value: "#483d8b" },
    { caption: "darkslategray", value: "#2f4f4f" },
    { caption: "darkslategrey", value: "#2f4f4f" },
    { caption: "darkturquoise", value: "#00ced1" },
    { caption: "darkviolet", value: "#9400d3" },
    { caption: "deeppink", value: "#ff1493" },
    { caption: "deepskyblue", value: "#00bfff" },
    { caption: "dimgray", value: "#696969" },
    { caption: "dimgrey", value: "#696969" },
    { caption: "dodgerblue", value: "#1e90ff" },
    { caption: "firebrick", value: "#b22222" },
    { caption: "floralwhite", value: "#fffaf0" },
    { caption: "forestgreen", value: "#228b22" },
    { caption: "fuchsia", value: "#ff00ff" },
    { caption: "gainsboro", value: "#dcdcdc" },
    { caption: "ghostwhite", value: "#f8f8ff" },
    { caption: "goldenrod", value: "#daa520" },
    { caption: "gold", value: "#ffd700" },
    { caption: "gray", value: "#808080" },
    { caption: "green", value: "#008000" },
    { caption: "greenyellow", value: "#adff2f" },
    { caption: "grey", value: "#808080" },
    { caption: "honeydew", value: "#f0fff0" },
    { caption: "hotpink", value: "#ff69b4" },
    { caption: "indianred", value: "#cd5c5c" },
    { caption: "indigo", value: "#4b0082" },
    { caption: "ivory", value: "#fffff0" },
    { caption: "khaki", value: "#f0e68c" },
    { caption: "lavenderblush", value: "#fff0f5" },
    { caption: "lavender", value: "#e6e6fa" },
    { caption: "lawngreen", value: "#7cfc00" },
    { caption: "lemonchiffon", value: "#fffacd" },
    { caption: "lightblue", value: "#add8e6" },
    { caption: "lightcoral", value: "#f08080" },
    { caption: "lightcyan", value: "#e0ffff" },
    { caption: "lightgoldenrodyellow", value: "#fafad2" },
    { caption: "lightgray", value: "#d3d3d3" },
    { caption: "lightgreen", value: "#90ee90" },
    { caption: "lightgrey", value: "#d3d3d3" },
    { caption: "lightpink", value: "#ffb6c1" },
    { caption: "lightsalmon", value: "#ffa07a" },
    { caption: "lightseagreen", value: "#20b2aa" },
    { caption: "lightskyblue", value: "#87cefa" },
    { caption: "lightslategray", value: "#778899" },
    { caption: "lightslategrey", value: "#778899" },
    { caption: "lightsteelblue", value: "#b0c4de" },
    { caption: "lightyellow", value: "#ffffe0" },
    { caption: "lime", value: "#00ff00" },
    { caption: "limegreen", value: "#32cd32" },
    { caption: "linen", value: "#faf0e6" },
    { caption: "magenta", value: "#ff00ff" },
    { caption: "maroon", value: "#800000" },
    { caption: "mediumaquamarine", value: "#66cdaa" },
    { caption: "mediumblue", value: "#0000cd" },
    { caption: "mediumorchid", value: "#ba55d3" },
    { caption: "mediumpurple", value: "#9370db" },
    { caption: "mediumseagreen", value: "#3cb371" },
    { caption: "mediumslateblue", value: "#7b68ee" },
    { caption: "mediumspringgreen", value: "#00fa9a" },
    { caption: "mediumturquoise", value: "#48d1cc" },
    { caption: "mediumvioletred", value: "#c71585" },
    { caption: "midnightblue", value: "#191970" },
    { caption: "mintcream", value: "#f5fffa" },
    { caption: "mistyrose", value: "#ffe4e1" },
    { caption: "moccasin", value: "#ffe4b5" },
    { caption: "navajowhite", value: "#ffdead" },
    { caption: "navy", value: "#000080" },
    { caption: "oldlace", value: "#fdf5e6" },
    { caption: "olive", value: "#808000" },
    { caption: "olivedrab", value: "#6b8e23" },
    { caption: "orange", value: "#ffa500" },
    { caption: "orangered", value: "#ff4500" },
    { caption: "orchid", value: "#da70d6" },
    { caption: "palegoldenrod", value: "#eee8aa" },
    { caption: "palegreen", value: "#98fb98" },
    { caption: "paleturquoise", value: "#afeeee" },
    { caption: "palevioletred", value: "#db7093" },
    { caption: "papayawhip", value: "#ffefd5" },
    { caption: "peachpuff", value: "#ffdab9" },
    { caption: "peru", value: "#cd853f" },
    { caption: "pink", value: "#ffc0cb" },
    { caption: "plum", value: "#dda0dd" },
    { caption: "powderblue", value: "#b0e0e6" },
    { caption: "purple", value: "#800080" },
    { caption: "rebeccapurple", value: "#663399" },
    { caption: "red", value: "#ff0000" },
    { caption: "rosybrown", value: "#bc8f8f" },
    { caption: "royalblue", value: "#4169e1" },
    { caption: "saddlebrown", value: "#8b4513" },
    { caption: "salmon", value: "#fa8072" },
    { caption: "sandybrown", value: "#f4a460" },
    { caption: "seagreen", value: "#2e8b57" },
    { caption: "seashell", value: "#fff5ee" },
    { caption: "sienna", value: "#a0522d" },
    { caption: "silver", value: "#c0c0c0" },
    { caption: "skyblue", value: "#87ceeb" },
    { caption: "slateblue", value: "#6a5acd" },
    { caption: "slategray", value: "#708090" },
    { caption: "slategrey", value: "#708090" },
    { caption: "snow", value: "#fffafa" },
    { caption: "springgreen", value: "#00ff7f" },
    { caption: "steelblue", value: "#4682b4" },
    { caption: "tan", value: "#d2b48c" },
    { caption: "teal", value: "#008080" },
    { caption: "thistle", value: "#d8bfd8" },
    { caption: "tomato", value: "#ff6347" },
    { caption: "turquoise", value: "#40e0d0" },
    { caption: "violet", value: "#ee82ee" },
    { caption: "wheat", value: "#f5deb3" },
    { caption: "white", value: "#ffffff" },
    { caption: "whitesmoke", value: "#f5f5f5" },
    { caption: "yellow", value: "#ffff00" },
    { caption: "yellowgreen", value: "#9acd32" },
];


/***/ }),

/***/ "./src/app/ui/components/confirm-modal/confirm-modal.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/components/confirm-modal/confirm-modal.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY29uZmlybS1tb2RhbC9jb25maXJtLW1vZGFsLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/confirm-modal/confirm-modal.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/components/confirm-modal/confirm-modal.component.ts ***!
  \************************************************************************/
/*! exports provided: ConfirmModalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmModalComponent", function() { return ConfirmModalComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");



let ConfirmModalComponent = class ConfirmModalComponent {
    constructor(activeModal) {
        this.activeModal = activeModal;
    }
    ngOnInit() {
    }
    onClose(result) {
        this.activeModal.close(result);
    }
};
ConfirmModalComponent.ctorParameters = () => [
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbActiveModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ConfirmModalComponent.prototype, "message", void 0);
ConfirmModalComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-confirm-modal',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./confirm-modal.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/confirm-modal/confirm-modal.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./confirm-modal.component.css */ "./src/app/ui/components/confirm-modal/confirm-modal.component.css")).default]
    })
], ConfirmModalComponent);



/***/ }),

/***/ "./src/app/ui/components/content-preview/content-preview.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/components/content-preview/content-preview.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvY29udGVudC1wcmV2aWV3L2NvbnRlbnQtcHJldmlldy5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/content-preview/content-preview.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/ui/components/content-preview/content-preview.component.ts ***!
  \****************************************************************************/
/*! exports provided: ContentPreviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContentPreviewComponent", function() { return ContentPreviewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ContentPreviewComponent = class ContentPreviewComponent {
    constructor() { }
    ngOnInit() {
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ContentPreviewComponent.prototype, "content", void 0);
ContentPreviewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-content-preview',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./content-preview.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/content-preview/content-preview.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./content-preview.component.css */ "./src/app/ui/components/content-preview/content-preview.component.css")).default]
    })
], ContentPreviewComponent);



/***/ }),

/***/ "./src/app/ui/components/diary-alias-control/diary-alias-control.component.css":
/*!*************************************************************************************!*\
  !*** ./src/app/ui/components/diary-alias-control/diary-alias-control.component.css ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvZGlhcnktYWxpYXMtY29udHJvbC9kaWFyeS1hbGlhcy1jb250cm9sLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/diary-alias-control/diary-alias-control.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/ui/components/diary-alias-control/diary-alias-control.component.ts ***!
  \************************************************************************************/
/*! exports provided: DiaryAliasControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiaryAliasControlComponent", function() { return DiaryAliasControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let DiaryAliasControlComponent = class DiaryAliasControlComponent {
    constructor() {
        this.remove = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.save = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
    }
    onRemove() {
        this.remove.emit({
            id: this.id,
            text: this.text,
        });
    }
    onSave() {
        this.save.emit({
            id: this.id,
            text: this.text,
        });
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], DiaryAliasControlComponent.prototype, "text", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], DiaryAliasControlComponent.prototype, "id", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], DiaryAliasControlComponent.prototype, "editable", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], DiaryAliasControlComponent.prototype, "remove", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], DiaryAliasControlComponent.prototype, "save", void 0);
DiaryAliasControlComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-diary-alias-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./diary-alias-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-alias-control/diary-alias-control.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./diary-alias-control.component.css */ "./src/app/ui/components/diary-alias-control/diary-alias-control.component.css")).default]
    })
], DiaryAliasControlComponent);



/***/ }),

/***/ "./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.css":
/*!*****************************************************************************************!*\
  !*** ./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.css ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvZGlhcnktc2V0dGluZ3MtZWRpdG9yL2RpYXJ5LXNldHRpbmdzLWVkaXRvci5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.ts":
/*!****************************************************************************************!*\
  !*** ./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.ts ***!
  \****************************************************************************************/
/*! exports provided: DiarySettingsEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DiarySettingsEditorComponent", function() { return DiarySettingsEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");




class AliasControl {
    constructor(text, editable, id) {
        this.text = text;
        this.editable = editable;
        this.id = id;
    }
}
let DiarySettingsEditorComponent = class DiarySettingsEditorComponent {
    constructor(appService, settingsService) {
        this.appService = appService;
        this.settingsService = settingsService;
        this.aliasControls = [];
        this.subs = [];
    }
    ngOnInit() {
        this.settings = this.settingsService.settings;
        this.subs.push(this.settingsService.observe().subscribe(settings => {
            this.settings = settings;
            this.aliasControls = [];
            this.settings.diary.aliases.forEach((alias, index) => this.aliasControls.push(new AliasControl(alias, false, index)));
            this.checked = settings.diary.showEverybody;
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onShowEverybodyChange() {
        this.checked = !this.checked;
        this.save();
    }
    onAddAlias() {
        this.aliasControls.push(new AliasControl("", true, this.aliasControls.length));
    }
    onRemoveAlias(event) {
        this.aliasControls.splice(event.id, 1);
        this.save();
    }
    onSaveAlias(event) {
        this.aliasControls[event.id].text = event.text;
        this.save();
    }
    save() {
        let aliases = [];
        this.aliasControls.forEach(control => aliases.push(control.text));
        let changes = {
            diary: {
                showEverybody: this.checked,
                aliases: aliases,
            },
        };
        this.settingsService.update(changes);
    }
};
DiarySettingsEditorComponent.ctorParameters = () => [
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__["AppSettingsService"] }
];
DiarySettingsEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-diary-settings-editor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./diary-settings-editor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./diary-settings-editor.component.css */ "./src/app/ui/components/diary-settings-editor/diary-settings-editor.component.css")).default]
    })
], DiarySettingsEditorComponent);



/***/ }),

/***/ "./src/app/ui/components/download-button/download-button.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/components/download-button/download-button.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvZG93bmxvYWQtYnV0dG9uL2Rvd25sb2FkLWJ1dHRvbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/download-button/download-button.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/ui/components/download-button/download-button.component.ts ***!
  \****************************************************************************/
/*! exports provided: DownloadButtonComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DownloadButtonComponent", function() { return DownloadButtonComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");



let DownloadButtonComponent = class DownloadButtonComponent {
    constructor(appService) {
        this.appService = appService;
        this.download = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngAfterViewInit() {
        setTimeout(() => { this.enabled = typeof this.downloadLink.nativeElement.download !== "undefined"; }, 0);
    }
    onClick(event) {
        this.download.emit({
            download: (filename, dataUrl) => {
                this.dataUrl = dataUrl;
                this.filename = filename;
                setTimeout(() => this.downloadLink.nativeElement.click(), 0);
                this.appService.setAlert("info", "The image has been created.  Check the downloads folder in your browser.");
            }
        });
        event.preventDefault();
    }
};
DownloadButtonComponent.ctorParameters = () => [
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], DownloadButtonComponent.prototype, "download", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])("downloadLink", { static: false })
], DownloadButtonComponent.prototype, "downloadLink", void 0);
DownloadButtonComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-download-button',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./download-button.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/download-button/download-button.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./download-button.component.css */ "./src/app/ui/components/download-button/download-button.component.css")).default]
    })
], DownloadButtonComponent);



/***/ }),

/***/ "./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.css":
/*!*******************************************************************************************!*\
  !*** ./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.css ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvZ3JpZC1wcm9wZXJ0aWVzLWVkaXRvci9ncmlkLXByb3BlcnRpZXMtZWRpdG9yLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.ts ***!
  \******************************************************************************************/
/*! exports provided: GridPropertiesEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridPropertiesEditorComponent", function() { return GridPropertiesEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_model_interfaces__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/model/interfaces */ "./src/app/model/interfaces.ts");





let GridPropertiesEditorComponent = class GridPropertiesEditorComponent {
    constructor(appService, formBuilder) {
        this.appService = appService;
        this.formBuilder = formBuilder;
        this.minCellsAcross = 1;
        this.minCellsDown = 1;
        this.maxCellsAcross = 25;
        this.maxCellsDown = 25;
        this.subs = [];
        this.close = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            gridStyle: [
                this.data ? this.data.style : src_app_model_interfaces__WEBPACK_IMPORTED_MODULE_4__["GridStyles"].standard,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required]
            ],
            cellsAcross: [
                this.data ? this.data.size.across : 15,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].max(this.maxCellsAcross), _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].min(this.minCellsAcross)]
            ],
            cellsDown: [
                this.data ? this.data.size.down : 15,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].max(this.maxCellsDown), _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].min(this.minCellsDown)]
            ],
            symmetrical: [
                this.data ? this.data.symmetrical : true,
                [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            ]
        });
        this.subs.push(this.appService.getObservable().subscribe(s => this.appStatus = s));
        this.appService.clearAlerts();
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
    }
    onContinue() {
        this.close.emit({
            style: this.form.value.gridStyle,
            size: {
                across: this.form.value.cellsAcross,
                down: this.form.value.cellsDown,
            },
            symmetrical: this.form.value.symmetrical,
        });
    }
    onCancel() {
        this.close.emit(null);
    }
};
GridPropertiesEditorComponent.ctorParameters = () => [
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], GridPropertiesEditorComponent.prototype, "data", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], GridPropertiesEditorComponent.prototype, "close", void 0);
GridPropertiesEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-grid-properties-editor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-properties-editor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./grid-properties-editor.component.css */ "./src/app/ui/components/grid-properties-editor/grid-properties-editor.component.css")).default]
    })
], GridPropertiesEditorComponent);



/***/ }),

/***/ "./src/app/ui/components/grid/grid.component.css":
/*!*******************************************************!*\
  !*** ./src/app/ui/components/grid/grid.component.css ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".canvasContainer {\r\n    border: 0;\r\n    padding: 0;\r\n    position: relative;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n.gridCanvas {\r\n    border: 0;\r\n    padding: 0;\r\n}\r\ninput {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvY29tcG9uZW50cy9ncmlkL2dyaWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPO0FBQ1g7QUFDQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztBQUNYIiwiZmlsZSI6InNyYy9hcHAvdWkvY29tcG9uZW50cy9ncmlkL2dyaWQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jYW52YXNDb250YWluZXIge1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbn1cclxuLmdyaWRDYW52YXMge1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxufVxyXG5pbnB1dCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG59Il19 */");

/***/ }),

/***/ "./src/app/ui/components/grid/grid.component.ts":
/*!******************************************************!*\
  !*** ./src/app/ui/components/grid/grid.component.ts ***!
  \******************************************************/
/*! exports provided: GridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridComponent", function() { return GridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common */ "./src/app/ui/common.ts");
/* harmony import */ var _services_grid_painter_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/grid-painter.service */ "./src/app/ui/services/grid-painter.service.ts");





const editBorderWidth = 2;
const gridInputDefaults = {
    text: "",
    style: {
        display: "none",
        top: "0px",
        left: "0px",
        height: "50px",
        width: "50px",
        border: `${editBorderWidth}px gold solid`,
    }
};
let GridComponent = class GridComponent {
    constructor(activePuzzle, gridPainter) {
        this.activePuzzle = activePuzzle;
        this.gridPainter = gridPainter;
        this.cellClick = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.barClick = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.gridText = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.gridNavigation = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.canvasHeight = 0;
        this.canvasWidth = 0;
        this.source = "";
        this.model = gridInputDefaults;
        this.viewInitiated = false;
        this.subs = [];
    }
    ngOnInit() {
        this.gridParams = new _common__WEBPACK_IMPORTED_MODULE_3__["GridParameters"]();
        this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
            if (puzzle) {
                this.puzzle = puzzle;
                this.canvasWidth = this.gridParams.cellSize * this.puzzle.grid.properties.size.across + this.gridParams.gridPadding * 2;
                this.canvasHeight = this.gridParams.cellSize * this.puzzle.grid.properties.size.down + this.gridParams.gridPadding * 2;
                this.model.style.display = "none";
                let cell = this.puzzle.grid.cells.find(c => c.edit);
                if (cell) {
                    this.openEditor(cell);
                }
                // don't draw the grid until the native canvas has had a chance to resize
                setTimeout(() => this.drawGrid(), 0);
            }
        }, (err) => {
            this.err = err;
        }));
    }
    ngOnDestroy() {
        this.subs.forEach((s) => s.unsubscribe());
    }
    ngAfterViewInit() {
        this.viewInitiated = true;
        this.drawGrid();
    }
    onCanvasClick(params) {
        const cellSize = this.gridParams.cellSize;
        const tolerance = cellSize / 5;
        const bounds = this.canvas.nativeElement.getBoundingClientRect();
        let xOffsetInGrid = params.clientX - bounds.left - this.gridParams.gridPadding;
        let yOffsetInGrid = params.clientY - bounds.top - this.gridParams.gridPadding;
        // i,j represent the cell number in the model eg 3 cells across and two cells down
        const i = Math.floor(xOffsetInGrid / cellSize);
        const j = Math.floor(yOffsetInGrid / cellSize);
        // x,y represent the offset (in pixels) of the mouse click from the top-left corner of cell i,j
        let x = xOffsetInGrid % cellSize;
        let y = yOffsetInGrid % cellSize;
        let cell = this.puzzle.grid.cellAt(i, j);
        if (cell) {
            // for all grids emit an event to say a cell has been clicked
            this.cellClick.emit(cell);
            // For barred grids emit the barClick event only if the click is on a bar area, these are areas
            // near to an edge of the cell but not in a corner. Edges that form the outside of the grid
            // cannot have bars and in these cases the barClick is not fired.
            if (x < tolerance && y < tolerance) {
                // in a corner, do nothing
            }
            else if (x < tolerance && cellSize - y < tolerance) {
                // in a corner, do nothing
            }
            else if (cellSize - x < tolerance && y < tolerance) {
                // in a corner, do nothing
            }
            else if (cellSize - x < tolerance && cellSize - y < tolerance) {
                // in a corner, do nothing
            }
            else if (i < this.puzzle.grid.properties.size.across - 1 && cellSize - x <= tolerance) {
                // click is near right edge
                this.barClick.emit({ cell, bar: "rightBar" });
            }
            else if (j < this.puzzle.grid.properties.size.down - 1 && cellSize - y <= tolerance) {
                // click is near bottom edge
                this.barClick.emit({ cell, bar: "bottomBar" });
            }
            else if (i > 0 && x < tolerance) {
                // click is near left edge of this cell, so right edge of previous cell
                this.barClick.emit({ cell: this.puzzle.grid.cellAt(i - 1, j), bar: "rightBar" });
            }
            else if (j > 0 && y < tolerance) {
                // click is near top edge of this cell, so bottom edge of previous cell
                this.barClick.emit({ cell: this.puzzle.grid.cellAt(i, j - 1), bar: "bottomBar" });
            }
        }
    }
    onInput(event) {
        if (RegExp("^[A-Z ]$", "i").test(event.key)) {
            let key = event.key.trim().toUpperCase();
            this.gridText.emit({ text: event.key.toUpperCase(), writingDirection: "forward" });
        }
        else if (event.key === "Backspace") {
            this.gridText.emit({ text: "", writingDirection: "backward" });
        }
        else if (event.key === "Delete") {
            this.gridText.emit({ text: "", writingDirection: "static" });
        }
        else if (event.key === "ArrowRight") {
            this.gridNavigation.emit({ navigation: "right" });
        }
        else if (event.key === "ArrowLeft") {
            this.gridNavigation.emit({ navigation: "left" });
        }
        else if (event.key === "ArrowUp") {
            this.gridNavigation.emit({ navigation: "up" });
        }
        else if (event.key === "ArrowDown") {
            this.gridNavigation.emit({ navigation: "down" });
        }
        else if (event.key === "Enter" || event.key === "Escape" || event.key === "Tab") {
            this.gridNavigation.emit({ navigation: null });
        }
        event.preventDefault();
    }
    getDataUrl() {
        const canvas = this.canvas.nativeElement;
        const context = canvas.getContext('2d');
        this.gridPainter.drawGrid(context, this.puzzle.grid, this.options);
        return canvas.toDataURL();
    }
    drawGrid() {
        if (this.viewInitiated && this.canvas) {
            const canvasEl = this.canvas.nativeElement;
            const context = canvasEl.getContext('2d');
            this.gridPainter.drawGrid(context, this.puzzle.grid, this.options);
        }
    }
    openEditor(cell) {
        const canvasEl = this.canvas.nativeElement;
        const context = canvasEl.getContext('2d');
        let cellInfo = this.gridPainter.getCellInfo(context, this.puzzle.grid, cell.id);
        let top = cellInfo.top - editBorderWidth;
        let left = cellInfo.left - editBorderWidth;
        let height = cellInfo.height + 2 * editBorderWidth;
        let width = cellInfo.width + 2 * editBorderWidth;
        if (cellInfo) {
            this.model.text = cell.content;
            this.model.style.top = top.toString() + cellInfo.unit;
            this.model.style.left = left.toString() + cellInfo.unit;
            this.model.style.height = height.toString() + cellInfo.unit;
            this.model.style.width = width.toString() + cellInfo.unit;
            this.model.style.display = "block";
            setTimeout(() => {
                this.editor.nativeElement.focus();
            }, 0);
        }
        else {
            this.model.style.display = "none";
        }
    }
};
GridComponent.ctorParameters = () => [
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IActivePuzzle"] },
    { type: _services_grid_painter_service__WEBPACK_IMPORTED_MODULE_4__["GridPainterService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], GridComponent.prototype, "options", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], GridComponent.prototype, "cellClick", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], GridComponent.prototype, "barClick", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], GridComponent.prototype, "gridText", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], GridComponent.prototype, "gridNavigation", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('gridCanvas', { static: false })
], GridComponent.prototype, "canvas", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('editor', { static: false })
], GridComponent.prototype, "editor", void 0);
GridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/grid/grid.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./grid.component.css */ "./src/app/ui/components/grid/grid.component.css")).default]
    })
], GridComponent);



/***/ }),

/***/ "./src/app/ui/components/login-control/login-control.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/components/login-control/login-control.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvbG9naW4tY29udHJvbC9sb2dpbi1jb250cm9sLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/login-control/login-control.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/components/login-control/login-control.component.ts ***!
  \************************************************************************/
/*! exports provided: LoginControlComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginControlComponent", function() { return LoginControlComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/common */ "./src/app/services/common.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");







let LoginControlComponent = class LoginControlComponent {
    constructor(appService, authService, builder, settingsService) {
        this.appService = appService;
        this.authService = authService;
        this.builder = builder;
        this.settingsService = settingsService;
        this.subs = [];
        this.close = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
    }
    ngOnInit() {
        this.form = this.builder.group({
            'username': ["", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            'password': ["", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
        });
        this.subs.push(this.appService.getObservable().subscribe(s => this.appStatus = s));
        this.appService.clearAlerts();
        this.subs.push(this.settingsService.observe().subscribe(settings => {
            this.appSettings = settings;
            this.form.patchValue({ username: settings.username });
        }));
    }
    onLogin() {
        this.appService.setBusy();
        this.appService.clearAlerts();
        this.authService.authenticate(this.form.value.username, this.form.value.password)
            .then(() => {
            this.appService.clearBusy();
            this.close.emit("ok");
        })
            .catch((error) => {
            this.appService.clearBusy();
            if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure) {
                this.appService.setAlert("danger", "Username or password is incorrect");
            }
            else {
                this.appService.setAlert("danger", "Failed to connect to fifteensquared to verify the username and password");
            }
        });
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onCancel() {
        this.close.emit("cancel");
    }
    get continueButtonText() {
        if (this.options && this.options.continueButtonText) {
            return this.options.continueButtonText;
        }
        return "Continue";
    }
    get cancelButtonText() {
        if (this.options && this.options.cancelButtonText) {
            return this.options.cancelButtonText;
        }
        return "Cancel";
    }
};
LoginControlComponent.ctorParameters = () => [
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__["AppSettingsService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], LoginControlComponent.prototype, "options", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], LoginControlComponent.prototype, "close", void 0);
LoginControlComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-login-control',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./login-control.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/login-control/login-control.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./login-control.component.css */ "./src/app/ui/components/login-control/login-control.component.css")).default]
    })
], LoginControlComponent);



/***/ }),

/***/ "./src/app/ui/components/parse-error-hint/parse-error-hint.component.css":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/components/parse-error-hint/parse-error-hint.component.css ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvcGFyc2UtZXJyb3ItaGludC9wYXJzZS1lcnJvci1oaW50LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/components/parse-error-hint/parse-error-hint.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/ui/components/parse-error-hint/parse-error-hint.component.ts ***!
  \******************************************************************************/
/*! exports provided: ParseErrorHintComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseErrorHintComponent", function() { return ParseErrorHintComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ParseErrorHintComponent = class ParseErrorHintComponent {
    constructor() { }
    ngOnInit() {
        if (this.error) {
            this.code = this.error.code;
        }
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ParseErrorHintComponent.prototype, "error", void 0);
ParseErrorHintComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-parse-error-hint',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./parse-error-hint.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-error-hint/parse-error-hint.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./parse-error-hint.component.css */ "./src/app/ui/components/parse-error-hint/parse-error-hint.component.css")).default]
    })
], ParseErrorHintComponent);



/***/ }),

/***/ "./src/app/ui/components/parse-result/parse-result.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/ui/components/parse-result/parse-result.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvcGFyc2UtcmVzdWx0L3BhcnNlLXJlc3VsdC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/parse-result/parse-result.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/ui/components/parse-result/parse-result.component.ts ***!
  \**********************************************************************/
/*! exports provided: ParseResultComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParseResultComponent", function() { return ParseResultComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ParseResultComponent = class ParseResultComponent {
    constructor() {
        this.result = null;
    }
    ngOnInit() {
        // TO DO: convert the errors to hints here...
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ParseResultComponent.prototype, "result", void 0);
ParseResultComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-parse-result',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./parse-result.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/parse-result/parse-result.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./parse-result.component.css */ "./src/app/ui/components/parse-result/parse-result.component.css")).default]
    })
], ParseResultComponent);



/***/ }),

/***/ "./src/app/ui/components/text-style/text-style.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/ui/components/text-style/text-style.component.css ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("select {\r\n    width: 100px\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvY29tcG9uZW50cy90ZXh0LXN0eWxlL3RleHQtc3R5bGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC91aS9jb21wb25lbnRzL3RleHQtc3R5bGUvdGV4dC1zdHlsZS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsic2VsZWN0IHtcclxuICAgIHdpZHRoOiAxMDBweFxyXG59Il19 */");

/***/ }),

/***/ "./src/app/ui/components/text-style/text-style.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/ui/components/text-style/text-style.component.ts ***!
  \******************************************************************/
/*! exports provided: TextStyleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextStyleComponent", function() { return TextStyleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_modifiers_update_publish_option_text_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/modifiers/update-publish-option-text-style */ "./src/app/services/modifiers/update-publish-option-text-style.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");







let TextStyleComponent = class TextStyleComponent {
    constructor(appService, activePuzzle, formBuilder) {
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.formBuilder = formBuilder;
        this.subs = [];
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            color: null,
            bold: false,
            italic: false,
            underline: false
        });
        this.subs.push(this.form.valueChanges.subscribe((val) => {
            if (this.puzzle && this.appStatus) {
                this.activePuzzle.update(new src_app_services_modifiers_update_publish_option_text_style__WEBPACK_IMPORTED_MODULE_5__["UpdatePublsihOptionTextStyle"](this.textStyleName, val.color, val.bold, val.italic, val.underline));
            }
        }));
        let latest = Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["combineLatest"])(this.appService.getObservable(), this.activePuzzle.observe());
        this.subs.push(latest.subscribe((result) => {
            this.appStatus = result[0];
            this.puzzle = result[1];
            if (this.puzzle && this.appStatus) {
                if (this.appStatus.busy) {
                    this.form.disable({ emitEvent: false });
                }
                else {
                    this.form.enable({ emitEvent: false });
                }
                let ts = this.puzzle.publishOptions[this.textStyleName];
                this.form.controls["bold"].patchValue(ts.bold, { emitEvent: false });
                this.form.controls["italic"].patchValue(ts.italic, { emitEvent: false });
                this.form.controls["underline"].patchValue(ts.underline, { emitEvent: false });
                this.form.controls["color"].patchValue(ts.color, { emitEvent: false });
            }
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
};
TextStyleComponent.ctorParameters = () => [
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_6__["IActivePuzzle"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], TextStyleComponent.prototype, "textStyleName", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], TextStyleComponent.prototype, "caption", void 0);
TextStyleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-text-style',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./text-style.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/text-style/text-style.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./text-style.component.css */ "./src/app/ui/components/text-style/text-style.component.css")).default]
    })
], TextStyleComponent);



/***/ }),

/***/ "./src/app/ui/components/tip/tip-instance.ts":
/*!***************************************************!*\
  !*** ./src/app/ui/components/tip/tip-instance.ts ***!
  \***************************************************/
/*! exports provided: TipStatus, TipInstance, TipInstanceFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipStatus", function() { return TipStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipInstance", function() { return TipInstance; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipInstanceFactory", function() { return TipInstanceFactory; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");




class TipStatus {
    constructor(enabled, active, activationCountExceeded) {
        this.enabled = enabled;
        this.active = active;
        this.activationCountExceeded = activationCountExceeded;
    }
    get show() {
        return this.enabled && this.active && !this.activationCountExceeded;
    }
}
class TipInstance {
    constructor(settingsService, key, maxActivations) {
        this.key = key;
        this.maxActivations = maxActivations;
        this.activationCounter = 0;
        this.subs = [];
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new TipStatus(false, true, false));
        this.subs.push(settingsService.observe().subscribe((settings) => {
            const current = this.bs.value;
            let tipSetting = settings.tips[this.key];
            this.bs.next(new TipStatus(tipSetting ? tipSetting.enabled : true, current.active, this.activationCounter > this.maxActivations));
        }));
    }
    observe() {
        return this.bs.asObservable();
    }
    set activated(active) {
        const current = this.bs.value;
        if (!current.active && active) {
            this.activationCounter++;
        }
        this.bs.next(new TipStatus(current.enabled, active, this.activationCounter > this.maxActivations));
    }
    ;
    destroy() {
        this.subs.forEach(s => s.unsubscribe());
    }
}
let TipInstanceFactory = class TipInstanceFactory {
    constructor(appSettingsService) {
        this.appSettingsService = appSettingsService;
    }
    newInstance(key, maxAxtivations) {
        return new TipInstance(this.appSettingsService, key, maxAxtivations);
    }
};
TipInstanceFactory.ctorParameters = () => [
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__["AppSettingsService"] }
];
TipInstanceFactory = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__["Injectable"])()
], TipInstanceFactory);



/***/ }),

/***/ "./src/app/ui/components/tip/tip.component.css":
/*!*****************************************************!*\
  !*** ./src/app/ui/components/tip/tip.component.css ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvdGlwL3RpcC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/tip/tip.component.ts":
/*!****************************************************!*\
  !*** ./src/app/ui/components/tip/tip.component.ts ***!
  \****************************************************/
/*! exports provided: TipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TipComponent", function() { return TipComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _tip_instance__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tip-instance */ "./src/app/ui/components/tip/tip-instance.ts");
/*
*   Tips can be shown using the tip control:
*
*       <app-tip> Your text goes here... </app-tip>
*
*   Tips can be disabled by the user by clicking the don't show again checkbox. To control
*   which tips are disabled provide a key for the tip.  If no key is specified the key will be "general".
*   Any tip with that key will no longer be shown (see AppSettingsService for more information on settings keys).
*
*       <app-tip key="validationWarnings"> Your text goes here... </app-tip>
*
*   If the user closes the tip with the close buton (X in the top left corner) the tip will not be visible.  This will not prevent
*   the tip reappearing again if it is reactivated (eg if the tip is shown whenever a validation failure occurs).  To prevent this becoming
*   annoying you can set a limit to the number of times a specific instance of a tip will be shown:
*
*      <app-tip maxActivations="1"> Your text goes here... </app-tip>
*
*   If you need to control the behaviour of a particular tip programatically (eg stop only this instance of the tip showing)
*   capture the tip instance in your component using the instance event.
*
*       <app-tip (instance)="rtmInit($event)"> <em>read the manual</em> </app-tip>
*
*   And in your code:
*
*       private rtmTip: TipInstance;
*
*       public rtmInit(instance: TipInstance) {
*           this.rtmTip = instance;
*       }
*
*       this.rtmTip.activated = false;
*
*   The state of the tip (eg if it is currently enabled or currently visible) can be observed:
*
*       private rtmStatus: TipStatus;
*
*       this.rtmTip.observe().subscribe(ts => this.rtmStatus = ts);
*
*/




let TipComponent = class TipComponent {
    constructor(appSettingsService, tipInstanceFactory) {
        this.appSettingsService = appSettingsService;
        this.tipInstanceFactory = tipInstanceFactory;
        this.key = "general";
        this.maxShowings = NaN;
        this.suppressable = true;
        this.instance = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["EventEmitter"]();
        this.subs = [];
    }
    ngOnInit() {
        this.tipInstance = this.tipInstanceFactory.newInstance(this.key, this.maxShowings);
        this.subs.push(this.tipInstance.observe().subscribe((status) => {
            this.status = status;
        }));
        this.instance.emit(this.tipInstance);
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
        if (this.tipInstance) {
            this.tipInstance.destroy();
        }
    }
    onDontShowAgain(event) {
        let tips = {};
        tips[this.key] = { enabled: false };
        this.appSettingsService.update({ tips });
    }
    onClose() {
        this.tipInstance.activated = false;
    }
};
TipComponent.ctorParameters = () => [
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_2__["AppSettingsService"] },
    { type: _tip_instance__WEBPACK_IMPORTED_MODULE_3__["TipInstanceFactory"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], TipComponent.prototype, "key", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], TipComponent.prototype, "maxShowings", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], TipComponent.prototype, "suppressable", void 0);
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Output"])()
], TipComponent.prototype, "instance", void 0);
TipComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-tip',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./tip.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/tip/tip.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./tip.component.css */ "./src/app/ui/components/tip/tip.component.css")).default]
    })
], TipComponent);



/***/ }),

/***/ "./src/app/ui/components/validation-message/validation-message.component.css":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/components/validation-message/validation-message.component.css ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL2NvbXBvbmVudHMvdmFsaWRhdGlvbi1tZXNzYWdlL3ZhbGlkYXRpb24tbWVzc2FnZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/components/validation-message/validation-message.component.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/ui/components/validation-message/validation-message.component.ts ***!
  \**********************************************************************************/
/*! exports provided: ValidationMessageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationMessageComponent", function() { return ValidationMessageComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ValidationMessageComponent = class ValidationMessageComponent {
    constructor() { }
    ngOnInit() {
    }
};
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])()
], ValidationMessageComponent.prototype, "control", void 0);
ValidationMessageComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-validation-message',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./validation-message.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/components/validation-message/validation-message.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./validation-message.component.css */ "./src/app/ui/components/validation-message/validation-message.component.css")).default]
    })
], ValidationMessageComponent);



/***/ }),

/***/ "./src/app/ui/navigation/nav.service.ts":
/*!**********************************************!*\
  !*** ./src/app/ui/navigation/nav.service.ts ***!
  \**********************************************/
/*! exports provided: NAV_TRACKS, NAV_PROCESSOR, NavService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NAV_TRACKS", function() { return NAV_TRACKS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NAV_PROCESSOR", function() { return NAV_PROCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavService", function() { return NavService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");



class _NavContext {
    constructor() {
        this.track = null;
        this.currentNode = null;
    }
}
const NAV_TRACKS = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["InjectionToken"]("Navigation Tracks");
const NAV_PROCESSOR = new _angular_core__WEBPACK_IMPORTED_MODULE_1__["InjectionToken"]("Navigation Processes");
let NavService = class NavService {
    constructor(router, tracks, processor) {
        this.router = router;
        this.tracks = tracks;
        this.processor = processor;
        this.callStack = [];
    }
    get debugNavContext() {
        return this.callStack.length > 0 ? this.callStack[this.callStack.length - 1] : null;
    }
    get appData() {
        return this._appData;
    }
    /*
    Used as an entry check on each page to deal with the situation where the
    user has jumped into the middle of a track via he browser history or something
    */
    validateRoute() {
        // TO DO: check that the route matched the navigation state
    }
    /*
    Start a new track, if we have a current track then abandon it
    */
    beginTrack(track, data, start) {
        this._appData = data;
        while (this.callStack.length > 0) {
            this.callStack.pop();
        }
        this.callTrack(track, start);
    }
    /*
    Move to the next node on the track.
    */
    navigate(action) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let result = Promise.resolve();
            //console.log("NAVIGATE " + action);
            if (this.callStack.length > 0) {
                let context = this.callStack[this.callStack.length - 1];
                if (context.currentNode) {
                    if (Object.keys(context.currentNode.actions).length === 0) {
                        // there are no actions specified, finish here
                        this.goHome();
                    }
                    else {
                        let nextNodeName = context.currentNode.actions[action];
                        let nextNode = context.track.nodes.find(n => n.name === nextNodeName);
                        if (nextNode) {
                            result = this.invokeNode(nextNode, context);
                        }
                        else {
                            result = Promise.reject(`Cannot find a node ${nextNodeName} for the action ${action}`);
                        }
                    }
                }
                else {
                    // TO DO: what situation does this represent?
                    // is it always an error?
                }
            }
            else {
                // we have no more graphs to work with, bail out
                this.goHome();
            }
            return result;
        });
    }
    /*
    Go directly to the page named, abandon any current track.
    */
    gotoRoute(route) {
        while (this.callStack.length > 0) {
            this.callStack.pop();
        }
        this.router.navigate(route);
    }
    /*
    Go to the home page, abandon any current track.
    */
    goHome() {
        this.gotoRoute(["/home"]);
    }
    invokeNode(node, context) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let result = Promise.resolve();
            let action;
            //console.log("INVOKING " + node.name);
            switch (node.type) {
                case "route":
                    context.currentNode = node;
                    this.router.navigate([node.route]);
                    break;
                case "call":
                    context.currentNode = node;
                    this.callTrack(node.call.track, node.call.start);
                    break;
                case "return":
                    action = node.return;
                    this.callStack.pop();
                    result = this.navigate(action);
                    break;
                case "process":
                    action = yield this.processor.exec(node.process, this._appData);
                    context.currentNode = node;
                    result = this.navigate(action);
                    break;
                case "exit":
                    this.goHome();
                    break;
            }
            return result;
        });
    }
    callTrack(trackName, start) {
        let track = this.tracks.find(t => t.name === trackName);
        if (track) {
            const nodeName = start || track.start;
            let startNode = track.nodes.find(n => n.name === nodeName);
            if (startNode) {
                let context = new _NavContext();
                context.track = track;
                context.currentNode = startNode;
                this.callStack.push(context);
                this.invokeNode(startNode, context);
            }
            else {
                throw "Navigation Error - could not find start node";
            }
        }
        else {
            throw "Navigation Error - could not find track with name " + trackName;
        }
    }
};
NavService.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [NAV_TRACKS,] }] },
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"], args: [NAV_PROCESSOR,] }] }
];
NavService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    }),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(NAV_TRACKS)),
    tslib__WEBPACK_IMPORTED_MODULE_0__["__param"](2, Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Inject"])(NAV_PROCESSOR))
], NavService);



/***/ }),

/***/ "./src/app/ui/navigation/tracks/app-track-data.ts":
/*!********************************************************!*\
  !*** ./src/app/ui/navigation/tracks/app-track-data.ts ***!
  \********************************************************/
/*! exports provided: AppTrackData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppTrackData", function() { return AppTrackData; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class AppTrackData {
    constructor(
    //public editor?: EditorType,
    ) { }
}


/***/ }),

/***/ "./src/app/ui/navigation/tracks/create-track.ts":
/*!******************************************************!*\
  !*** ./src/app/ui/navigation/tracks/create-track.ts ***!
  \******************************************************/
/*! exports provided: createTrack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTrack", function() { return createTrack; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

/*
This track is for creating a new puzzle or amending an existing puzzle

Edit refers to the role of a crossword editor, both a comissioner and a modifier of puzzles
*/
const createTrack = {
    name: "create",
    start: "special",
    nodes: [
        {
            name: "open",
            type: "route",
            route: "/open-puzzle",
            actions: {
                "continue": "solve",
            }
        },
        {
            name: "special",
            type: "route",
            route: "/special",
            actions: {
                "pdf": "pdf-start",
                "grid": "grid-start",
                "clues": "special-text",
            }
        },
        {
            name: "pdf-start",
            type: "route",
            route: "/special-pdf",
            actions: {
                "continue": "pdf-extract",
            }
        },
        {
            name: "grid-start",
            type: "route",
            route: "/grid-start",
            actions: {
                "continue": "edit-grid-1",
            }
        },
        {
            name: "edit-grid-1",
            type: "route",
            route: "/grid-editor",
            actions: {
                "continue": "clues-start",
            }
        },
        {
            name: "clues-start",
            type: "route",
            route: "/clues-start",
            actions: {
                "auto": "make-clues",
                "text": "special-text",
            }
        },
        {
            name: "special-text",
            type: "route",
            route: "/special-text",
            actions: {
                "continue": "parser",
            }
        },
        {
            name: "pdf-extract",
            type: "process",
            process: "pdf-extract",
            actions: {
                "ok": "parser",
                "authenticate": "login",
                "error": "error",
            }
        },
        {
            name: "login",
            type: "route",
            route: "/special-login",
            actions: {
                "ok": "pdf-extract",
                "cancel": "abandon",
                "back": "special-pdf",
            }
        },
        {
            name: "parser",
            type: "process",
            process: "parse",
            actions: {
                "ok": "linker",
                "error": "error",
            }
        },
        {
            name: "make-clues",
            type: "process",
            process: "make-clues",
            actions: {
                "ok": "linker",
            }
        },
        {
            name: "linker",
            type: "process",
            process: "link",
            actions: {
                "ok": "validator",
                "error": "link-error",
            }
        },
        {
            name: "link-error",
            type: "route",
            route: "/link-error",
            actions: {
                "grid": "edit-grid-2",
                "clues": "edit-clues",
            }
        },
        {
            name: "validator",
            type: "process",
            process: "validate",
            actions: {
                "ok": "solve",
                "error": "link-error",
            }
        },
        {
            name: "validation-error",
            type: "route",
            route: "/validate-puzzle",
            actions: {
                "grid": "edit-grid-2",
                "clues": "edit-clues",
            }
        },
        {
            name: "edit-grid",
            type: "route",
            route: "/grid-editor",
            actions: {
                "continue": "linker",
            }
        },
        {
            name: "edit-clues",
            type: "route",
            route: "/clues-editor",
            actions: {
                "continue": "linker",
            }
        },
        {
            name: "error",
            type: "route",
            route: "/nav-error",
            actions: {
                "continue": "abandon"
            }
        },
        {
            name: "solve",
            type: "call",
            call: {
                track: "solve"
            },
            actions: {}
        },
        {
            name: "abandon",
            type: "exit",
            actions: {}
        },
    ],
};


/***/ }),

/***/ "./src/app/ui/navigation/tracks/publish-grid-track.ts":
/*!************************************************************!*\
  !*** ./src/app/ui/navigation/tracks/publish-grid-track.ts ***!
  \************************************************************/
/*! exports provided: publishGridTrack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishGridTrack", function() { return publishGridTrack; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const publishGridTrack = {
    name: "publish-grid",
    start: "publish-grid",
    nodes: [
        {
            name: "publish-grid",
            type: "route",
            route: "/publish-grid",
            actions: {
                "continue": "publish",
                "authenticate": "publish-login",
            }
        },
        {
            name: "publish-login",
            type: "route",
            route: "/publish-login",
            actions: {
                "continue": "publish",
                "back": "publish-grid",
            }
        },
        {
            name: "publish",
            type: "route",
            route: "/publish",
            actions: {
                "authenticate": "publish-login",
                "continue": "publish-complete",
                "back": "publish-grid",
            }
        },
        {
            name: "publish-complete",
            type: "route",
            route: "/publish-complete",
            actions: {}
        },
    ],
};


/***/ }),

/***/ "./src/app/ui/navigation/tracks/publish-post-track.ts":
/*!************************************************************!*\
  !*** ./src/app/ui/navigation/tracks/publish-post-track.ts ***!
  \************************************************************/
/*! exports provided: publishPostTrack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "publishPostTrack", function() { return publishPostTrack; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const publishPostTrack = {
    name: "publish-post",
    start: "publish-options",
    nodes: [
        {
            name: "exit",
            type: "return",
            return: "edit",
            actions: {}
        },
        {
            name: "publish-options",
            type: "route",
            route: "/publish-options",
            actions: {
                "continue": "publish-preamble",
                "grid": "publish-grid",
                "back": "exit",
            }
        },
        {
            name: "publish-grid",
            type: "route",
            route: "/publish-grid",
            actions: {
                "continue": "publish-preamble",
                "back": "publish-options",
            }
        },
        {
            name: "publish-preamble",
            type: "route",
            route: "/publish-preamble",
            actions: {
                "continue": "publish",
                "authenticate": "publish-login",
                "back": "publish-options",
            }
        },
        {
            name: "publish-login",
            type: "route",
            route: "/publish-login",
            actions: {
                "continue": "publish",
                "back": "publish-preamble",
            }
        },
        {
            name: "publish",
            type: "route",
            route: "/publish",
            actions: {
                "authenticate": "publish-login",
                "continue": "publish-complete",
                "back": "publish-preamble",
            }
        },
        {
            name: "publish-complete",
            type: "route",
            route: "/publish-complete",
            actions: {}
        },
    ],
};


/***/ }),

/***/ "./src/app/ui/navigation/tracks/solve-track.ts":
/*!*****************************************************!*\
  !*** ./src/app/ui/navigation/tracks/solve-track.ts ***!
  \*****************************************************/
/*! exports provided: solveTrack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "solveTrack", function() { return solveTrack; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

const solveTrack = {
    name: "solve",
    start: "editor",
    nodes: [
        {
            name: "editor",
            type: "process",
            process: "editor-select",
            actions: {
                "solve": "solver",
                "blog": "blogger",
            }
        },
        {
            name: "solver",
            type: "route",
            route: "/solver",
            actions: {
                "continue": "publish",
                "blog": "blogger",
                "back": "exit",
            }
        },
        {
            name: "blogger",
            type: "route",
            route: "/blogger",
            actions: {
                "continue": "publish",
                "solve": "solver",
                "edit": "edit-clues",
                "back": "exit",
            }
        },
        {
            name: "publish",
            type: "call",
            call: {
                track: "publish-post",
            },
            actions: {
                "edit": "editor",
            }
        },
        {
            name: "edit-clues",
            type: "call",
            call: {
                track: "create",
                start: "edit-clues"
            },
            actions: {}
        },
        {
            name: "exit",
            type: "exit",
            actions: {}
        }
    ],
};


/***/ }),

/***/ "./src/app/ui/navigation/ui-process.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/ui/navigation/ui-process.service.ts ***!
  \*****************************************************/
/*! exports provided: UIProcessService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIProcessService", function() { return UIProcessService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_link_clues_to_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/link-clues-to-grid */ "./src/app/services/modifiers/link-clues-to-grid.ts");
/* harmony import */ var src_app_services_modifiers_parse_text__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/modifiers/parse-text */ "./src/app/services/modifiers/parse-text.ts");






let UIProcessService = class UIProcessService {
    constructor(appService, activePuzzle, puzzleManager, textParser) {
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.puzzleManager = puzzleManager;
        this.textParser = textParser;
    }
    exec(processName, appData) {
        return tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"](this, void 0, void 0, function* () {
            let action;
            switch (processName) {
                case "make-clues":
                    action = Promise.resolve("ok");
                    break;
                case "pdf-extract":
                    action = this.puzzleManager.loadPuzzleFromPdf(this.appService.openPuzzleParameters.sourceDataB64);
                    break;
                case "parse":
                    action = this.parse();
                    break;
                case "link":
                    try {
                        this.activePuzzle.update(new src_app_services_modifiers_link_clues_to_grid__WEBPACK_IMPORTED_MODULE_4__["LinkCluesToGrid"]());
                        action = Promise.resolve("ok");
                    }
                    catch (error) {
                        action = Promise.resolve("error");
                    }
                    break;
                case "validate":
                    action = this.validate();
                    break;
                case "editor-select":
                    action = this.activePuzzle.puzzle.linked ?
                        Promise.resolve("solve") :
                        Promise.resolve("blog");
                    break;
                default:
                    action = Promise.reject("Could not find navivgation process with name " + processName);
            }
            return action;
        });
    }
    parse() {
        let action = "error";
        try {
            this.activePuzzle.update(this.textParser);
            action = "ok";
        }
        catch (error) {
            action = "error";
            this.appService.setAlert("danger", "Parsing Error :" + error);
        }
        return Promise.resolve(action);
    }
    validate() {
        return Promise.resolve("ok");
    }
};
UIProcessService.ctorParameters = () => [
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IActivePuzzle"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IPuzzleManager"] },
    { type: src_app_services_modifiers_parse_text__WEBPACK_IMPORTED_MODULE_5__["ParseText"] }
];
UIProcessService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], UIProcessService);



/***/ }),

/***/ "./src/app/ui/pipes/html-as-is.pipe.ts":
/*!*********************************************!*\
  !*** ./src/app/ui/pipes/html-as-is.pipe.ts ***!
  \*********************************************/
/*! exports provided: HtmlAsIsPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HtmlAsIsPipe", function() { return HtmlAsIsPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");



let HtmlAsIsPipe = class HtmlAsIsPipe {
    constructor(sanitizer) {
        this.sanitizer = sanitizer;
    }
    transform(content) {
        return this.sanitizer.bypassSecurityTrustHtml(content);
    }
};
HtmlAsIsPipe.ctorParameters = () => [
    { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"] }
];
HtmlAsIsPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({ name: 'htmlAsIs', pure: false })
], HtmlAsIsPipe);



/***/ }),

/***/ "./src/app/ui/pipes/provider.pipe.ts":
/*!*******************************************!*\
  !*** ./src/app/ui/pipes/provider.pipe.ts ***!
  \*******************************************/
/*! exports provided: ProviderPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProviderPipe", function() { return ProviderPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ProviderPipe = class ProviderPipe {
    constructor() {
    }
    transform(content) {
        let result = content;
        switch (content) {
            case "ft":
            case "ftb":
                result = "Financial Times";
                break;
            case "cryptic":
                result = "Guardian";
                break;
            case "prize":
                result = "Guardian Prize";
                break;
            case "quiptic":
                result = "Quiptic";
                break;
            case "independent":
                result = "Independent";
                break;
            case "ios":
                result = "Independent on Sunday";
                break;
            case "everyman":
                result = "Everyman";
                break;
            case "azed":
                result = "Azed";
                break;
        }
        ;
        return result;
    }
};
ProviderPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({ name: 'provider', pure: false })
], ProviderPipe);



/***/ }),

/***/ "./src/app/ui/pipes/wordpress-id.pipe.ts":
/*!***********************************************!*\
  !*** ./src/app/ui/pipes/wordpress-id.pipe.ts ***!
  \***********************************************/
/*! exports provided: WordpressIdPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WordpressIdPipe", function() { return WordpressIdPipe; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let WordpressIdPipe = class WordpressIdPipe {
    transform(content) {
        return content ? "Published" : "";
    }
};
WordpressIdPipe = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Pipe"])({
        name: 'wordpressId'
    })
], WordpressIdPipe);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/archive/archive.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/archive/archive.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2FyY2hpdmUvYXJjaGl2ZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/archive/archive.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/archive/archive.component.ts ***!
  \****************************************************************/
/*! exports provided: ArchiveComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ArchiveComponent", function() { return ArchiveComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_archive_source_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/archive-source.service */ "./src/app/services/archive-source.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../navigation/tracks/app-track-data */ "./src/app/ui/navigation/tracks/app-track-data.ts");








let ArchiveComponent = class ArchiveComponent {
    constructor(navService, appService, archiveService, activeRoute, formBuilder) {
        this.navService = navService;
        this.appService = appService;
        this.archiveService = archiveService;
        this.activeRoute = activeRoute;
        this.formBuilder = formBuilder;
        this.subs = [];
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            date: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
        });
        this.appService.clearAlerts();
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
        this.subs.push(this.archiveService.observe().subscribe(archive => {
            this.archive = archive;
        }));
        this.subs.push(this.activeRoute.params.subscribe((params) => {
            this.provider = params.provider;
            this.appService.setBusy();
            this.archiveService.getList(params.provider)
                .catch((error) => {
                this.appService.setAlert("danger", error);
            })
                .finally(() => this.appService.clearBusy());
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    get showDate() {
        return this.provider &&
            (this.provider === 'independent' || this.provider === 'ios');
    }
    openPuzzle(item) {
        this.appService.clear();
        this.appService.setOpenPuzzleParams({
            provider: item.provider,
            sourceUrl: item.url,
            serialNumber: item.serialNumber,
            date: item.date,
            setter: item.setter
        });
        this.appService.clearBusy();
        this.appService.clearAlerts();
        this.navService.beginTrack("create", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_7__["AppTrackData"](), "open");
    }
    get latest() {
        let result = null;
        if (this.archive && this.provider) {
            const index = this.archive.getIndex(this.provider);
            if (index && index.items.length > 0) {
                result = index.items[0];
            }
        }
        return result;
    }
    get archiveItems() {
        let items = [];
        if (this.archive && this.provider) {
            const index = this.archive.getIndex(this.provider);
            if (index && index.items.length > 1) {
                items = index.items.slice(1);
            }
        }
        return items;
    }
};
ArchiveComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"] },
    { type: src_app_services_archive_source_service__WEBPACK_IMPORTED_MODULE_5__["ArchiveService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] }
];
ArchiveComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-archive',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./archive.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/archive/archive.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./archive.component.css */ "./src/app/ui/puzzle-editing/archive/archive.component.css")).default]
    })
], ArchiveComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2NsdWVzLWVkaXRvci9jbHVlcy1lZGl0b3IuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.ts ***!
  \**************************************************************************/
/*! exports provided: CluesEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CluesEditorComponent", function() { return CluesEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");






let CluesEditorComponent = class CluesEditorComponent {
    constructor(navService, activePuzzle, modalService) {
        this.navService = navService;
        this.activePuzzle = activePuzzle;
        this.modalService = modalService;
        this.modalRef = null;
        this.puzzle = null;
        this.subs = [];
    }
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                if (puzzle) {
                    if (!puzzle.info.solveable) {
                        this.navService.goHome();
                    }
                    this.puzzle = puzzle;
                    //console.log("CLUES_EDITOR " + JSON.stringify(puzzle));
                }
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_4__["Clear"]());
        this.navService.navigate("continue");
    }
    onClueClick(clue) {
        //this.openEditor(clue, null);
    }
};
CluesEditorComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IActivePuzzle"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"] }
];
CluesEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clues-editor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clues-editor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clues-editor.component.css */ "./src/app/ui/puzzle-editing/clues-editor/clues-editor.component.css")).default]
    })
], CluesEditorComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/clues-start/clues-start.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/clues-start/clues-start.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2NsdWVzLXN0YXJ0L2NsdWVzLXN0YXJ0LmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/clues-start/clues-start.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/clues-start/clues-start.component.ts ***!
  \************************************************************************/
/*! exports provided: CluesStartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CluesStartComponent", function() { return CluesStartComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let CluesStartComponent = class CluesStartComponent {
    constructor() { }
    ngOnInit() {
    }
};
CluesStartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-clues-start',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./clues-start.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/clues-start/clues-start.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./clues-start.component.css */ "./src/app/ui/puzzle-editing/clues-start/clues-start.component.css")).default]
    })
], CluesStartComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2NyZWF0ZS1wdXp6bGUvY3JlYXRlLXB1enpsZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.ts ***!
  \****************************************************************************/
/*! exports provided: CreatePuzzleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreatePuzzleComponent", function() { return CreatePuzzleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/modifiers/update-info */ "./src/app/services/modifiers/update-info.ts");






let CreatePuzzleComponent = class CreatePuzzleComponent {
    constructor(navService, puzzleManager, formBuilder) {
        this.navService = navService;
        this.puzzleManager = puzzleManager;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            title: ["", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["Validators"].required]],
        });
    }
    onContinue() {
        this.puzzleManager.newPuzzle(new src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_5__["UpdateInfo"]({ title: this.form.value.title }));
        this.navService.navigate("continue");
    }
    onCancel() {
        this.navService.goHome();
    }
};
CreatePuzzleComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_2__["NavService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IPuzzleManager"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormBuilder"] }
];
CreatePuzzleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-create-puzzle',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./create-puzzle.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./create-puzzle.component.css */ "./src/app/ui/puzzle-editing/create-puzzle/create-puzzle.component.css")).default]
    })
], CreatePuzzleComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2dyaWQtZWRpdG9yL2dyaWQtZWRpdG9yLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.ts ***!
  \************************************************************************/
/*! exports provided: GridEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEditorComponent", function() { return GridEditorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var _components_grid_grid_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/grid/grid.component */ "./src/app/ui/components/grid/grid.component.ts");
/* harmony import */ var src_app_services_modifiers_renumber_grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/modifiers/renumber-grid */ "./src/app/services/modifiers/renumber-grid.ts");
/* harmony import */ var src_app_services_modifiers_updare_grid_properties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/modifiers/updare-grid-properties */ "./src/app/services/modifiers/updare-grid-properties.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/modifiers/update-info */ "./src/app/services/modifiers/update-info.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common */ "./src/app/ui/common.ts");
/* harmony import */ var _services_grid_editors_grid_editor_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/grid-editors/grid-editor.service */ "./src/app/ui/services/grid-editors/grid-editor.service.ts");
/* harmony import */ var src_app_services_modifiers_clear_shading__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/services/modifiers/clear-shading */ "./src/app/services/modifiers/clear-shading.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");















let GridEditorComponent = class GridEditorComponent {
    constructor(navService, appService, activePuzzle, formBuilder, gridEditorService) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.formBuilder = formBuilder;
        this.gridEditorService = gridEditorService;
        this.puzzle = null;
        this.symmetrical = true;
        this.options = { editor: _common__WEBPACK_IMPORTED_MODULE_10__["GridEditors"].cellEditor, showShading: false };
        this.gridEditors = _common__WEBPACK_IMPORTED_MODULE_10__["GridEditors"];
        this.subs = [];
        this.tool = "grid";
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            title: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_8__["Validators"].required],
        });
        // TO DO: record preferences for next time
        this.shadingColor = "#ffebcd";
        this.gridEditor = this.gridEditorService.getEditor(this.options.editor);
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                if (!puzzle.info.gridable) {
                    this.navService.goHome();
                }
                this.form.patchValue({ title: puzzle.info.title });
                this.symmetrical = puzzle.grid.properties.symmetrical;
                this.puzzle = puzzle;
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    get barred() {
        let result = false;
        if (this.puzzle && this.puzzle.grid.properties.style === "barred") {
            result = true;
        }
        return result;
    }
    // @HostListener('document:keypress', ['$event'])
    // handleKeyboardEvent(event: KeyboardEvent) {
    //     if (this.puzzle && !this.modalRef) {
    //         if (event.key === "Enter") {
    //             event.stopPropagation();
    //             let clue = this.puzzle.getSelectedClue();
    //             if (clue) {
    //                 this.openEditor(clue, null);
    //             }
    //         } else if (/[a-zA-Z]/.test(event.key)) {
    //             event.stopPropagation();
    //             let clue = this.puzzle.getSelectedClue();
    //             if (clue) {
    //                 this.openEditor(clue, event.key);
    //             }
    //         }
    //     }
    // }
    onTabChange(event) {
        this.appService.clear();
        this.tool = event.nextId;
        this.options.showShading = event.nextId === "color";
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
    }
    onContinue() {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        this.navService.navigate("continue");
    }
    onClose() {
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        this.navService.goHome();
    }
    onSubmit() {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__["UpdateInfo"]({
            title: this.form.value.title
        }));
    }
    onSymmetrical(val) {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_updare_grid_properties__WEBPACK_IMPORTED_MODULE_7__["UpdateGridProperties"]({
            symmetrical: val,
        }));
    }
    onCellClick(cell) {
        this.appService.clear();
        switch (this.tool) {
            case "grid":
                const symCell = this.getSymCell(cell);
                if (this.puzzle.grid.properties.style === "standard") {
                    this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](cell.id, { light: !cell.light }));
                    if (symCell) {
                        this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](symCell.id, { light: !cell.light }));
                    }
                    this.activePuzzle.update(new src_app_services_modifiers_renumber_grid__WEBPACK_IMPORTED_MODULE_6__["RenumberGid"]());
                }
                break;
            case "text":
                if (cell.light) {
                    if (cell.highlight) {
                        // cell is already part of a text edit
                        let updates = this.gridEditor.onGridNavigation(this.puzzle, "absolute", { x: cell.x, y: cell.y });
                        updates.forEach(update => this.activePuzzle.update(update));
                    }
                    else {
                        // this is a new edit
                        let updates = this.gridEditor.startEdit(this.puzzle, cell);
                        updates.forEach(update => this.activePuzzle.update(update));
                    }
                }
                else {
                    this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
                }
                break;
            case "color":
                let color = cell.shading && cell.shading === this.shadingColor ? null : this.shadingColor;
                this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](cell.id, { shading: color }));
                break;
            default:
                // do nothing
                break;
        }
    }
    onBarClick(event) {
        this.appService.clear();
        if (this.tool === "grid" && this.puzzle.grid.properties.style === "barred") {
            if (event.bar === "rightBar") {
                this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](event.cell.id, { rightBar: !event.cell.rightBar }));
            }
            else {
                this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](event.cell.id, { bottomBar: !event.cell.bottomBar }));
            }
            this.activePuzzle.update(new src_app_services_modifiers_renumber_grid__WEBPACK_IMPORTED_MODULE_6__["RenumberGid"]());
        }
    }
    onOptionChange() {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        this.gridEditor = this.gridEditorService.getEditor(this.options.editor);
    }
    onGridText(event) {
        this.appService.clear();
        let updates = this.gridEditor.onGridText(this.puzzle, event.text, event.writingDirection);
        updates.forEach(update => this.activePuzzle.update(update));
    }
    onGridNavigation(event) {
        this.appService.clear();
        let updates = this.gridEditor.onGridNavigation(this.puzzle, event.navigation);
        updates.forEach(update => this.activePuzzle.update(update));
    }
    onClearAll() {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_clear_shading__WEBPACK_IMPORTED_MODULE_12__["ClearShading"]());
    }
    onDownload(instance) {
        this.appService.clear();
        instance.download("grid-image.png", this.gridControl.getDataUrl());
    }
    getSymCell(cell) {
        let result = null;
        if (this.puzzle.grid.properties.symmetrical) {
            // rotational symmetry
            // TO DO: allow for other types of symmetry
            // use matricies and transformations?
            result = this.puzzle.grid.cellAt(this.puzzle.grid.properties.size.across - 1 - cell.x, this.puzzle.grid.properties.size.down - 1 - cell.y);
        }
        return result;
    }
};
GridEditorComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_14__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_13__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IActivePuzzle"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_8__["FormBuilder"] },
    { type: _services_grid_editors_grid_editor_service__WEBPACK_IMPORTED_MODULE_11__["GridEditorService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_components_grid_grid_component__WEBPACK_IMPORTED_MODULE_5__["GridComponent"], { static: false })
], GridEditorComponent.prototype, "gridControl", void 0);
GridEditorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-grid-editor',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-editor.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./grid-editor.component.css */ "./src/app/ui/puzzle-editing/grid-editor/grid-editor.component.css")).default]
    })
], GridEditorComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/grid-start/grid-start.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/grid-start/grid-start.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2dyaWQtc3RhcnQvZ3JpZC1zdGFydC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/grid-start/grid-start.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/grid-start/grid-start.component.ts ***!
  \**********************************************************************/
/*! exports provided: GridStartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridStartComponent", function() { return GridStartComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_modifiers_add_grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/add-grid */ "./src/app/services/modifiers/add-grid.ts");
/* harmony import */ var src_app_model_grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/model/grid */ "./src/app/model/grid.ts");






let GridStartComponent = class GridStartComponent {
    constructor(activePuzzle, navService) {
        this.activePuzzle = activePuzzle;
        this.navService = navService;
        this.subs = [];
    }
    ngOnInit() {
        this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
            this.puzzle = puzzle;
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onClose(result) {
        if (result) {
            let grid = this.createGrid(result);
            this.activePuzzle.update(new src_app_services_modifiers_add_grid__WEBPACK_IMPORTED_MODULE_4__["AddGrid"]({ grid }));
            this.navService.navigate("continue");
        }
        else {
            this.navService.goHome();
        }
    }
    createGrid(params) {
        let cells = [];
        const cellsAcross = params.size.across;
        const cellsDown = params.size.down;
        for (let x = 0; x < cellsAcross; x++) {
            for (let y = 0; y < cellsDown; y++) {
                let cell = {
                    id: `cell-${x}-${y}`,
                    x,
                    y,
                    caption: "",
                    content: "",
                    light: true,
                    rightBar: false,
                    bottomBar: false,
                    highlight: false,
                    shading: null,
                    edit: false,
                };
                cells.push(cell);
            }
        }
        return new src_app_model_grid__WEBPACK_IMPORTED_MODULE_5__["Grid"]({
            properties: params,
            cells: cells,
        });
    }
};
GridStartComponent.ctorParameters = () => [
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IActivePuzzle"] },
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__["NavService"] }
];
GridStartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-grid-start',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./grid-start.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/grid-start/grid-start.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./grid-start.component.css */ "./src/app/ui/puzzle-editing/grid-start/grid-start.component.css")).default]
    })
], GridStartComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/indy/indy.component.css":
/*!***********************************************************!*\
  !*** ./src/app/ui/puzzle-editing/indy/indy.component.css ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2luZHkvaW5keS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/indy/indy.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/ui/puzzle-editing/indy/indy.component.ts ***!
  \**********************************************************/
/*! exports provided: IndyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IndyComponent", function() { return IndyComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../navigation/tracks/app-track-data */ "./src/app/ui/navigation/tracks/app-track-data.ts");







const Sunday = 0;
let IndyComponent = class IndyComponent {
    constructor(navService, appService, formBuilder) {
        this.navService = navService;
        this.appService = appService;
        this.formBuilder = formBuilder;
        this.subs = [];
        this.provider = moment__WEBPACK_IMPORTED_MODULE_3___default()().day() === Sunday ? "ios" : "independent";
        this.today = new Date();
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            date: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
        });
        this.appService.clearAlerts();
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    openLatest() {
        this.openPuzzle(this.provider, this.today);
    }
    openPuzzleByDate() {
        const date = moment__WEBPACK_IMPORTED_MODULE_3___default()(this.form.value.date).toDate();
        const provider = date.getDay() === Sunday ? "ios" : "independent";
        this.openPuzzle(provider, date);
    }
    openPuzzle(provider, date) {
        this.appService.clear();
        this.appService.setOpenPuzzleParams({ provider, date });
        this.navService.beginTrack("create", new _navigation_tracks_app_track_data__WEBPACK_IMPORTED_MODULE_6__["AppTrackData"](), "open");
    }
};
IndyComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_4__["AppService"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] }
];
IndyComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-indy',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./indy.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/indy/indy.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./indy.component.css */ "./src/app/ui/puzzle-editing/indy/indy.component.css")).default]
    })
], IndyComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/link-error/link-error.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/link-error/link-error.component.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL2xpbmstZXJyb3IvbGluay1lcnJvci5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/link-error/link-error.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/link-error/link-error.component.ts ***!
  \**********************************************************************/
/*! exports provided: LinkErrorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LinkErrorComponent", function() { return LinkErrorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let LinkErrorComponent = class LinkErrorComponent {
    constructor() { }
    ngOnInit() {
    }
};
LinkErrorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-link-error',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./link-error.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/link-error/link-error.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./link-error.component.css */ "./src/app/ui/puzzle-editing/link-error/link-error.component.css")).default]
    })
], LinkErrorComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/nav-error/nav-error.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/nav-error/nav-error.component.css ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL25hdi1lcnJvci9uYXYtZXJyb3IuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/nav-error/nav-error.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/nav-error/nav-error.component.ts ***!
  \********************************************************************/
/*! exports provided: NavErrorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavErrorComponent", function() { return NavErrorComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let NavErrorComponent = class NavErrorComponent {
    constructor() { }
    ngOnInit() {
    }
};
NavErrorComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-nav-error',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./nav-error.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/nav-error/nav-error.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./nav-error.component.css */ "./src/app/ui/puzzle-editing/nav-error/nav-error.component.css")).default]
    })
], NavErrorComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL29wZW4tcHV6emxlL29wZW4tcHV6emxlLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.ts ***!
  \************************************************************************/
/*! exports provided: OpenPuzzleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenPuzzleComponent", function() { return OpenPuzzleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/common */ "./src/app/services/common.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");







let OpenPuzzleComponent = class OpenPuzzleComponent {
    constructor(navService, appService, authService, puzzleManagementService) {
        this.navService = navService;
        this.appService = appService;
        this.authService = authService;
        this.puzzleManagementService = puzzleManagementService;
        this.subs = [];
    }
    ngOnInit() {
        this.appService.clear();
        let params = this.appService.openPuzzleParameters;
        if (!params) {
            this.navService.goHome();
        }
        this.subs.push(this.authService.observe().subscribe(credentials => {
            this.credentials = credentials;
            if (credentials.authenticated) {
                this.openPuzzle(params);
            }
        }));
    }
    onLoginClose(result) {
        if (result !== "ok") {
            this.navService.goHome();
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    openPuzzle(params) {
        this.appService.setBusy();
        this.puzzleManagementService.openArchivePuzzle(params).then((puzzle) => {
            this.appService.clear();
            this.appService.clearOpenPuzzleParams();
            this.navService.navigate("continue");
        })
            .catch((error) => {
            if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure) {
                this.appService.clear();
                this.authService.clearCredentials();
                this.appService.setAlert("danger", "Username or password is incorrect.  Please try to login again.");
            }
            else {
                this.appService.clear();
                this.appService.setAlert("danger", error && error.message ? error.message : error.toString());
            }
        });
    }
};
OpenPuzzleComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_6__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_3__["AuthService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__["PuzzleManagementService"] }
];
OpenPuzzleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-open-puzzle',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./open-puzzle.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./open-puzzle.component.css */ "./src/app/ui/puzzle-editing/open-puzzle/open-puzzle.component.css")).default]
    })
], OpenPuzzleComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-login/special-login.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-login/special-login.component.css ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL3NwZWNpYWwtbG9naW4vc3BlY2lhbC1sb2dpbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-login/special-login.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-login/special-login.component.ts ***!
  \****************************************************************************/
/*! exports provided: SpecialLoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpecialLoginComponent", function() { return SpecialLoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");





let SpecialLoginComponent = class SpecialLoginComponent {
    constructor(navService, appService, settingsService) {
        this.navService = navService;
        this.appService = appService;
        this.settingsService = settingsService;
        this.preview = "";
        this.subs = [];
        this.settings = this.settingsService.settings;
    }
    ngOnInit() {
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onLoginClose(result) {
        this.navService.navigate(result);
    }
};
SpecialLoginComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__["AppSettingsService"] }
];
SpecialLoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-special-login',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./special-login.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-login/special-login.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./special-login.component.css */ "./src/app/ui/puzzle-editing/special-login/special-login.component.css")).default]
    })
], SpecialLoginComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.css ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL3NwZWNpYWwtcGRmL3NwZWNpYWwtcGRmLmNvbXBvbmVudC5jc3MifQ== */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.ts ***!
  \************************************************************************/
/*! exports provided: SpecialPdfComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpecialPdfComponent", function() { return SpecialPdfComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");




let SpecialPdfComponent = class SpecialPdfComponent {
    constructor(navService, appService) {
        this.navService = navService;
        this.appService = appService;
        this.content = null;
    }
    ngOnInit() {
        this.appService.clear();
    }
    onFileChange(files) {
        this.appService.clear();
        if (files && files.length) {
            let mimeType = files[0].type;
            if (mimeType.match(/pdf\/*/) === null) {
                this.appService.setAlert("danger", "Only pdf files are supported.");
            }
            else {
                let reader = new FileReader();
                reader.readAsBinaryString(files[0]);
                reader.onload = () => {
                    this.content = btoa(reader.result);
                };
            }
        }
    }
    onOpenPdf() {
        this.appService.clear();
        this.appService.setOpenPuzzleParams({ provider: "pdf", sourceDataB64: this.content });
        this.navService.navigate("continue");
    }
};
SpecialPdfComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_3__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] }
];
SpecialPdfComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-special-pdf',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./special-pdf.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./special-pdf.component.css */ "./src/app/ui/puzzle-editing/special-pdf/special-pdf.component.css")).default]
    })
], SpecialPdfComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-text/special-text.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-text/special-text.component.css ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL3NwZWNpYWwtdGV4dC9zcGVjaWFsLXRleHQuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/special-text/special-text.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special-text/special-text.component.ts ***!
  \**************************************************************************/
/*! exports provided: SpecialTextComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpecialTextComponent", function() { return SpecialTextComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_services_parsing_text_text_parsing_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/parsing/text/text-parsing-service */ "./src/app/services/parsing/text/text-parsing-service.ts");
/* harmony import */ var src_app_services_parsing_text_parse_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/parsing/text/parse-data */ "./src/app/services/parsing/text/parse-data.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_modifiers_add_clues__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/modifiers/add-clues */ "./src/app/services/modifiers/add-clues.ts");
/* harmony import */ var src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/modifiers/update-info */ "./src/app/services/modifiers/update-info.ts");










const defaultText = "ACROSS\n1 This is an across clue (5)\nDOWN\n2 This is a down clue (7)";
let SpecialTextComponent = class SpecialTextComponent {
    constructor(navService, appService, activePuzzle, textParsingService, puzzleManager, fb) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.textParsingService = textParsingService;
        this.puzzleManager = puzzleManager;
        this.fb = fb;
        this.puzzle = null;
        this.subs = [];
        this.parseResult = null;
    }
    ngOnInit() {
        this.form = this.fb.group({
            title: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
            text: [defaultText, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["Validators"].required],
        });
        this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
            this.puzzle = puzzle;
            if (puzzle) {
                this.form.patchValue({
                    title: puzzle.info.title,
                    text: puzzle.info.source
                });
            }
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onParse() {
        this.appService.clear();
        try {
            this.activePuzzle.update(new src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__["UpdateInfo"]({ source: this.form.value.text }));
            this.parseResult = this.parse(this.form.value.text);
            if (!this.parseResult.error) {
                //patch puzzle
                this.activePuzzle.update(new src_app_services_modifiers_add_clues__WEBPACK_IMPORTED_MODULE_8__["AddClues"]({ clues: this.parseResult.clues }));
                this.navService.navigate("blog");
            }
            else {
                this.appService.setAlert("danger", "Parsing Error :" + this.parseResult.error.message);
            }
        }
        catch (error) {
            this.appService.setAlert("danger", "ERROR :" + error.message);
        }
    }
    onCancel() {
        this.navService.goHome();
    }
    onAmend() {
        this.parseResult = null;
    }
    onKeyDown(event) {
        // to stop errors from LastPass and other browser add-ons that attach listeners to this control
        event.stopPropagation();
    }
    parse(text) {
        let parseData = new src_app_services_parsing_text_parse_data__WEBPACK_IMPORTED_MODULE_5__["ParseData"]();
        parseData.clueDataType = "text";
        parseData.rawData = text;
        let parser = this.textParsingService.parser(parseData, null);
        let context = parser.next();
        while (!context.done) {
            context = parser.next();
        }
        return context.value;
    }
};
SpecialTextComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_6__["IActivePuzzle"] },
    { type: src_app_services_parsing_text_text_parsing_service__WEBPACK_IMPORTED_MODULE_4__["TextParsingService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_6__["IPuzzleManager"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }
];
SpecialTextComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-special-text',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./special-text.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special-text/special-text.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./special-text.component.css */ "./src/app/ui/puzzle-editing/special-text/special-text.component.css")).default]
    })
], SpecialTextComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/special/special.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special/special.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL3NwZWNpYWwvc3BlY2lhbC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/special/special.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/special/special.component.ts ***!
  \****************************************************************/
/*! exports provided: SpecialComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpecialComponent", function() { return SpecialComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");




let SpecialComponent = class SpecialComponent {
    constructor(puzzleManager, navService) {
        this.puzzleManager = puzzleManager;
        this.navService = navService;
    }
    ngOnInit() {
    }
    onPdf() {
        this.navService.navigate("pdf");
    }
    onText() {
        this.puzzleManager.newPuzzle();
        this.navService.navigate("clues");
    }
    onGridText() {
        this.puzzleManager.newPuzzle();
        this.navService.navigate("grid");
    }
};
SpecialComponent.ctorParameters = () => [
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IPuzzleManager"] },
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_2__["NavService"] }
];
SpecialComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-special',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./special.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/special/special.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./special.component.css */ "./src/app/ui/puzzle-editing/special/special.component.css")).default]
    })
], SpecialComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.css ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1lZGl0aW5nL3ZhbGlkYXRlLXB1enpsZS92YWxpZGF0ZS1wdXp6bGUuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.ts ***!
  \********************************************************************************/
/*! exports provided: ValidatePuzzleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidatePuzzleComponent", function() { return ValidatePuzzleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");


let ValidatePuzzleComponent = class ValidatePuzzleComponent {
    constructor() { }
    ngOnInit() {
    }
};
ValidatePuzzleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-validate-puzzle',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./validate-puzzle.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./validate-puzzle.component.css */ "./src/app/ui/puzzle-editing/validate-puzzle/validate-puzzle.component.css")).default]
    })
], ValidatePuzzleComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.css":
/*!**************************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.css ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1wdWJsaXNoaW5nL3B1Ymxpc2gtY29tcGxldGUvcHVibGlzaC1jb21wbGV0ZS5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.ts ***!
  \*************************************************************************************/
/*! exports provided: PublishCompleteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishCompleteComponent", function() { return PublishCompleteComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");





let PublishCompleteComponent = class PublishCompleteComponent {
    constructor(navService, appService, activePuzzle) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.puzzle = null;
        this.subs = [];
    }
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.navService.goHome();
    }
};
PublishCompleteComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_4__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IActivePuzzle"] }
];
PublishCompleteComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish-complete',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish-complete.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish-complete.component.css */ "./src/app/ui/puzzle-publishing/publish-complete/publish-complete.component.css")).default]
    })
], PublishCompleteComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.css":
/*!******************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.css ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1wdWJsaXNoaW5nL3B1Ymxpc2gtZ3JpZC9wdWJsaXNoLWdyaWQuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.ts ***!
  \*****************************************************************************/
/*! exports provided: PublishGridComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishGridComponent", function() { return PublishGridComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var src_app_services_modifiers_clear_shading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/clear-shading */ "./src/app/services/modifiers/clear-shading.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _components_grid_grid_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/grid/grid.component */ "./src/app/ui/components/grid/grid.component.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");








let PublishGridComponent = class PublishGridComponent {
    constructor(navService, appService, activePuzzle) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.puzzle = null;
        this.subs = [];
    }
    ngOnInit() {
        // TO DO: record preferences for next time
        this.color = "#ffebcd";
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                this.puzzle = puzzle;
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onCellClick(cell) {
        this.appService.clear();
        // overwrite if a new color, clear if the same color
        let color = cell.shading && cell.shading === this.color ? null : this.color;
        this.activePuzzle.update(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_3__["UpdateCell"](cell.id, { shading: color }));
    }
    onContinue() {
        this.appService.clear();
        this.navService.navigate("continue");
    }
    onBack() {
        this.appService.clear();
        this.navService.navigate("back");
    }
    onClearAll() {
        this.appService.clear();
        this.activePuzzle.update(new src_app_services_modifiers_clear_shading__WEBPACK_IMPORTED_MODULE_4__["ClearShading"]());
    }
    onDownload(instance) {
        this.appService.clear();
        instance.download("grid-image.png", this.gridControl.getDataUrl());
    }
};
PublishGridComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_5__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_2__["IActivePuzzle"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_components_grid_grid_component__WEBPACK_IMPORTED_MODULE_6__["GridComponent"], { static: false })
], PublishGridComponent.prototype, "gridControl", void 0);
PublishGridComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish-grid',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish-grid.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish-grid.component.css */ "./src/app/ui/puzzle-publishing/publish-grid/publish-grid.component.css")).default]
    })
], PublishGridComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-login/publish-login.component.css":
/*!********************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-login/publish-login.component.css ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1wdWJsaXNoaW5nL3B1Ymxpc2gtbG9naW4vcHVibGlzaC1sb2dpbi5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-login/publish-login.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-login/publish-login.component.ts ***!
  \*******************************************************************************/
/*! exports provided: PublishLoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishLoginComponent", function() { return PublishLoginComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");






let PublishLoginComponent = class PublishLoginComponent {
    constructor(navService, activePuzzle, appService, settingsService) {
        this.navService = navService;
        this.activePuzzle = activePuzzle;
        this.appService = appService;
        this.settingsService = settingsService;
        this.subs = [];
    }
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.settings = this.settingsService.settings;
            this.subs.push(this.appService.getObservable().subscribe(s => this.appStatus = s));
        }
    }
    onClose(result) {
        const puzzle = this.activePuzzle.puzzle;
        this.appService.clear();
        if (result === "cancel" || result === "back") {
            this.navService.navigate("back");
        }
        else {
            this.navService.navigate("continue");
        }
    }
};
PublishLoginComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IActivePuzzle"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_4__["AppSettingsService"] }
];
PublishLoginComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish-login',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish-login.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-login/publish-login.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish-login.component.css */ "./src/app/ui/puzzle-publishing/publish-login/publish-login.component.css")).default]
    })
], PublishLoginComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-options/publish-options.component.css":
/*!************************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-options/publish-options.component.css ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1wdWJsaXNoaW5nL3B1Ymxpc2gtb3B0aW9ucy9wdWJsaXNoLW9wdGlvbnMuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-options/publish-options.component.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-options/publish-options.component.ts ***!
  \***********************************************************************************/
/*! exports provided: PublishOptionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishOptionsComponent", function() { return PublishOptionsComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_update_publish_options__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/update-publish-options */ "./src/app/services/modifiers/update-publish-options.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");






let PublishOptionsComponent = class PublishOptionsComponent {
    constructor(navService, appService, activePuzzle) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.puzzle = null;
        this.publishOptions = null;
        this.subs = [];
    }
    ngOnInit() {
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                if (puzzle) {
                    this.puzzle = puzzle;
                    this.sample = this.puzzle.clues.filter((c, i) => i < 3);
                    this.publishOptions = this.puzzle.publishOptions;
                }
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.activePuzzle.update(new src_app_services_modifiers_update_publish_options__WEBPACK_IMPORTED_MODULE_4__["UpdatePublsihOptions"](this.publishOptions));
        this.navService.navigate("continue");
    }
    onBack() {
        this.activePuzzle.update(new src_app_services_modifiers_update_publish_options__WEBPACK_IMPORTED_MODULE_4__["UpdatePublsihOptions"](this.publishOptions));
        this.navService.navigate("back");
    }
    onGrid() {
        this.activePuzzle.update(new src_app_services_modifiers_update_publish_options__WEBPACK_IMPORTED_MODULE_4__["UpdatePublsihOptions"](this.publishOptions));
        this.navService.navigate("grid");
    }
};
PublishOptionsComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_5__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_2__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_3__["IActivePuzzle"] }
];
PublishOptionsComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish-options',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish-options.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-options/publish-options.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish-options.component.css */ "./src/app/ui/puzzle-publishing/publish-options/publish-options.component.css")).default]
    })
], PublishOptionsComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.css":
/*!**************************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.css ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".title {\r\n    color: #0b6d90;\r\n    font-weight: bold;\r\n    font-size:  x-large;\r\n  }\r\n\r\n.mug-shot {\r\n    border: 1px solid;\r\n    padding: 8px;\r\n}\r\n\r\n.mug-shot img {\r\n    height: 100px;\r\n    width: 80px;\r\n}\r\n\r\n.anchor-like {\r\n    font-weight: bolder;\r\n    color: #0b6d90;\r\n    padding: 15px;\r\n}\r\n\r\n.anchor-like:hover {\r\n    text-decoration: underline;\r\n}\r\n\r\n.body-top {\r\n    border-bottom: 1px black dashed;\r\n    padding-bottom: 1px;\r\n    margin-bottom: 0px;\r\n}\r\n\r\n.smaller {\r\n    font-size: smaller;\r\n}\r\n\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvcHV6emxlLXB1Ymxpc2hpbmcvcHVibGlzaC1wcmVhbWJsZS9wdWJsaXNoLXByZWFtYmxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLG1CQUFtQjtFQUNyQjs7QUFFRjtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLFdBQVc7QUFDZjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLCtCQUErQjtJQUMvQixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InNyYy9hcHAvdWkvcHV6emxlLXB1Ymxpc2hpbmcvcHVibGlzaC1wcmVhbWJsZS9wdWJsaXNoLXByZWFtYmxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGl0bGUge1xyXG4gICAgY29sb3I6ICMwYjZkOTA7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc2l6ZTogIHgtbGFyZ2U7XHJcbiAgfVxyXG5cclxuLm11Zy1zaG90IHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkO1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG59XHJcblxyXG4ubXVnLXNob3QgaW1nIHtcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICB3aWR0aDogODBweDtcclxufVxyXG5cclxuLmFuY2hvci1saWtlIHtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkZXI7XHJcbiAgICBjb2xvcjogIzBiNmQ5MDtcclxuICAgIHBhZGRpbmc6IDE1cHg7XHJcbn1cclxuXHJcbi5hbmNob3ItbGlrZTpob3ZlciB7XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxufVxyXG5cclxuLmJvZHktdG9wIHtcclxuICAgIGJvcmRlci1ib3R0b206IDFweCBibGFjayBkYXNoZWQ7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG59XHJcblxyXG4uc21hbGxlciB7XHJcbiAgICBmb250LXNpemU6IHNtYWxsZXI7XHJcbn1cclxuIl19 */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.ts":
/*!*************************************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.ts ***!
  \*************************************************************************************/
/*! exports provided: PublishPreambleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishPreambleComponent", function() { return PublishPreambleComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_modifiers_update_preamble__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/update-preamble */ "./src/app/services/modifiers/update-preamble.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");









let PublishPreambleComponent = class PublishPreambleComponent {
    constructor(navService, appService, authService, appSettingsService, activePuzzle, formBuilder) {
        this.navService = navService;
        this.appService = appService;
        this.authService = authService;
        this.appSettingsService = appSettingsService;
        this.activePuzzle = activePuzzle;
        this.formBuilder = formBuilder;
        this.puzzle = null;
        this.today = new Date();
        this.subs = [];
    }
    ngOnInit() {
        window.scrollTo(0, 0);
        this.subs.push(this.appService.getObservable().subscribe(appStatus => this.appStatus = appStatus));
        this.subs.push(this.appSettingsService.observe().subscribe(settings => this.appSettings = settings));
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.form = this.formBuilder.group({
                title: [""],
                header: { ops: [] },
                body: { ops: [] }
            });
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                this.puzzle = puzzle;
                if (puzzle) {
                    // this.header = puzzle.notes.header;
                    this.sample = this.puzzle.clues.filter((c, i) => i < 3);
                    this.form.patchValue(puzzle.notes);
                    this.form.patchValue({ title: puzzle.info.title });
                }
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.activePuzzle.update(new src_app_services_modifiers_update_preamble__WEBPACK_IMPORTED_MODULE_4__["UpdatePreamble"](this.form.value.title, this.form.value.header, this.form.value.body));
        if (this.authService.getCredentials().authenticated) {
            this.navService.navigate("continue");
        }
        else {
            this.navService.navigate("authenticate");
        }
    }
    onBack() {
        this.activePuzzle.update(new src_app_services_modifiers_update_preamble__WEBPACK_IMPORTED_MODULE_4__["UpdatePreamble"](this.form.value.title, this.form.value.header, this.form.value.body));
        this.navService.navigate("back");
    }
    getUsername() {
        return this.appSettings && this.appSettings.username ?
            this.appSettings.username :
            "Somebody";
    }
};
PublishPreambleComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_7__["AppSettingsService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__["IActivePuzzle"] },
    { type: _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"] }
];
PublishPreambleComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish-preamble',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish-preamble.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish-preamble.component.css */ "./src/app/ui/puzzle-publishing/publish-preamble/publish-preamble.component.css")).default]
    })
], PublishPreambleComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish/publish.component.css":
/*!********************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish/publish.component.css ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1wdWJsaXNoaW5nL3B1Ymxpc2gvcHVibGlzaC5jb21wb25lbnQuY3NzIn0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-publishing/publish/publish.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/ui/puzzle-publishing/publish/publish.component.ts ***!
  \*******************************************************************/
/*! exports provided: PublishComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PublishComponent", function() { return PublishComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_publication_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/publication.service */ "./src/app/services/publication.service.ts");
/* harmony import */ var src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/ui/services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/common */ "./src/app/services/common.ts");
/* harmony import */ var src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _components_grid_grid_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/grid/grid.component */ "./src/app/ui/components/grid/grid.component.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");
/* harmony import */ var src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! src/app/services/modifiers/update-info */ "./src/app/services/modifiers/update-info.ts");










let PublishComponent = class PublishComponent {
    constructor(navService, appService, authService, activePuzzle, publicationService) {
        this.navService = navService;
        this.appService = appService;
        this.authService = authService;
        this.activePuzzle = activePuzzle;
        this.publicationService = publicationService;
        this.puzzle = null;
        this.alreadyPublished = false;
        this.gridOnly = false;
        this.action = "nothing";
        this.subs = [];
    }
    set content(content) { this.gridControl = content; }
    ;
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else if (!this.authService.getCredentials().authenticated) {
            this.navService.navigate("authenticate");
        }
        else {
            this.subs.push(this.appService.getObservable().subscribe(s => this.appStatus = s));
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                if (puzzle) {
                    this.puzzle = puzzle;
                    this.alreadyPublished = !!puzzle.info.wordpressId;
                    if (!this.alreadyPublished) {
                        this.action = "upload";
                    }
                    this.gridOnly = puzzle.grid && puzzle.clues === null;
                    if (this.gridOnly) {
                        this.action = "copy-grid";
                    }
                }
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.appService.clear();
        // TO DO: link the media on WP to the post id
        // 1. first create a post with placeholder content, get back the post id
        // 2. upload media with post id, get back url of image
        // 3. update post with actual content incluidng the image url
        switch (this.action) {
            case "upload":
                this.appService.setBusy();
                this.publishPost("draft");
                break;
            case "publish":
                this.appService.setBusy();
                this.publishPost("publish");
                break;
            case "copy-grid":
                this.appService.setBusy();
                this.publishGrid();
                break;
            case "copy-post":
                this.appService.setBusy();
                this.publishPost("draft");
                break;
            case "replace-grid":
                this.appService.setAlert("info", "Sorry, this feature is still work in progress, we hope to have it finished soon.");
                break;
            case "replace-post":
                this.appService.setAlert("info", "Sorry, this feature is still work in progress, we hope to have it finished soon.");
                break;
            default:
                // do nothing
                break;
        }
    }
    get hasCredentials() {
        return this.authService.getCredentials() !== null;
    }
    onBack() {
        this.navService.navigate("back");
    }
    getGridImage() {
        let result = null;
        try {
            result = this.gridControl.getDataUrl().replace("data:image/png;base64,", "");
        }
        catch (error) {
            console.log(error);
        }
        return result;
    }
    publishPost(status) {
        let image = this.puzzle.publishOptions.includeGrid && this.puzzle.grid ?
            this.getGridImage() :
            null;
        let promise = image ?
            this.publicationService.publishGrid(image, this.puzzle.info.title) :
            Promise.resolve({ wordpressId: null, url: null });
        promise.then((result) => {
            return this.publicationService.publishPost(this.puzzle, result.url, status);
        })
            .then((result) => {
            this.activePuzzle.update(new src_app_services_modifiers_update_info__WEBPACK_IMPORTED_MODULE_9__["UpdateInfo"]({ wordPressId: result.wordpressId }));
            this.appService.clearBusy();
            this.navService.navigate("continue");
        })
            .catch(error => {
            if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure) {
                this.appService.clear();
                this.appService.setAlert("danger", "Username or password incorrect");
                this.authService.clearCredentials();
                this.navService.navigate("authenticate");
            }
            else {
                this.appService.clear();
                this.appService.setAlert("danger", "ERROR: " + error);
            }
        });
    }
    publishGrid() {
        let image = this.puzzle.grid ? this.getGridImage() : null;
        if (image) {
            this.publicationService.publishGrid(image, this.puzzle.info.title)
                .then(() => {
                this.appService.clearBusy();
                this.navService.navigate("continue");
            })
                .catch(error => {
                if (error === src_app_services_common__WEBPACK_IMPORTED_MODULE_5__["ApiSymbols"].AuthorizationFailure) {
                    this.appService.clear();
                    this.appService.setAlert("danger", "Username or password incorrect");
                    this.authService.clearCredentials();
                    this.navService.navigate("authenticate");
                }
                else {
                    this.appService.clear();
                    this.appService.setAlert("danger", "ERROR: " + error);
                }
            });
        }
    }
};
PublishComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__["NavService"] },
    { type: src_app_ui_services_app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"] },
    { type: src_app_services_auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__["IActivePuzzle"] },
    { type: src_app_services_publication_service__WEBPACK_IMPORTED_MODULE_2__["PublicationService"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_components_grid_grid_component__WEBPACK_IMPORTED_MODULE_7__["GridComponent"], { static: true })
], PublishComponent.prototype, "content", null);
PublishComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-publish',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./publish.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-publishing/publish/publish.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./publish.component.css */ "./src/app/ui/puzzle-publishing/publish/publish.component.css")).default]
    })
], PublishComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-solving/blogger/blogger.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/ui/puzzle-solving/blogger/blogger.component.css ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("table td {\r\n    padding: 0;\r\n}\r\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdWkvcHV6emxlLXNvbHZpbmcvYmxvZ2dlci9ibG9nZ2VyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxVQUFVO0FBQ2QiLCJmaWxlIjoic3JjL2FwcC91aS9wdXp6bGUtc29sdmluZy9ibG9nZ2VyL2Jsb2dnZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHRkIHtcclxuICAgIHBhZGRpbmc6IDA7XHJcbn0iXX0= */");

/***/ }),

/***/ "./src/app/ui/puzzle-solving/blogger/blogger.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/ui/puzzle-solving/blogger/blogger.component.ts ***!
  \****************************************************************/
/*! exports provided: BloggerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BloggerComponent", function() { return BloggerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_select_clue__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/select-clue */ "./src/app/services/modifiers/select-clue.ts");
/* harmony import */ var src_app_services_modifiers_select_next_clue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/select-next-clue */ "./src/app/services/modifiers/select-next-clue.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/app-settings.service */ "./src/app/services/app-settings.service.ts");
/* harmony import */ var _services_app_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/app.service */ "./src/app/ui/services/app.service.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");









let BloggerComponent = class BloggerComponent {
    constructor(navService, appService, activePuzzle, appSettinsgService) {
        this.navService = navService;
        this.appService = appService;
        this.activePuzzle = activePuzzle;
        this.appSettinsgService = appSettinsgService;
        this.puzzle = null;
        this.subs = [];
    }
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.appSettings = this.appSettinsgService.settings;
            this.subs.push(this.activePuzzle.observe().subscribe(puzzle => {
                if (puzzle) {
                    if (!puzzle.info.blogable) {
                        this.navService.goHome();
                    }
                    this.puzzle = puzzle;
                    //console.log("BLOGGER " + JSON.stringify(puzzle.clues));
                }
            }));
            this.subs.push(this.appSettinsgService.observe().subscribe(settings => this.appSettings = settings));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    onContinue() {
        this.navService.navigate("continue");
    }
    onBack() {
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__["Clear"]());
        this.navService.navigate("back");
    }
    onSolver() {
        this.navService.navigate("solve");
    }
    onEditClues() {
        this.navService.navigate("edit");
    }
    onRowClick(clue) {
        this.activePuzzle.update(new src_app_services_modifiers_select_clue__WEBPACK_IMPORTED_MODULE_3__["SelectClue"](clue.id));
    }
    onEditorClose(clue, reason) {
        if (reason === "cancel") {
            this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__["Clear"]());
        }
        else {
            this.activePuzzle.update(new src_app_services_modifiers_select_next_clue__WEBPACK_IMPORTED_MODULE_4__["SelectNextClue"](clue.id));
        }
    }
};
BloggerComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_8__["NavService"] },
    { type: _services_app_service__WEBPACK_IMPORTED_MODULE_7__["AppService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_5__["IActivePuzzle"] },
    { type: src_app_services_app_settings_service__WEBPACK_IMPORTED_MODULE_6__["AppSettingsService"] }
];
BloggerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-blogger',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./blogger.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/blogger/blogger.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./blogger.component.css */ "./src/app/ui/puzzle-solving/blogger/blogger.component.css")).default]
    })
], BloggerComponent);



/***/ }),

/***/ "./src/app/ui/puzzle-solving/solver/solver.component.css":
/*!***************************************************************!*\
  !*** ./src/app/ui/puzzle-solving/solver/solver.component.css ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VpL3B1enpsZS1zb2x2aW5nL3NvbHZlci9zb2x2ZXIuY29tcG9uZW50LmNzcyJ9 */");

/***/ }),

/***/ "./src/app/ui/puzzle-solving/solver/solver.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/ui/puzzle-solving/solver/solver.component.ts ***!
  \**************************************************************/
/*! exports provided: SolverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SolverComponent", function() { return SolverComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ng-bootstrap/ng-bootstrap */ "./node_modules/@ng-bootstrap/ng-bootstrap/fesm2015/ng-bootstrap.js");
/* harmony import */ var _components_clue_editor_clue_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/clue-editor/clue-editor.component */ "./src/app/ui/components/clue-editor/clue-editor.component.ts");
/* harmony import */ var src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/puzzle-management.service */ "./src/app/services/puzzle-management.service.ts");
/* harmony import */ var src_app_services_modifiers_select_clue_by_cell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/modifiers/select-clue-by-cell */ "./src/app/services/modifiers/select-clue-by-cell.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../navigation/nav.service */ "./src/app/ui/navigation/nav.service.ts");








let SolverComponent = class SolverComponent {
    constructor(navService, activePuzzle, modalService) {
        this.navService = navService;
        this.activePuzzle = activePuzzle;
        this.modalService = modalService;
        this.modalRef = null;
        this.puzzle = null;
        this.subs = [];
    }
    ngOnInit() {
        if (!this.activePuzzle.hasPuzzle) {
            this.navService.goHome();
        }
        else {
            this.subs.push(this.activePuzzle.observe().subscribe((puzzle) => {
                if (puzzle) {
                    if (!puzzle.info.solveable) {
                        this.navService.goHome();
                    }
                    this.puzzle = puzzle;
                    //console.log("SOLVER " + JSON.stringify(puzzle));
                }
            }));
        }
    }
    ngOnDestroy() {
        this.subs.forEach(sub => sub.unsubscribe());
    }
    handleKeyboardEvent(event) {
        if (this.puzzle && !this.modalRef) {
            if (event.key === "Enter") {
                event.stopPropagation();
                let clue = this.puzzle.getSelectedClue();
                if (clue) {
                    this.openEditor(clue, null);
                }
            }
            else if (/[a-zA-Z]/.test(event.key)) {
                event.stopPropagation();
                let clue = this.puzzle.getSelectedClue();
                if (clue) {
                    this.openEditor(clue, event.key);
                }
            }
        }
    }
    onContinue() {
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_6__["Clear"]());
        this.navService.navigate("continue");
    }
    onBack() {
        this.activePuzzle.update(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_6__["Clear"]());
        this.navService.navigate("back");
    }
    onBlogger() {
        this.navService.navigate("blog");
    }
    onClueClick(clue) {
        this.openEditor(clue, null);
    }
    onCellClick(cell) {
        if (!cell.highlight) {
            this.activePuzzle.update(new src_app_services_modifiers_select_clue_by_cell__WEBPACK_IMPORTED_MODULE_5__["SelectClueByCell"](cell));
        }
        else {
            let clue = this.puzzle.getSelectedClue();
            if (clue) {
                this.openEditor(clue, null);
            }
        }
    }
    openEditor(clue, starterText) {
        if (!clue.redirect) {
            setTimeout(() => {
                this.modalRef = this.modalService.open(_components_clue_editor_clue_editor_component__WEBPACK_IMPORTED_MODULE_3__["ClueEditorComponent"], { backdrop: "static" });
                this.modalRef.componentInstance.clueId = clue.id;
                this.modalRef.componentInstance.starterText = starterText;
                this.subs.push(this.modalRef.componentInstance.close.subscribe((result) => {
                    this.modalRef.close();
                    this.modalRef = null;
                }));
                // this.modalRef.result.finally(() => this.modalRef = null);
            }, 0);
        }
    }
};
SolverComponent.ctorParameters = () => [
    { type: _navigation_nav_service__WEBPACK_IMPORTED_MODULE_7__["NavService"] },
    { type: src_app_services_puzzle_management_service__WEBPACK_IMPORTED_MODULE_4__["IActivePuzzle"] },
    { type: _ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_2__["NgbModal"] }
];
tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["HostListener"])('document:keypress', ['$event'])
], SolverComponent.prototype, "handleKeyboardEvent", null);
SolverComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
        selector: 'app-solver',
        template: tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! raw-loader!./solver.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ui/puzzle-solving/solver/solver.component.html")).default,
        styles: [tslib__WEBPACK_IMPORTED_MODULE_0__["__importDefault"](__webpack_require__(/*! ./solver.component.css */ "./src/app/ui/puzzle-solving/solver/solver.component.css")).default]
    })
], SolverComponent);



/***/ }),

/***/ "./src/app/ui/services/app.service.ts":
/*!********************************************!*\
  !*** ./src/app/ui/services/app.service.ts ***!
  \********************************************/
/*! exports provided: AppStatus, AppService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppStatus", function() { return AppStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return AppService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common */ "./src/app/ui/common.ts");




class AppStatus {
    constructor(busy, late, alerts) {
        this.busy = busy;
        this.late = late;
        this.alerts = alerts;
    }
}
class ActivityMonitor {
    constructor() {
        this.busy = false;
        this.late = false;
        this.busyCounter = 0;
    }
    clear() {
        this.busy = false;
        this.late = false;
        this.busyCounter = 0;
    }
    setBusy() {
        this.busy = true;
        this.late = false;
        this.busyCounter = 0;
    }
    onTick() {
        let emitEvent = false;
        if (this.busy) {
            this.busyCounter++;
            if (this.busyCounter === 2) {
                this.late = true;
                emitEvent = true;
            }
        }
        return emitEvent;
    }
}
let AppService = class AppService {
    constructor() {
        this._activityMonitor = new ActivityMonitor();
        this.alerts = [];
        this._onLogin = null;
        this.subs = [];
        this.bs = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](new AppStatus(false, false, []));
        // add a timer that records how long the app has been busy
        // when this time passes a threshold mark the app as late
        this.subs.push(Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["timer"])(100, 100).subscribe((t) => {
            if (this._activityMonitor.onTick()) {
                this.emitNext();
            }
        }));
    }
    ngOnDestroy() {
        this.subs.forEach(s => s.unsubscribe());
    }
    getObservable() {
        return this.bs.asObservable();
    }
    get openPuzzleParameters() {
        return this._openPuzzleParameters;
    }
    get loginCallback() {
        return this._onLogin;
    }
    clear() {
        this.clearLoginCallback();
        this.clearAlerts();
        this.clearBusy();
    }
    setOpenPuzzleParams(params) {
        this._openPuzzleParameters = params;
    }
    clearOpenPuzzleParams() {
        this._openPuzzleParameters = null;
    }
    setLoginCallback(fn) {
        this._onLogin = fn;
    }
    clearLoginCallback() {
        this._onLogin = null;
    }
    setBusy() {
        this._activityMonitor.setBusy();
        this.emitNext();
    }
    clearBusy() {
        this._activityMonitor.clear();
        this.emitNext();
    }
    setAlert(type, message) {
        this.alerts.push(new _common__WEBPACK_IMPORTED_MODULE_3__["Alert"](type, message));
        this.emitNext();
    }
    clearAlerts() {
        this.alerts = [];
        this.emitNext();
    }
    emitNext() {
        let alerts = JSON.parse(JSON.stringify(this.alerts));
        this.bs.next(new AppStatus(this._activityMonitor.busy, this._activityMonitor.late, alerts));
    }
};
AppService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], AppService);



/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-cell-editor-empty-fluid.ts":
/*!**************************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-cell-editor-empty-fluid.ts ***!
  \**************************************************************************/
/*! exports provided: GridCellEditorEmptyFluid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridCellEditorEmptyFluid", function() { return GridCellEditorEmptyFluid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/select-cells-for-edit */ "./src/app/services/modifiers/select-cells-for-edit.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/make-cell-editable */ "./src/app/services/modifiers/make-cell-editable.ts");
/* harmony import */ var _grid_cell_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grid-cell-editor */ "./src/app/ui/services/grid-editors/grid-cell-editor.ts");






// After text entry the editor alwyas moves on to the next empty cell: left-right then top-bottom
class GridCellEditorEmptyFluid extends _grid_cell_editor__WEBPACK_IMPORTED_MODULE_5__["GridCellEditor"] {
    constructor() {
        super();
    }
    onGridText(puzzle, text, writingDirection) {
        let result = [];
        let context = this.getEditContext(puzzle);
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        if (context.editCell) {
            // update the text
            result.push(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__["UpdateCell"](context.editCell.id, { content: text.toUpperCase() }));
            // decide what to do next
            let next = this.getNextEditableCell(puzzle, context.editCell, "right");
            if (next) {
                result.push(new src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__["SelectCellsForEdit"]([next]));
                result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_4__["MakeCellEditable"](next.id));
            }
        }
        return result;
    }
    ;
    // only look for empty cells
    getNextEditableCell(puzzle, start, orientation) {
        let result = null;
        if (start) {
            let navigator = puzzle.grid.getNavigator(start.id, orientation);
            //skip the start cell
            navigator.next();
            for (let next = navigator.next(); !next.done; next = navigator.next()) {
                if (next.value.id === start.id) {
                    break;
                }
                if (next.value.light && !next.value.content && next.value.content.trim().length === 0) {
                    result = next.value;
                    break;
                }
            }
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-cell-editor-fluid.ts":
/*!********************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-cell-editor-fluid.ts ***!
  \********************************************************************/
/*! exports provided: GridCellEditorFluid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridCellEditorFluid", function() { return GridCellEditorFluid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/select-cells-for-edit */ "./src/app/services/modifiers/select-cells-for-edit.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/make-cell-editable */ "./src/app/services/modifiers/make-cell-editable.ts");
/* harmony import */ var _grid_cell_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grid-cell-editor */ "./src/app/ui/services/grid-editors/grid-cell-editor.ts");






// After text entry the editor alwyas moves on to the next cell: left-right then top-bottom
class GridCellEditorFluid extends _grid_cell_editor__WEBPACK_IMPORTED_MODULE_5__["GridCellEditor"] {
    constructor() {
        super();
    }
    onGridText(puzzle, text, writingDirection) {
        let result = [];
        let context = this.getEditContext(puzzle);
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        if (context.editCell) {
            // update the text
            result.push(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__["UpdateCell"](context.editCell.id, { content: text.toUpperCase() }));
            // decide what to do next
            let next = this.getNextEditableCell(puzzle, context.editCell, "right");
            if (next) {
                result.push(new src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__["SelectCellsForEdit"]([next]));
                result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_4__["MakeCellEditable"](next.id));
            }
        }
        return result;
    }
    ;
    // only look for empty cells
    getNextEditableCell(puzzle, start, orientation) {
        let result = null;
        if (start) {
            let navigator = puzzle.grid.getNavigator(start.id, orientation);
            //skip the start cell
            navigator.next();
            for (let next = navigator.next(); !next.done; next = navigator.next()) {
                if (next.value.id === start.id) {
                    break;
                }
                if (next.value.light) {
                    result = next.value;
                    break;
                }
            }
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-cell-editor.ts":
/*!**************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-cell-editor.ts ***!
  \**************************************************************/
/*! exports provided: GridCellEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridCellEditor", function() { return GridCellEditor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/select-cells-for-edit */ "./src/app/services/modifiers/select-cells-for-edit.ts");
/* harmony import */ var src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/make-cell-editable */ "./src/app/services/modifiers/make-cell-editable.ts");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var _grid_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grid-editor */ "./src/app/ui/services/grid-editors/grid-editor.ts");






class GridCellEditor extends _grid_editor__WEBPACK_IMPORTED_MODULE_5__["GridEditor"] {
    constructor() {
        super();
    }
    startEdit(puzzle, entryCell) {
        let result = [];
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]());
        result.push(new src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__["SelectCellsForEdit"]([entryCell]));
        result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_3__["MakeCellEditable"](entryCell.id));
        return result;
    }
    onGridText(puzzle, text, writingDirection) {
        let result = [];
        let context = this.getEditContext(puzzle);
        if (context.editCell) {
            result.push(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_4__["UpdateCell"](context.editCell.id, { content: text.toUpperCase() }));
        }
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]());
        return result;
    }
    onGridNavigation(puzzle, navigation, position) {
        let result = [];
        let context = this.getEditContext(puzzle);
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_1__["Clear"]());
        let next = null;
        if (navigation === "absolute") {
            next = puzzle.grid.cellAt(position.x, position.y);
        }
        else {
            if (context.editCell) {
                next = this.getNextEditableCell(puzzle, context.editCell, navigation);
            }
        }
        if (next) {
            result.push(new src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_2__["SelectCellsForEdit"]([next]));
            result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_3__["MakeCellEditable"](next.id));
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-editor.service.ts":
/*!*****************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-editor.service.ts ***!
  \*****************************************************************/
/*! exports provided: GridEditorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEditorService", function() { return GridEditorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common */ "./src/app/ui/common.ts");
/* harmony import */ var _grid_cell_editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./grid-cell-editor */ "./src/app/ui/services/grid-editors/grid-cell-editor.ts");
/* harmony import */ var _grid_cell_editor_fluid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./grid-cell-editor-fluid */ "./src/app/ui/services/grid-editors/grid-cell-editor-fluid.ts");
/* harmony import */ var _grid_entry_editor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./grid-entry-editor */ "./src/app/ui/services/grid-editors/grid-entry-editor.ts");
/* harmony import */ var _grid_entry_editor_fluid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./grid-entry-editor-fluid */ "./src/app/ui/services/grid-editors/grid-entry-editor-fluid.ts");
/* harmony import */ var _grid_cell_editor_empty_fluid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./grid-cell-editor-empty-fluid */ "./src/app/ui/services/grid-editors/grid-cell-editor-empty-fluid.ts");








let GridEditorService = class GridEditorService {
    constructor() { }
    getEditor(token) {
        let editor;
        switch (token) {
            case _common__WEBPACK_IMPORTED_MODULE_2__["GridEditors"].cellEditor:
                editor = new _grid_cell_editor__WEBPACK_IMPORTED_MODULE_3__["GridCellEditor"]();
                break;
            case _common__WEBPACK_IMPORTED_MODULE_2__["GridEditors"].cellEditorFluid:
                editor = new _grid_cell_editor_fluid__WEBPACK_IMPORTED_MODULE_4__["GridCellEditorFluid"]();
                break;
            case _common__WEBPACK_IMPORTED_MODULE_2__["GridEditors"].cellEditorEmptyFluid:
                editor = new _grid_cell_editor_empty_fluid__WEBPACK_IMPORTED_MODULE_7__["GridCellEditorEmptyFluid"]();
                break;
            case _common__WEBPACK_IMPORTED_MODULE_2__["GridEditors"].entryEditor:
                editor = new _grid_entry_editor__WEBPACK_IMPORTED_MODULE_5__["GridEntryEditor"]();
                break;
            case _common__WEBPACK_IMPORTED_MODULE_2__["GridEditors"].entryEditorFluid:
                editor = new _grid_entry_editor_fluid__WEBPACK_IMPORTED_MODULE_6__["GridEntryEditorFluid"]();
                break;
            default:
                editor = new _grid_cell_editor__WEBPACK_IMPORTED_MODULE_3__["GridCellEditor"]();
                break;
        }
        return editor;
    }
};
GridEditorService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], GridEditorService);



/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-editor.ts":
/*!*********************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-editor.ts ***!
  \*********************************************************/
/*! exports provided: EditContext, GridEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditContext", function() { return EditContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEditor", function() { return GridEditor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");

class EditContext {
    constructor(cells, editIndex, entryDirection) {
        this.cells = cells;
        this.editIndex = editIndex;
        this.entryDirection = entryDirection;
    }
    get editCell() {
        return this.cells[this.editIndex];
    }
}
;
class GridEditor {
    constructor() { }
    getEditContext(puzzle) {
        let cells = [];
        let entryDirection = "across";
        let editIndex = -1;
        let nav = puzzle.grid.getNavigator(puzzle.grid.cellAt(0, 0).id, "right");
        for (let item = nav.next(); !item.done; item = nav.next()) {
            if (item.value.highlight) {
                cells.push(item.value);
            }
        }
        if (cells.length > 1) {
            if (cells[0].x === cells[1].x) {
                entryDirection = "down";
            }
        }
        editIndex = cells.findIndex(c => c.edit);
        return new EditContext(cells, editIndex, entryDirection);
    }
    getNextEditableCell(puzzle, start, orientation) {
        let result = null;
        if (start) {
            let navigator = puzzle.grid.getNavigator(start.id, orientation);
            //skip the start cell
            navigator.next();
            for (let next = navigator.next(); !next.done; next = navigator.next()) {
                if (next.value.id === start.id) {
                    break;
                }
                if (next.value.light) {
                    result = next.value;
                    break;
                }
            }
        }
        return result;
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-entry-editor-fluid.ts":
/*!*********************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-entry-editor-fluid.ts ***!
  \*********************************************************************/
/*! exports provided: GridEntryEditorFluid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEntryEditorFluid", function() { return GridEntryEditorFluid; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _grid_entry_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./grid-entry-editor */ "./src/app/ui/services/grid-editors/grid-entry-editor.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");



class GridEntryEditorFluid extends _grid_entry_editor__WEBPACK_IMPORTED_MODULE_1__["GridEntryEditor"] {
    constructor() {
        super();
    }
    onUnderflow(puzzle, context, result) {
        // TO DO: implement this
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__["Clear"]());
    }
    onOverflow(puzzle, context, result) {
        // TO DO: implement this
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_2__["Clear"]());
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-editors/grid-entry-editor.ts":
/*!***************************************************************!*\
  !*** ./src/app/ui/services/grid-editors/grid-entry-editor.ts ***!
  \***************************************************************/
/*! exports provided: GridEntryEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridEntryEditor", function() { return GridEntryEditor; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/modifiers/update-cell */ "./src/app/services/modifiers/update-cell.ts");
/* harmony import */ var _grid_editor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./grid-editor */ "./src/app/ui/services/grid-editors/grid-editor.ts");
/* harmony import */ var src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/modifiers/clear */ "./src/app/services/modifiers/clear.ts");
/* harmony import */ var src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/modifiers/select-cells-for-edit */ "./src/app/services/modifiers/select-cells-for-edit.ts");
/* harmony import */ var src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/modifiers/make-cell-editable */ "./src/app/services/modifiers/make-cell-editable.ts");






class GridEntryEditor extends _grid_editor__WEBPACK_IMPORTED_MODULE_2__["GridEditor"] {
    constructor() {
        super();
    }
    startEdit(puzzle, entryCell) {
        let result = [];
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        let entry = puzzle.grid.getGridEntryForCell(entryCell.id);
        if (entry.length > 0) {
            result.push(new src_app_services_modifiers_select_cells_for_edit__WEBPACK_IMPORTED_MODULE_4__["SelectCellsForEdit"](entry));
            if (entry[0].content && entry[0].content.trim().length > 0) {
                result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_5__["MakeCellEditable"](entryCell.id));
            }
            else {
                result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_5__["MakeCellEditable"](entry[0].id));
            }
        }
        return result;
    }
    onGridText(puzzle, text, writingDirection) {
        let result = [];
        let context = this.getEditContext(puzzle);
        // update the text
        result.push(new src_app_services_modifiers_update_cell__WEBPACK_IMPORTED_MODULE_1__["UpdateCell"](context.editCell.id, { content: text.toUpperCase() }));
        this.makeNextCellEditable(puzzle, context, writingDirection, result);
        return result;
    }
    ;
    onGridNavigation(puzzle, navigation, position) {
        let result = [];
        let context = this.getEditContext(puzzle);
        let writingDirection;
        let ctx;
        if (this.isParallelMotion(context.entryDirection, navigation) || navigation === "absolute") {
            switch (navigation) {
                case "right":
                case "down":
                    ctx = context;
                    writingDirection = "forward";
                    break;
                case "left":
                case "up":
                    ctx = context;
                    writingDirection = "backward";
                    break;
                case "absolute":
                    if (position) {
                        let cell = puzzle.grid.cellAt(position.x, position.y);
                        if (cell.highlight) {
                            let idx = context.cells.findIndex(c => c.id == cell.id);
                            ctx = new _grid_editor__WEBPACK_IMPORTED_MODULE_2__["EditContext"](context.cells, idx, context.entryDirection);
                            writingDirection = "static";
                        }
                    }
                    break;
                default:
                    break;
            }
            if (writingDirection) {
                this.makeNextCellEditable(puzzle, ctx, writingDirection, result);
            }
            else {
                result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
            }
        }
        else {
            result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
        }
        return result;
    }
    isParallelMotion(direction, navigation) {
        if (direction === "across") {
            return navigation === "left" || navigation == "right";
        }
        else {
            return navigation === "up" || navigation == "down";
        }
    }
    makeNextCellEditable(puzzle, context, writingDirection, result) {
        let nextIndex;
        switch (writingDirection) {
            case "forward":
                nextIndex = context.editIndex + 1;
                break;
            case "backward":
                nextIndex = context.editIndex - 1;
                break;
            case "static":
            default:
                nextIndex = context.editIndex;
                break;
        }
        if (nextIndex < 0) {
            this.onUnderflow(puzzle, context, result);
        }
        else if (nextIndex >= context.cells.length) {
            this.onOverflow(puzzle, context, result);
        }
        else {
            result.push(new src_app_services_modifiers_make_cell_editable__WEBPACK_IMPORTED_MODULE_5__["MakeCellEditable"](context.cells[nextIndex].id));
        }
    }
    onUnderflow(puzzle, context, result) {
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
    }
    onOverflow(puzzle, context, result) {
        result.push(new src_app_services_modifiers_clear__WEBPACK_IMPORTED_MODULE_3__["Clear"]());
    }
}


/***/ }),

/***/ "./src/app/ui/services/grid-painter.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/ui/services/grid-painter.service.ts ***!
  \*****************************************************/
/*! exports provided: GridDisplayInfo, GridPainterService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridDisplayInfo", function() { return GridDisplayInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridPainterService", function() { return GridPainterService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common */ "./src/app/ui/common.ts");



class GridDisplayInfo {
}
let GridPainterService = class GridPainterService {
    // TO DO: IMPORTANT!
    // review this component for XSS vunerabilities
    constructor() {
        this.gridParams = new _common__WEBPACK_IMPORTED_MODULE_2__["GridParameters"]();
    }
    // public getGridInfo(context: CanvasRenderingContext2D, grid: Grid, options: GridOptions): GridDisplayInfo {
    //     let rect = context.canvas.getBoundingClientRect();
    //     return {
    //         top: rect.top + window.scrollX,
    //         left: rect.bottom + window.scrollY,
    //         height:rect.height,
    //         width: rect.width,
    //         unit: "px",
    //     }
    // }
    getCellInfo(context, grid, cellId) {
        let cell = grid.cells.find(c => c.id === cellId);
        if (!cell) {
            return null;
        }
        else {
            // TO DO: this calculation is duplicated when drawing the grid
            // make this a common function
            const top = this.gridParams.gridPadding - this.gridParams.borderWidth + cell.y * this.gridParams.cellSize;
            const left = this.gridParams.gridPadding - this.gridParams.borderWidth + cell.x * this.gridParams.cellSize;
            const size = this.gridParams.cellSize + 2 * this.gridParams.borderWidth;
            return {
                top,
                left,
                height: size,
                width: size,
                unit: "px",
            };
        }
    }
    drawGrid(context, grid, options) {
        context.setTransform(1, 0, 0, 1, 0, 0);
        context.fillStyle = "white";
        context.fillRect(0, 0, context.canvas.width, context.canvas.height);
        context.translate(this.gridParams.gridPadding, this.gridParams.gridPadding);
        grid.cells.forEach((cell) => {
            this.drawCell(context, cell, options);
        });
    }
    drawCell(context, cell, options) {
        const top = cell.y * this.gridParams.cellSize;
        const left = cell.x * this.gridParams.cellSize;
        const size = this.gridParams.cellSize;
        if (!cell.light) {
            // blank-out  the cells that can't hold content
            this.fillCell(context, left, top, this.gridParams.gridColor);
        }
        else {
            // highlight cells that are in focus
            if (cell.highlight) {
                this.fillCell(context, left, top, this.gridParams.highlightColor);
            }
            else if (options && options.showShading && cell.shading) {
                this.fillCell(context, left, top, cell.shading);
            }
            // draw the caption
            if (cell.caption.trim()) {
                this.drawCaption(context, left, top, cell.caption.trim());
            }
            // draw the cell context
            if (cell.content.trim()) {
                this.drawContent(context, left, top, cell.content.trim());
            }
            // draw in bars
            if (cell.rightBar) {
                this.drawLine(context, [left + size - this.gridParams.barWidth + 1, top], [left + size - this.gridParams.barWidth + 1, top + size], this.gridParams.barWidth, this.gridParams.gridColor);
            }
            if (cell.bottomBar) {
                this.drawLine(context, [left, top + size - this.gridParams.barWidth + 1], [left + size, top + size - this.gridParams.barWidth + 1], this.gridParams.barWidth, this.gridParams.gridColor);
            }
        }
        // all cells get borders regardless of whether they hold content
        // draw top border for cells at the top of the grid
        if (cell.y === 0) {
            this.drawLine(context, [left, top - 0.5], [left + size, top - 0.5], this.gridParams.borderWidth, this.gridParams.gridColor);
        }
        // draw left border for cells at the left of the grid
        if (cell.x === 0) {
            this.drawLine(context, [left - 0.5, top], [left - 0.5, top + size], this.gridParams.borderWidth, this.gridParams.gridColor);
        }
        // draw right border for all cells
        this.drawLine(context, [left + size - 0.5, top], [left + size - 0.5, top + size], this.gridParams.borderWidth, this.gridParams.gridColor);
        // draw bottom border for all cells
        this.drawLine(context, [left, top + size - 0.5], [left + size, top + size - 0.5], this.gridParams.borderWidth, this.gridParams.gridColor);
    }
    fillCell(context, left, top, color) {
        context.beginPath();
        context.fillStyle = color;
        context.rect(left - 1 + this.gridParams.borderWidth, top - 1 + this.gridParams.borderWidth, this.gridParams.cellSize - this.gridParams.borderWidth * 2 + 1, this.gridParams.cellSize - this.gridParams.borderWidth * 2 + 1);
        context.fill();
    }
    drawLine(context, from, to, width, color) {
        context.beginPath();
        context.strokeStyle = color;
        context.lineWidth = width;
        context.moveTo(from[0], from[1]);
        context.lineTo(to[0], to[1]);
        context.stroke();
    }
    drawCaption(context, left, top, caption) {
        context.font = this.gridParams.captionFont;
        context.textAlign = "start";
        context.textBaseline = "hanging";
        context.direction = "ltr";
        context.fillStyle = this.gridParams.gridColor;
        context.fillText(caption, left + this.gridParams.cellPadding, top + this.gridParams.cellPadding);
    }
    drawContent(context, left, top, content) {
        context.font = this.gridParams.textFont;
        context.textAlign = "center";
        context.textBaseline = "middle";
        context.direction = "ltr";
        context.fillStyle = this.gridParams.gridColor;
        context.fillText(content, left + this.gridParams.cellSize / 2, top + this.gridParams.cellSize / 2);
    }
};
GridPainterService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
        providedIn: 'root'
    })
], GridPainterService);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.

const environment = {
    production: false,
    apiRoot: "http://localhost:49323/api/",
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_4__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_2__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"])
    .catch(err => console.error(err));


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\CODE\xw-utils\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);