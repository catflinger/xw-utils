<div class="modal-body" *ngIf="puzzle">

    <ng-container *ngIf="showTabs">

        <ul ngbNav #nav="ngbNav" [(activeId)]="activeId" class="nav-tabs" (navChange)="onNavChange($event)">

            <li ngbNavItem="ClueAnnotatorComponent">
                <a ngbNavLink>Solve and annotate</a>
                <ng-template ngbNavContent>
                    <app-clue-annotator (dirty)="onDirty()">
                    </app-clue-annotator>
                </ng-template>
            </li>

            <li ngbNavItem="ClueTextEditorComponent">
                <a ngbNavLink>Edit clue text</a>
                <ng-template ngbNavContent>
                    <app-edit-clue-form (dirty)="onDirty()"></app-edit-clue-form>
                </ng-template>
            </li>

            <li ngbNavItem="AddRemoveClueComponent">
                <a ngbNavLink>Remove this clue</a>
                <ng-template ngbNavContent>
                    <app-add-remove-clue (dirty)="onDirty()" (close)="onSave()"></app-add-remove-clue>
                </ng-template>
            </li>

            <li ngbNavItem="GridLinkerComponent" *ngIf="puzzle.grid">
                <a ngbNavLink>Grid entries</a>
                <ng-template ngbNavContent>
                    <app-grid-linker (dirty)="onDirty()"></app-grid-linker>
                </ng-template>
            </li>
        </ul>

        <div [ngbNavOutlet]="nav" class="my-3"></div>

    </ng-container>

    <ng-container *ngIf="!showTabs">
        <app-clue-annotator (dirty)="onDirty()"></app-clue-annotator>
    </ng-container>

</div>

<div class="modal-footer">
    <button type="button" class="btn btn-outline-dark mr-3" (click)="onSave()" [ngClass]="{ 'd-none': hideSaveCancelButtons }">Save</button>
    <button type="button" class="btn btn-outline-dark mr-3" (click)="onCancel()" [ngClass]="{ 'd-none': hideSaveCancelButtons }">Discard</button>
    <button type="button" class="btn btn-outline-dark mr-3" (click)="onClose()" [ngClass]="{ 'd-none': !hideSaveCancelButtons }">Close</button>
</div>
