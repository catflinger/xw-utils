<div class="row" *ngIf="puzzle">
    <div class="col">
        <h5>{{puzzle.info.title}}</h5>
    </div>
</div>

<div class="row" *ngIf="puzzle">
    <div class="col">
        <app-grid (cellClick)="onCellClick($event)" (barClick)="onBarClick($event)"></app-grid>
    </div>
    <div class="col border border-secondary rounded p-3">
        <app-tip key="gridEditor">TO DO: ...</app-tip>
        
        <ngb-tabset [justify]="currentJustify" [activeId]="grid" (tabChange)="onTabChange($event)">

            <ngb-tab id="grid" title="Grid">
                <ng-template ngbTabContent>
                    <div class="w-100 mt-5">
                        Click on the grid to add or remove
                        <span *ngIf="barred">bars</span>
                        <span *ngIf="!barred">lights and dark cells</span>
                    </div>
                    <div class="form-check mt-5">
                        <input disabled="true" id="symmetrical" type="checkbox" class="form-check-input" [checked]="symmetrical" (change)="onSymmetrical(!symmetrical)"/>
                        <label for="symmetrical" class="form-check-label">Grid is symmetrical </label>
                    </div>
                </ng-template>
            </ngb-tab>

            <ngb-tab id="text" title="Text">
                <ng-template ngbTabContent>
                    Text Tool
                </ng-template>
            </ngb-tab>

            <ngb-tab id="color" title="Colours">
                <ng-template ngbTabContent>
                    Highlight tool
                </ng-template>
            </ngb-tab>

            <ngb-tab id="properties" title="Grid properties">
                <ng-template ngbTabContent>
                    <form [formGroup]="form">
                        <div class="form-group mt-5">
                            <label for="title">Title</label>
                            <input id="title" type="text" class="form-control" formControlName="title">
                        </div>
                        <div class="form-group">
                            <button type="button" [disabled]="!form.valid || form.pristine" (click)="onSubmit()">Save</button>
                        </div>
                    </form>
                </ng-template>
            </ngb-tab>

        </ngb-tabset>
    </div>
</div>

<div class="row" *ngIf="puzzle">
    <div class="col">
        <button type="button" class="btn btn-primary mr-3" (click)="onContinue()">Continue</button>
        <button type="button" class="btn btn-primary mr-3" (click)="onClose()">Close</button>
    </div>
</div>