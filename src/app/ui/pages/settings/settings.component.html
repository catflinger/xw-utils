<h3 class="mt-3">Settings</h3>

<form [formGroup]="form" class="form">

    <h5 class="mt-5">Footer</h5>

    <div class="form-group">
        <p>To be displayed at the bottom of your posts</p>
        <quill-editor formControlName="footer" format="object"></quill-editor>
    </div>
    
    <h5 class="mt-5">Solving and blogging options</h5>

    <div formGroupName="general">
        <div class="form-check" *ngFor="let key of generalKeys">
            <input type="checkbox" class="form-check-input" [formControlName]="key">
            <label class="form-check-label">{{settings.general[key].caption}}</label>
        </div>
    </div>

    <h5 class="mt-5">Help tips</h5>

    <div formGroupName="tips">
        <div class="form-check" *ngFor="let key of tipKeys">
            <input type="checkbox" class="form-check-input" [formControlName]="key">
            <label class="form-check-label">{{settings.tips[key].caption}}</label>
        </div>
    </div>

    <h5 class="mt-5">Google diary settings</h5>

    <div formGroupName="diary">
        <div class="form-group">
            <p>Diary aliases - the name(s) by which you are known in the Googe diary</p>
            <div formArrayName="aliases">
                <app-diary-alias-control 
                    *ngFor="let alias of form.get('diary').get('aliases').controls; let i = index;" 
                    [formControlName]="i" 
                    (remove)="onRemoveAlias($event)"
                    [editable]="!alias.value.length"
                    [tag]="i">
                </app-diary-alias-control>

                <button class="btn btn-primary" (click)="onAddAlias()">Add alias</button>
            </div>
        </div>

        <div class="form-check">
            <input type="checkbox" class="form-check-input" formControlName="showEverybody">
            <label class="form-check-label">Show diary entries for all bloggers</label>
        </div>
        </div>

    <h5 class="mt-5">Publication options</h5>
    <ngb-alert type="warning" *ngIf="form.value.sandbox" [dismissible]="false">
        <p>WARNING: posts will be published to the sandbox only.</p>
        <p>Your post will <i>not</i> appear on fifteensquared.net.</p>
    </ngb-alert>
    <div class="form-check">
        <input type="checkbox" class="form-check-input" formControlName="sandbox">
        <label class="form-check-label">post to sandbox (for testing)</label>
    </div>

    <div class="formGroup mt-5">
        <button class="btn btn-primary mr-3" type="button" (click)="onSave()">Save</button>
        <button class="btn btn-primary mr-3" type="button" (click)="onCancel()">Cancel</button>
        <button class="btn btn-primary" type="button" (click)="onReset()">Reset all</button>
    </div>

</form>